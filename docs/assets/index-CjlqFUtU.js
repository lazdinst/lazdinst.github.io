import{r as nd,g as fp,a as Nx,c as df}from"./react-iN9lqvNv.js";import{L as Kd,T as g0,R as Dx,U as Fx,a as zx,O as Ju,P as zl,S as Fh,b as Qd,N as Bx,A as jx,B as Hf,M as Gx,C as _a,W as Wx,c as Hx,d as Vx,e as Yx,V as Jx,f as Nt,g as ur,h as Xx,i as qx,j as v0,k as Kx,l as Qx,Q as Zu,m as km,n as Cl,o as kl,p as oc,I as y0,F as wo,q as zh,r as Dl,s as Zx,t as dp,u as $x,v as Bh,w as Am,x as rs,y as Bi,z as e2,D as Vo,E as Ol,G as t2,H as n2,J as r2,K as i2,X as Rm,Y as o2,Z as a2,_ as jh,$ as _0,a0 as hp,a1 as Gh,a2 as w0,a3 as Wo,a4 as Zd,a5 as s2,a6 as l2,a7 as x0,a8 as S0,a9 as Pm,aa as Lm,ab as u2,ac as c2,ad as Xu,ae as hf,af as f2,ag as d2,ah as h2,ai as p2,aj as m2,ak as Im,al as g2,am as Om,an as v2,ao as y2,ap as _2,aq as pf,ar as Mm,as as w2,at as b0,au as x2,av as S2,aw as b2,ax as E2,ay as T2,az as C2}from"./three-Brzc3BMF.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function l(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(a){if(a.ep)return;a.ep=!0;const o=l(a);fetch(a.href,o)}})();var $d={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function k2(){if(Um)return Du;Um=1;var t=nd(),e=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(h,d,g){var m,y={},x=null,S=null;g!==void 0&&(x=""+g),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(S=d.ref);for(m in d)u.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(h&&h.defaultProps)for(m in d=h.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:h,key:x,ref:S,props:y,_owner:a.current}}return Du.Fragment=l,Du.jsx=c,Du.jsxs=c,Du}var Nm;function A2(){return Nm||(Nm=1,$d.exports=k2()),$d.exports}var Ge=A2(),ne=nd();const ro=fp(ne);var mf={},Dm;function R2(){if(Dm)return mf;Dm=1;var t=Nx();return mf.createRoot=t.createRoot,mf.hydrateRoot=t.hydrateRoot,mf}var P2=R2(),Rr=function(){return Rr=Object.assign||function(e){for(var l,u=1,a=arguments.length;u<a;u++){l=arguments[u];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},Rr.apply(this,arguments)};function $u(t,e,l){if(l||arguments.length===2)for(var u=0,a=e.length,o;u<a;u++)(o||!(u in e))&&(o||(o=Array.prototype.slice.call(e,0,u)),o[u]=e[u]);return t.concat(o||Array.prototype.slice.call(e))}var kn="-ms-",qu="-moz-",mn="-webkit-",E0="comm",rd="rule",pp="decl",L2="@import",T0="@keyframes",I2="@layer",C0=Math.abs,mp=String.fromCharCode,Wh=Object.assign;function O2(t,e){return Ar(t,0)^45?(((e<<2^Ar(t,0))<<2^Ar(t,1))<<2^Ar(t,2))<<2^Ar(t,3):0}function k0(t){return t.trim()}function ga(t,e){return(t=e.exec(t))?t[0]:t}function Kt(t,e,l){return t.replace(e,l)}function Mf(t,e,l){return t.indexOf(e,l)}function Ar(t,e){return t.charCodeAt(e)|0}function Bl(t,e,l){return t.slice(e,l)}function Ho(t){return t.length}function A0(t){return t.length}function Wu(t,e){return e.push(t),t}function M2(t,e){return t.map(e).join("")}function Fm(t,e){return t.filter(function(l){return!ga(l,e)})}var id=1,jl=1,R0=0,io=0,or=0,Jl="";function od(t,e,l,u,a,o,c,h){return{value:t,root:e,parent:l,type:u,props:a,children:o,line:id,column:jl,length:c,return:"",siblings:h}}function ts(t,e){return Wh(od("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Al(t){for(;t.root;)t=ts(t.root,{children:[t]});Wu(t,t.siblings)}function U2(){return or}function N2(){return or=io>0?Ar(Jl,--io):0,jl--,or===10&&(jl=1,id--),or}function So(){return or=io<R0?Ar(Jl,io++):0,jl++,or===10&&(jl=1,id++),or}function Hs(){return Ar(Jl,io)}function Uf(){return io}function ad(t,e){return Bl(Jl,t,e)}function Hh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D2(t){return id=jl=1,R0=Ho(Jl=t),io=0,[]}function F2(t){return Jl="",t}function eh(t){return k0(ad(io-1,Vh(t===91?t+2:t===40?t+1:t)))}function z2(t){for(;(or=Hs())&&or<33;)So();return Hh(t)>2||Hh(or)>3?"":" "}function B2(t,e){for(;--e&&So()&&!(or<48||or>102||or>57&&or<65||or>70&&or<97););return ad(t,Uf()+(e<6&&Hs()==32&&So()==32))}function Vh(t){for(;So();)switch(or){case t:return io;case 34:case 39:t!==34&&t!==39&&Vh(or);break;case 40:t===41&&Vh(t);break;case 92:So();break}return io}function j2(t,e){for(;So()&&t+or!==57;)if(t+or===84&&Hs()===47)break;return"/*"+ad(e,io-1)+"*"+mp(t===47?t:So())}function G2(t){for(;!Hh(Hs());)So();return ad(t,io)}function W2(t){return F2(Nf("",null,null,null,[""],t=D2(t),0,[0],t))}function Nf(t,e,l,u,a,o,c,h,d){for(var g=0,m=0,y=c,x=0,S=0,E=0,P=1,R=1,A=1,I=0,L="",F=a,D=o,G=u,j=L;R;)switch(E=I,I=So()){case 40:if(E!=108&&Ar(j,y-1)==58){Mf(j+=Kt(eh(I),"&","&\f"),"&\f",C0(g?h[g-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:j+=eh(I);break;case 9:case 10:case 13:case 32:j+=z2(E);break;case 92:j+=B2(Uf()-1,7);continue;case 47:switch(Hs()){case 42:case 47:Wu(H2(j2(So(),Uf()),e,l,d),d);break;default:j+="/"}break;case 123*P:h[g++]=Ho(j)*A;case 125*P:case 59:case 0:switch(I){case 0:case 125:R=0;case 59+m:A==-1&&(j=Kt(j,/\f/g,"")),S>0&&Ho(j)-y&&Wu(S>32?Bm(j+";",u,l,y-1,d):Bm(Kt(j," ","")+";",u,l,y-2,d),d);break;case 59:j+=";";default:if(Wu(G=zm(j,e,l,g,m,a,h,L,F=[],D=[],y,o),o),I===123)if(m===0)Nf(j,e,G,G,F,o,y,h,D);else switch(x===99&&Ar(j,3)===110?100:x){case 100:case 108:case 109:case 115:Nf(t,G,G,u&&Wu(zm(t,G,G,0,0,a,h,L,a,F=[],y,D),D),a,D,y,h,u?F:D);break;default:Nf(j,G,G,G,[""],D,0,h,D)}}g=m=S=0,P=A=1,L=j="",y=c;break;case 58:y=1+Ho(j),S=E;default:if(P<1){if(I==123)--P;else if(I==125&&P++==0&&N2()==125)continue}switch(j+=mp(I),I*P){case 38:A=m>0?1:(j+="\f",-1);break;case 44:h[g++]=(Ho(j)-1)*A,A=1;break;case 64:Hs()===45&&(j+=eh(So())),x=Hs(),m=y=Ho(L=j+=G2(Uf())),I++;break;case 45:E===45&&Ho(j)==2&&(P=0)}}return o}function zm(t,e,l,u,a,o,c,h,d,g,m,y){for(var x=a-1,S=a===0?o:[""],E=A0(S),P=0,R=0,A=0;P<u;++P)for(var I=0,L=Bl(t,x+1,x=C0(R=c[P])),F=t;I<E;++I)(F=k0(R>0?S[I]+" "+L:Kt(L,/&\f/g,S[I])))&&(d[A++]=F);return od(t,e,l,a===0?rd:h,d,g,m,y)}function H2(t,e,l,u){return od(t,e,l,E0,mp(U2()),Bl(t,2,-2),0,u)}function Bm(t,e,l,u,a){return od(t,e,l,pp,Bl(t,0,u),Bl(t,u+1,-1),u,a)}function P0(t,e,l){switch(O2(t,e)){case 5103:return mn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mn+t+t;case 4789:return qu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mn+t+qu+t+kn+t+t;case 5936:switch(Ar(t,e+11)){case 114:return mn+t+kn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mn+t+kn+Kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mn+t+kn+Kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return mn+t+kn+t+t;case 6165:return mn+t+kn+"flex-"+t+t;case 5187:return mn+t+Kt(t,/(\w+).+(:[^]+)/,mn+"box-$1$2"+kn+"flex-$1$2")+t;case 5443:return mn+t+kn+"flex-item-"+Kt(t,/flex-|-self/g,"")+(ga(t,/flex-|baseline/)?"":kn+"grid-row-"+Kt(t,/flex-|-self/g,""))+t;case 4675:return mn+t+kn+"flex-line-pack"+Kt(t,/align-content|flex-|-self/g,"")+t;case 5548:return mn+t+kn+Kt(t,"shrink","negative")+t;case 5292:return mn+t+kn+Kt(t,"basis","preferred-size")+t;case 6060:return mn+"box-"+Kt(t,"-grow","")+mn+t+kn+Kt(t,"grow","positive")+t;case 4554:return mn+Kt(t,/([^-])(transform)/g,"$1"+mn+"$2")+t;case 6187:return Kt(Kt(Kt(t,/(zoom-|grab)/,mn+"$1"),/(image-set)/,mn+"$1"),t,"")+t;case 5495:case 3959:return Kt(t,/(image-set\([^]*)/,mn+"$1$`$1");case 4968:return Kt(Kt(t,/(.+:)(flex-)?(.*)/,mn+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mn+t+t;case 4200:if(!ga(t,/flex-|baseline/))return kn+"grid-column-align"+Bl(t,e)+t;break;case 2592:case 3360:return kn+Kt(t,"template-","")+t;case 4384:case 3616:return l&&l.some(function(u,a){return e=a,ga(u.props,/grid-\w+-end/)})?~Mf(t+(l=l[e].value),"span",0)?t:kn+Kt(t,"-start","")+t+kn+"grid-row-span:"+(~Mf(l,"span",0)?ga(l,/\d+/):+ga(l,/\d+/)-+ga(t,/\d+/))+";":kn+Kt(t,"-start","")+t;case 4896:case 4128:return l&&l.some(function(u){return ga(u.props,/grid-\w+-start/)})?t:kn+Kt(Kt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Kt(t,/(.+)-inline(.+)/,mn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ho(t)-1-e>6)switch(Ar(t,e+1)){case 109:if(Ar(t,e+4)!==45)break;case 102:return Kt(t,/(.+:)(.+)-([^]+)/,"$1"+mn+"$2-$3$1"+qu+(Ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Mf(t,"stretch",0)?P0(Kt(t,"stretch","fill-available"),e,l)+t:t}break;case 5152:case 5920:return Kt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(u,a,o,c,h,d,g){return kn+a+":"+o+g+(c?kn+a+"-span:"+(h?d:+d-+o)+g:"")+t});case 4949:if(Ar(t,e+6)===121)return Kt(t,":",":"+mn)+t;break;case 6444:switch(Ar(t,Ar(t,14)===45?18:11)){case 120:return Kt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+mn+(Ar(t,14)===45?"inline-":"")+"box$3$1"+mn+"$2$3$1"+kn+"$2box$3")+t;case 100:return Kt(t,":",":"+kn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(t,"scroll-","scroll-snap-")+t}return t}function Vf(t,e){for(var l="",u=0;u<t.length;u++)l+=e(t[u],u,t,e)||"";return l}function V2(t,e,l,u){switch(t.type){case I2:if(t.children.length)break;case L2:case pp:return t.return=t.return||t.value;case E0:return"";case T0:return t.return=t.value+"{"+Vf(t.children,u)+"}";case rd:if(!Ho(t.value=t.props.join(",")))return""}return Ho(l=Vf(t.children,u))?t.return=t.value+"{"+l+"}":""}function Y2(t){var e=A0(t);return function(l,u,a,o){for(var c="",h=0;h<e;h++)c+=t[h](l,u,a,o)||"";return c}}function J2(t){return function(e){e.root||(e=e.return)&&t(e)}}function X2(t,e,l,u){if(t.length>-1&&!t.return)switch(t.type){case pp:t.return=P0(t.value,t.length,l);return;case T0:return Vf([ts(t,{value:Kt(t.value,"@","@"+mn)})],u);case rd:if(t.length)return M2(l=t.props,function(a){switch(ga(a,u=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Al(ts(t,{props:[Kt(a,/:(read-\w+)/,":"+qu+"$1")]})),Al(ts(t,{props:[a]})),Wh(t,{props:Fm(l,u)});break;case"::placeholder":Al(ts(t,{props:[Kt(a,/:(plac\w+)/,":"+mn+"input-$1")]})),Al(ts(t,{props:[Kt(a,/:(plac\w+)/,":"+qu+"$1")]})),Al(ts(t,{props:[Kt(a,/:(plac\w+)/,kn+"input-$1")]})),Al(ts(t,{props:[a]})),Wh(t,{props:Fm(l,u)});break}return""})}}var q2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zi={},Gl=typeof process<"u"&&zi!==void 0&&(zi.REACT_APP_SC_ATTR||zi.SC_ATTR)||"data-styled",L0="active",I0="data-styled-version",sd="6.1.13",gp=`/*!sc*/
`,Yf=typeof window<"u"&&"HTMLElement"in window,K2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&zi!==void 0&&zi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&zi.REACT_APP_SC_DISABLE_SPEEDY!==""?zi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&zi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&zi!==void 0&&zi.SC_DISABLE_SPEEDY!==void 0&&zi.SC_DISABLE_SPEEDY!==""&&zi.SC_DISABLE_SPEEDY!=="false"&&zi.SC_DISABLE_SPEEDY),Q2={},ld=Object.freeze([]),Wl=Object.freeze({});function O0(t,e,l){return l===void 0&&(l=Wl),t.theme!==l.theme&&t.theme||e||l.theme}var M0=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Z2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$2=/(^-|-$)/g;function jm(t){return t.replace(Z2,"-").replace($2,"")}var eS=/(a)(d)/gi,gf=52,Gm=function(t){return String.fromCharCode(t+(t>25?39:97))};function Yh(t){var e,l="";for(e=Math.abs(t);e>gf;e=e/gf|0)l=Gm(e%gf)+l;return(Gm(e%gf)+l).replace(eS,"$1-$2")}var th,U0=5381,Fl=function(t,e){for(var l=e.length;l;)t=33*t^e.charCodeAt(--l);return t},N0=function(t){return Fl(U0,t)};function D0(t){return Yh(N0(t)>>>0)}function tS(t){return t.displayName||t.name||"Component"}function nh(t){return typeof t=="string"&&!0}var F0=typeof Symbol=="function"&&Symbol.for,z0=F0?Symbol.for("react.memo"):60115,nS=F0?Symbol.for("react.forward_ref"):60112,rS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},iS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oS=((th={})[nS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},th[z0]=B0,th);function Wm(t){return("type"in(e=t)&&e.type.$$typeof)===z0?B0:"$$typeof"in t?oS[t.$$typeof]:rS;var e}var aS=Object.defineProperty,sS=Object.getOwnPropertyNames,Hm=Object.getOwnPropertySymbols,lS=Object.getOwnPropertyDescriptor,uS=Object.getPrototypeOf,Vm=Object.prototype;function j0(t,e,l){if(typeof e!="string"){if(Vm){var u=uS(e);u&&u!==Vm&&j0(t,u,l)}var a=sS(e);Hm&&(a=a.concat(Hm(e)));for(var o=Wm(t),c=Wm(e),h=0;h<a.length;++h){var d=a[h];if(!(d in iS||l&&l[d]||c&&d in c||o&&d in o)){var g=lS(e,d);try{aS(t,d,g)}catch{}}}}return t}function Js(t){return typeof t=="function"}function vp(t){return typeof t=="object"&&"styledComponentId"in t}function Ws(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Jh(t,e){if(t.length===0)return"";for(var l=t[0],u=1;u<t.length;u++)l+=t[u];return l}function ec(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Xh(t,e,l){if(l===void 0&&(l=!1),!l&&!ec(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var u=0;u<e.length;u++)t[u]=Xh(t[u],e[u]);else if(ec(e))for(var u in e)t[u]=Xh(t[u],e[u]);return t}function yp(t,e){Object.defineProperty(t,"toString",{value:e})}function Xs(t){for(var e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var cS=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var l=0,u=0;u<e;u++)l+=this.groupSizes[u];return l},t.prototype.insertRules=function(e,l){if(e>=this.groupSizes.length){for(var u=this.groupSizes,a=u.length,o=a;e>=o;)if((o<<=1)<0)throw Xs(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(u),this.length=o;for(var c=a;c<o;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(e+1),d=(c=0,l.length);c<d;c++)this.tag.insertRule(h,l[c])&&(this.groupSizes[e]++,h++)},t.prototype.clearGroup=function(e){if(e<this.length){var l=this.groupSizes[e],u=this.indexOfGroup(e),a=u+l;this.groupSizes[e]=0;for(var o=u;o<a;o++)this.tag.deleteRule(u)}},t.prototype.getGroup=function(e){var l="";if(e>=this.length||this.groupSizes[e]===0)return l;for(var u=this.groupSizes[e],a=this.indexOfGroup(e),o=a+u,c=a;c<o;c++)l+="".concat(this.tag.getRule(c)).concat(gp);return l},t}(),Df=new Map,Jf=new Map,Ff=1,vf=function(t){if(Df.has(t))return Df.get(t);for(;Jf.has(Ff);)Ff++;var e=Ff++;return Df.set(t,e),Jf.set(e,t),e},fS=function(t,e){Ff=e+1,Df.set(t,e),Jf.set(e,t)},dS="style[".concat(Gl,"][").concat(I0,'="').concat(sd,'"]'),hS=new RegExp("^".concat(Gl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),pS=function(t,e,l){for(var u,a=l.split(","),o=0,c=a.length;o<c;o++)(u=a[o])&&t.registerName(e,u)},mS=function(t,e){for(var l,u=((l=e.textContent)!==null&&l!==void 0?l:"").split(gp),a=[],o=0,c=u.length;o<c;o++){var h=u[o].trim();if(h){var d=h.match(hS);if(d){var g=0|parseInt(d[1],10),m=d[2];g!==0&&(fS(m,g),pS(t,m,d[3]),t.getTag().insertRules(g,a)),a.length=0}else a.push(h)}}},Ym=function(t){for(var e=document.querySelectorAll(dS),l=0,u=e.length;l<u;l++){var a=e[l];a&&a.getAttribute(Gl)!==L0&&(mS(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function gS(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var G0=function(t){var e=document.head,l=t||e,u=document.createElement("style"),a=function(h){var d=Array.from(h.querySelectorAll("style[".concat(Gl,"]")));return d[d.length-1]}(l),o=a!==void 0?a.nextSibling:null;u.setAttribute(Gl,L0),u.setAttribute(I0,sd);var c=gS();return c&&u.setAttribute("nonce",c),l.insertBefore(u,o),u},vS=function(){function t(e){this.element=G0(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(l){if(l.sheet)return l.sheet;for(var u=document.styleSheets,a=0,o=u.length;a<o;a++){var c=u[a];if(c.ownerNode===l)return c}throw Xs(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,l){try{return this.sheet.insertRule(l,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var l=this.sheet.cssRules[e];return l&&l.cssText?l.cssText:""},t}(),yS=function(){function t(e){this.element=G0(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,l){if(e<=this.length&&e>=0){var u=document.createTextNode(l);return this.element.insertBefore(u,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),_S=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,l){return e<=this.length&&(this.rules.splice(e,0,l),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Jm=Yf,wS={isServer:!Yf,useCSSOMInjection:!K2},Xf=function(){function t(e,l,u){e===void 0&&(e=Wl),l===void 0&&(l={});var a=this;this.options=Rr(Rr({},wS),e),this.gs=l,this.names=new Map(u),this.server=!!e.isServer,!this.server&&Yf&&Jm&&(Jm=!1,Ym(this)),yp(this,function(){return function(o){for(var c=o.getTag(),h=c.length,d="",g=function(y){var x=function(A){return Jf.get(A)}(y);if(x===void 0)return"continue";var S=o.names.get(x),E=c.getGroup(y);if(S===void 0||!S.size||E.length===0)return"continue";var P="".concat(Gl,".g").concat(y,'[id="').concat(x,'"]'),R="";S!==void 0&&S.forEach(function(A){A.length>0&&(R+="".concat(A,","))}),d+="".concat(E).concat(P,'{content:"').concat(R,'"}').concat(gp)},m=0;m<h;m++)g(m);return d}(a)})}return t.registerId=function(e){return vf(e)},t.prototype.rehydrate=function(){!this.server&&Yf&&Ym(this)},t.prototype.reconstructWithOptions=function(e,l){return l===void 0&&(l=!0),new t(Rr(Rr({},this.options),e),this.gs,l&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(l){var u=l.useCSSOMInjection,a=l.target;return l.isServer?new _S(a):u?new vS(a):new yS(a)}(this.options),new cS(e)));var e},t.prototype.hasNameForId=function(e,l){return this.names.has(e)&&this.names.get(e).has(l)},t.prototype.registerName=function(e,l){if(vf(e),this.names.has(e))this.names.get(e).add(l);else{var u=new Set;u.add(l),this.names.set(e,u)}},t.prototype.insertRules=function(e,l,u){this.registerName(e,l),this.getTag().insertRules(vf(e),u)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(vf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),xS=/&/g,SS=/^\s*\/\/.*$/gm;function W0(t,e){return t.map(function(l){return l.type==="rule"&&(l.value="".concat(e," ").concat(l.value),l.value=l.value.replaceAll(",",",".concat(e," ")),l.props=l.props.map(function(u){return"".concat(e," ").concat(u)})),Array.isArray(l.children)&&l.type!=="@keyframes"&&(l.children=W0(l.children,e)),l})}function bS(t){var e,l,u,a=Wl,o=a.options,c=o===void 0?Wl:o,h=a.plugins,d=h===void 0?ld:h,g=function(x,S,E){return E.startsWith(l)&&E.endsWith(l)&&E.replaceAll(l,"").length>0?".".concat(e):x},m=d.slice();m.push(function(x){x.type===rd&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(xS,l).replace(u,g))}),c.prefix&&m.push(X2),m.push(V2);var y=function(x,S,E,P){S===void 0&&(S=""),E===void 0&&(E=""),P===void 0&&(P="&"),e=P,l=S,u=new RegExp("\\".concat(l,"\\b"),"g");var R=x.replace(SS,""),A=W2(E||S?"".concat(E," ").concat(S," { ").concat(R," }"):R);c.namespace&&(A=W0(A,c.namespace));var I=[];return Vf(A,Y2(m.concat(J2(function(L){return I.push(L)})))),I};return y.hash=d.length?d.reduce(function(x,S){return S.name||Xs(15),Fl(x,S.name)},U0).toString():"",y}var ES=new Xf,qh=bS(),H0=ro.createContext({shouldForwardProp:void 0,styleSheet:ES,stylis:qh});H0.Consumer;ro.createContext(void 0);function Kh(){return ne.useContext(H0)}var TS=function(){function t(e,l){var u=this;this.inject=function(a,o){o===void 0&&(o=qh);var c=u.name+o.hash;a.hasNameForId(u.id,c)||a.insertRules(u.id,c,o(u.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=l,yp(this,function(){throw Xs(12,String(u.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=qh),this.name+e.hash},t}(),CS=function(t){return t>="A"&&t<="Z"};function Xm(t){for(var e="",l=0;l<t.length;l++){var u=t[l];if(l===1&&u==="-"&&t[0]==="-")return t;CS(u)?e+="-"+u.toLowerCase():e+=u}return e.startsWith("ms-")?"-"+e:e}var V0=function(t){return t==null||t===!1||t===""},Y0=function(t){var e,l,u=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!V0(o)&&(Array.isArray(o)&&o.isCss||Js(o)?u.push("".concat(Xm(a),":"),o,";"):ec(o)?u.push.apply(u,$u($u(["".concat(a," {")],Y0(o),!1),["}"],!1)):u.push("".concat(Xm(a),": ").concat((e=a,(l=o)==null||typeof l=="boolean"||l===""?"":typeof l!="number"||l===0||e in q2||e.startsWith("--")?String(l).trim():"".concat(l,"px")),";")))}return u};function ns(t,e,l,u){if(V0(t))return[];if(vp(t))return[".".concat(t.styledComponentId)];if(Js(t)){if(!Js(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var a=t(e);return ns(a,e,l,u)}var o;return t instanceof TS?l?(t.inject(l,u),[t.getName(u)]):[t]:ec(t)?Y0(t):Array.isArray(t)?Array.prototype.concat.apply(ld,t.map(function(c){return ns(c,e,l,u)})):[t.toString()]}function J0(t){for(var e=0;e<t.length;e+=1){var l=t[e];if(Js(l)&&!vp(l))return!1}return!0}var kS=N0(sd),AS=function(){function t(e,l,u){this.rules=e,this.staticRulesId="",this.isStatic=(u===void 0||u.isStatic)&&J0(e),this.componentId=l,this.baseHash=Fl(kS,l),this.baseStyle=u,Xf.registerId(l)}return t.prototype.generateAndInjectStyles=function(e,l,u){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,l,u):"";if(this.isStatic&&!u.hash)if(this.staticRulesId&&l.hasNameForId(this.componentId,this.staticRulesId))a=Ws(a,this.staticRulesId);else{var o=Jh(ns(this.rules,e,l,u)),c=Yh(Fl(this.baseHash,o)>>>0);if(!l.hasNameForId(this.componentId,c)){var h=u(o,".".concat(c),void 0,this.componentId);l.insertRules(this.componentId,c,h)}a=Ws(a,c),this.staticRulesId=c}else{for(var d=Fl(this.baseHash,u.hash),g="",m=0;m<this.rules.length;m++){var y=this.rules[m];if(typeof y=="string")g+=y;else if(y){var x=Jh(ns(y,e,l,u));d=Fl(d,x+m),g+=x}}if(g){var S=Yh(d>>>0);l.hasNameForId(this.componentId,S)||l.insertRules(this.componentId,S,u(g,".".concat(S),void 0,this.componentId)),a=Ws(a,S)}}return a},t}(),tc=ro.createContext(void 0);tc.Consumer;function RS(t){var e=ro.useContext(tc),l=ne.useMemo(function(){return function(u,a){if(!u)throw Xs(14);if(Js(u)){var o=u(a);return o}if(Array.isArray(u)||typeof u!="object")throw Xs(8);return a?Rr(Rr({},a),u):u}(t.theme,e)},[t.theme,e]);return t.children?ro.createElement(tc.Provider,{value:l},t.children):null}var rh={};function PS(t,e,l){var u=vp(t),a=t,o=!nh(t),c=e.attrs,h=c===void 0?ld:c,d=e.componentId,g=d===void 0?function(F,D){var G=typeof F!="string"?"sc":jm(F);rh[G]=(rh[G]||0)+1;var j="".concat(G,"-").concat(D0(sd+G+rh[G]));return D?"".concat(D,"-").concat(j):j}(e.displayName,e.parentComponentId):d,m=e.displayName,y=m===void 0?function(F){return nh(F)?"styled.".concat(F):"Styled(".concat(tS(F),")")}(t):m,x=e.displayName&&e.componentId?"".concat(jm(e.displayName),"-").concat(e.componentId):e.componentId||g,S=u&&a.attrs?a.attrs.concat(h).filter(Boolean):h,E=e.shouldForwardProp;if(u&&a.shouldForwardProp){var P=a.shouldForwardProp;if(e.shouldForwardProp){var R=e.shouldForwardProp;E=function(F,D){return P(F,D)&&R(F,D)}}else E=P}var A=new AS(l,x,u?a.componentStyle:void 0);function I(F,D){return function(G,j,W){var X=G.attrs,K=G.componentStyle,ie=G.defaultProps,V=G.foldedComponentIds,fe=G.styledComponentId,pe=G.target,be=ro.useContext(tc),le=Kh(),Te=G.shouldForwardProp||le.shouldForwardProp,Y=O0(j,be,ie)||Wl,Q=function($,ae,ce){for(var _e,Oe=Rr(Rr({},ae),{className:void 0,theme:ce}),Be=0;Be<$.length;Be+=1){var Pe=Js(_e=$[Be])?_e(Oe):_e;for(var Ce in Pe)Oe[Ce]=Ce==="className"?Ws(Oe[Ce],Pe[Ce]):Ce==="style"?Rr(Rr({},Oe[Ce]),Pe[Ce]):Pe[Ce]}return ae.className&&(Oe.className=Ws(Oe.className,ae.className)),Oe}(X,j,Y),J=Q.as||pe,B={};for(var Z in Q)Q[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&Q.theme===Y||(Z==="forwardedAs"?B.as=Q.forwardedAs:Te&&!Te(Z,J)||(B[Z]=Q[Z]));var ee=function($,ae){var ce=Kh(),_e=$.generateAndInjectStyles(ae,ce.styleSheet,ce.stylis);return _e}(K,Q),se=Ws(V,fe);return ee&&(se+=" "+ee),Q.className&&(se+=" "+Q.className),B[nh(J)&&!M0.has(J)?"class":"className"]=se,B.ref=W,ne.createElement(J,B)}(L,F,D)}I.displayName=y;var L=ro.forwardRef(I);return L.attrs=S,L.componentStyle=A,L.displayName=y,L.shouldForwardProp=E,L.foldedComponentIds=u?Ws(a.foldedComponentIds,a.styledComponentId):"",L.styledComponentId=x,L.target=u?a.target:t,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=u?function(D){for(var G=[],j=1;j<arguments.length;j++)G[j-1]=arguments[j];for(var W=0,X=G;W<X.length;W++)Xh(D,X[W],!0);return D}({},a.defaultProps,F):F}}),yp(L,function(){return".".concat(L.styledComponentId)}),o&&j0(L,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function qm(t,e){for(var l=[t[0]],u=0,a=e.length;u<a;u+=1)l.push(e[u],t[u+1]);return l}var Km=function(t){return Object.assign(t,{isCss:!0})};function X0(t){for(var e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];if(Js(t)||ec(t))return Km(ns(qm(ld,$u([t],e,!0))));var u=t;return e.length===0&&u.length===1&&typeof u[0]=="string"?ns(u):Km(ns(qm(u,e)))}function Qh(t,e,l){if(l===void 0&&(l=Wl),!e)throw Xs(1,e);var u=function(a){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return t(e,l,X0.apply(void 0,$u([a],o,!1)))};return u.attrs=function(a){return Qh(t,e,Rr(Rr({},l),{attrs:Array.prototype.concat(l.attrs,a).filter(Boolean)}))},u.withConfig=function(a){return Qh(t,e,Rr(Rr({},l),a))},u}var q0=function(t){return Qh(PS,t)},yn=q0;M0.forEach(function(t){yn[t]=q0(t)});var LS=function(){function t(e,l){this.rules=e,this.componentId=l,this.isStatic=J0(e),Xf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,l,u,a){var o=a(Jh(ns(this.rules,l,u,a)),""),c=this.componentId+e;u.insertRules(c,c,o)},t.prototype.removeStyles=function(e,l){l.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,l,u,a){e>2&&Xf.registerId(this.componentId+e),this.removeStyles(e,u),this.createStyles(e,l,u,a)},t}();function IS(t){for(var e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];var u=X0.apply(void 0,$u([t],e,!1)),a="sc-global-".concat(D0(JSON.stringify(u))),o=new LS(u,a),c=function(d){var g=Kh(),m=ro.useContext(tc),y=ro.useRef(g.styleSheet.allocateGSInstance(a)).current;return g.styleSheet.server&&h(y,d,g.styleSheet,m,g.stylis),ro.useLayoutEffect(function(){if(!g.styleSheet.server)return h(y,d,g.styleSheet,m,g.stylis),function(){return o.removeStyles(y,g.styleSheet)}},[y,d,g.styleSheet,m,g.stylis]),null};function h(d,g,m,y,x){if(o.isStatic)o.renderStyles(d,Q2,m,x);else{var S=Rr(Rr({},g),{theme:O0(g,y,c.defaultProps)});o.renderStyles(d,S,m,x)}}return ro.memo(c)}const OS=yn.div`
  width: 100%;
  height: 100%;
  position: relative;
`;var ih={exports:{}},Za={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function MS(){return Qm||(Qm=1,Za.ConcurrentRoot=1,Za.ContinuousEventPriority=4,Za.DefaultEventPriority=16,Za.DiscreteEventPriority=1,Za.IdleEventPriority=536870912,Za.LegacyRoot=0),Za}var Zm;function US(){return Zm||(Zm=1,ih.exports=MS()),ih.exports}var Hu=US();function NS(t){let e;const l=new Set,u=(g,m)=>{const y=typeof g=="function"?g(e):g;if(y!==e){const x=e;e=m?y:Object.assign({},e,y),l.forEach(S=>S(e,x))}},a=()=>e,o=(g,m=a,y=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let x=m(e);function S(){const E=m(e);if(!y(x,E)){const P=x;g(x=E,P)}}return l.add(S),()=>l.delete(S)},d={setState:u,getState:a,subscribe:(g,m,y)=>m||y?o(g,m,y):(l.add(g),()=>l.delete(g)),destroy:()=>l.clear()};return e=t(u,a,d),d}const DS=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$m=DS?ne.useEffect:ne.useLayoutEffect;function FS(t){const e=typeof t=="function"?NS(t):t,l=(u=e.getState,a=Object.is)=>{const[,o]=ne.useReducer(R=>R+1,0),c=e.getState(),h=ne.useRef(c),d=ne.useRef(u),g=ne.useRef(a),m=ne.useRef(!1),y=ne.useRef();y.current===void 0&&(y.current=u(c));let x,S=!1;(h.current!==c||d.current!==u||g.current!==a||m.current)&&(x=u(c),S=!a(y.current,x)),$m(()=>{S&&(y.current=x),h.current=c,d.current=u,g.current=a,m.current=!1});const E=ne.useRef(c);$m(()=>{const R=()=>{try{const I=e.getState(),L=d.current(I);g.current(y.current,L)||(h.current=I,y.current=L,o())}catch{m.current=!0,o()}},A=e.subscribe(R);return e.getState()!==E.current&&R(),A},[]);const P=S?x:y.current;return ne.useDebugValue(P),P};return Object.assign(l,e),l[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const u=[l,e];return{next(){const a=u.length<=0;return{value:u.shift(),done:a}}}},l}const zS=t=>typeof t=="object"&&typeof t.then=="function",yf=[];function BS(t,e,l=(u,a)=>u===a){if(t===e)return!0;if(!t||!e)return!1;const u=t.length;if(e.length!==u)return!1;for(let a=0;a<u;a++)if(!l(t[a],e[a]))return!1;return!0}function jS(t,e=null,l=!1,u={}){e===null&&(e=[t]);for(const o of yf)if(BS(e,o.keys,o.equal)){if(l)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return u.lifespan&&u.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,u.lifespan)),o.response;if(!l)throw o.promise}const a={keys:e,equal:u.equal,remove:()=>{const o=yf.indexOf(a);o!==-1&&yf.splice(o,1)},promise:(zS(t)?t:t(...e)).then(o=>{a.response=o,u.lifespan&&u.lifespan>0&&(a.timeout=setTimeout(a.remove,u.lifespan))}).catch(o=>a.error=o)};if(yf.push(a),!l)throw a.promise}const GS=(t,e,l)=>jS(t,e,!1,l);var oh={exports:{}},ah={exports:{}},sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function WS(){return eg||(eg=1,function(t){function e(Y,Q){var J=Y.length;Y.push(Q);e:for(;0<J;){var B=J-1>>>1,Z=Y[B];if(0<a(Z,Q))Y[B]=Q,Y[J]=Z,J=B;else break e}}function l(Y){return Y.length===0?null:Y[0]}function u(Y){if(Y.length===0)return null;var Q=Y[0],J=Y.pop();if(J!==Q){Y[0]=J;e:for(var B=0,Z=Y.length,ee=Z>>>1;B<ee;){var se=2*(B+1)-1,$=Y[se],ae=se+1,ce=Y[ae];if(0>a($,J))ae<Z&&0>a(ce,$)?(Y[B]=ce,Y[ae]=J,B=ae):(Y[B]=$,Y[se]=J,B=se);else if(ae<Z&&0>a(ce,J))Y[B]=ce,Y[ae]=J,B=ae;else break e}}return Q}function a(Y,Q){var J=Y.sortIndex-Q.sortIndex;return J!==0?J:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],g=[],m=1,y=null,x=3,S=!1,E=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Y){for(var Q=l(g);Q!==null;){if(Q.callback===null)u(g);else if(Q.startTime<=Y)u(g),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=l(g)}}function F(Y){if(P=!1,L(Y),!E)if(l(d)!==null)E=!0,le(D);else{var Q=l(g);Q!==null&&Te(F,Q.startTime-Y)}}function D(Y,Q){E=!1,P&&(P=!1,A(W),W=-1),S=!0;var J=x;try{for(L(Q),y=l(d);y!==null&&(!(y.expirationTime>Q)||Y&&!ie());){var B=y.callback;if(typeof B=="function"){y.callback=null,x=y.priorityLevel;var Z=B(y.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===l(d)&&u(d),L(Q)}else u(d);y=l(d)}if(y!==null)var ee=!0;else{var se=l(g);se!==null&&Te(F,se.startTime-Q),ee=!1}return ee}finally{y=null,x=J,S=!1}}var G=!1,j=null,W=-1,X=5,K=-1;function ie(){return!(t.unstable_now()-K<X)}function V(){if(j!==null){var Y=t.unstable_now();K=Y;var Q=!0;try{Q=j(!0,Y)}finally{Q?fe():(G=!1,j=null)}}else G=!1}var fe;if(typeof I=="function")fe=function(){I(V)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,be=pe.port2;pe.port1.onmessage=V,fe=function(){be.postMessage(null)}}else fe=function(){R(V,0)};function le(Y){j=Y,G||(G=!0,fe())}function Te(Y,Q){W=R(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,le(D))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return l(d)},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var J=x;x=Q;try{return Y()}finally{x=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=x;x=Y;try{return Q()}finally{x=J}},t.unstable_scheduleCallback=function(Y,Q,J){var B=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?B+J:B):J=B,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,Y={id:m++,callback:Q,priorityLevel:Y,startTime:J,expirationTime:Z,sortIndex:-1},J>B?(Y.sortIndex=J,e(g,Y),l(d)===null&&Y===l(g)&&(P?(A(W),W=-1):P=!0,Te(F,J-B))):(Y.sortIndex=Z,e(d,Y),E||S||(E=!0,le(D))),Y},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(Y){var Q=x;return function(){var J=x;x=Q;try{return Y.apply(this,arguments)}finally{x=J}}}}(sh)),sh}var tg;function HS(){return tg||(tg=1,ah.exports=WS()),ah.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh,ng;function VS(){return ng||(ng=1,lh=function(e){var l={},u=nd(),a=HS(),o=Object.assign;function c(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),D=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}function j(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case g:return"Portal";case x:return"Profiler";case y:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case E:return(r.displayName||"Context")+".Consumer";case S:return(r._context.displayName||"Context")+".Provider";case P:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:j(r.type)||"Memo";case L:i=r._payload,r=r._init;try{return j(r(i))}catch{}}return null}function W(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(i);case 8:return i===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function X(r){var i=r,f=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(f=i.return),r=i.return;while(r)}return i.tag===3?f:null}function K(r){if(X(r)!==r)throw Error(c(188))}function ie(r){var i=r.alternate;if(!i){if(i=X(r),i===null)throw Error(c(188));return i!==r?null:r}for(var f=r,v=i;;){var _=f.return;if(_===null)break;var b=_.alternate;if(b===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===f)return K(_),r;if(b===v)return K(_),i;b=b.sibling}throw Error(c(188))}if(f.return!==v.return)f=_,v=b;else{for(var H=!1,ue=_.child;ue;){if(ue===f){H=!0,f=_,v=b;break}if(ue===v){H=!0,v=_,f=b;break}ue=ue.sibling}if(!H){for(ue=b.child;ue;){if(ue===f){H=!0,f=b,v=_;break}if(ue===v){H=!0,v=b,f=_;break}ue=ue.sibling}if(!H)throw Error(c(189))}}if(f.alternate!==v)throw Error(c(190))}if(f.tag!==3)throw Error(c(188));return f.stateNode.current===f?r:i}function V(r){return r=ie(r),r!==null?fe(r):null}function fe(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=fe(r);if(i!==null)return i;r=r.sibling}return null}function pe(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){if(r.tag!==4){var i=pe(r);if(i!==null)return i}r=r.sibling}return null}var be=Array.isArray,le=e.getPublicInstance,Te=e.getRootHostContext,Y=e.getChildHostContext,Q=e.prepareForCommit,J=e.resetAfterCommit,B=e.createInstance,Z=e.appendInitialChild,ee=e.finalizeInitialChildren,se=e.prepareUpdate,$=e.shouldSetTextContent,ae=e.createTextInstance,ce=e.scheduleTimeout,_e=e.cancelTimeout,Oe=e.noTimeout,Be=e.isPrimaryRenderer,Pe=e.supportsMutation,Ce=e.supportsPersistence,ht=e.supportsHydration,ot=e.getInstanceFromNode,Ve=e.preparePortalMount,st=e.getCurrentEventPriority,et=e.detachDeletedInstance,Me=e.supportsMicrotasks,lt=e.scheduleMicrotask,He=e.supportsTestSelectors,Ee=e.findFiberRoot,xt=e.getBoundingRect,je=e.getTextContent,Qe=e.isHiddenSubtree,ze=e.matchAccessibilityRole,Zt=e.setFocusIfFocusable,tt=e.setupIntersectionObserver,nt=e.appendChild,gt=e.appendChildToContainer,Ct=e.commitTextUpdate,en=e.commitMount,un=e.commitUpdate,It=e.insertBefore,Ot=e.insertInContainerBefore,ct=e.removeChild,oe=e.removeChildFromContainer,Re=e.resetTextContent,rt=e.hideInstance,ft=e.hideTextInstance,Ze=e.unhideInstance,Mt=e.unhideTextInstance,Pn=e.clearContainer,on=e.cloneInstance,Ft=e.createContainerChildSet,tn=e.appendChildToContainerChildSet,Yt=e.finalizeContainerChildren,St=e.replaceContainerChildren,Dt=e.cloneHiddenInstance,gn=e.cloneHiddenTextInstance,_n=e.canHydrateInstance,wn=e.canHydrateTextInstance,Pr=e.canHydrateSuspenseInstance,Lr=e.isSuspenseInstancePending,Ir=e.isSuspenseInstanceFallback,ci=e.registerSuspenseInstanceRetry,fr=e.getNextHydratableSibling,Qr=e.getFirstHydratableChild,Gn=e.getFirstHydratableChildWithinContainer,Si=e.getFirstHydratableChildWithinSuspenseInstance,Sa=e.hydrateInstance,qo=e.hydrateTextInstance,ba=e.hydrateSuspenseInstance,Ea=e.getNextHydratableInstanceAfterSuspenseInstance,oo=e.commitHydratedContainer,Ko=e.commitHydratedSuspenseInstance,as=e.clearSuspenseBoundary,Ta=e.clearSuspenseBoundaryFromContainer,bo=e.shouldDeleteUnhydratedTailInstances,Ln=e.didNotMatchHydratedContainerTextInstance,fi=e.didNotMatchHydratedTextInstance,it;function Hr(r){if(it===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||""}return`
`+it+r}var Qo=!1;function Zr(r,i){if(!r||Qo)return"";Qo=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(Ne){var v=Ne}Reflect.construct(r,[],i)}else{try{i.call()}catch(Ne){v=Ne}r.call(i.prototype)}else{try{throw Error()}catch(Ne){v=Ne}r()}}catch(Ne){if(Ne&&v&&typeof Ne.stack=="string"){for(var _=Ne.stack.split(`
`),b=v.stack.split(`
`),H=_.length-1,ue=b.length-1;1<=H&&0<=ue&&_[H]!==b[ue];)ue--;for(;1<=H&&0<=ue;H--,ue--)if(_[H]!==b[ue]){if(H!==1||ue!==1)do if(H--,ue--,0>ue||_[H]!==b[ue]){var xe=`
`+_[H].replace(" at new "," at ");return r.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",r.displayName)),xe}while(1<=H&&0<=ue);break}}}finally{Qo=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?Hr(r):""}var ao=Object.prototype.hasOwnProperty,so=[],$r=-1;function dr(r){return{current:r}}function an(r){0>$r||(r.current=so[$r],so[$r]=null,$r--)}function $t(r,i){$r++,so[$r]=r.current,r.current=i}var Or={},Tn=dr(Or),Nn=dr(!1),Vr=Or;function hr(r,i){var f=r.type.contextTypes;if(!f)return Or;var v=r.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===i)return v.__reactInternalMemoizedMaskedChildContext;var _={},b;for(b in f)_[b]=i[b];return v&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=_),_}function Wn(r){return r=r.childContextTypes,r!=null}function Yr(){an(Nn),an(Tn)}function di(r,i,f){if(Tn.current!==Or)throw Error(c(168));$t(Tn,i),$t(Nn,f)}function vn(r,i,f){var v=r.stateNode;if(i=i.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in i))throw Error(c(108,W(r)||"Unknown",_));return o({},f,v)}function hi(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Or,Vr=Tn.current,$t(Tn,r),$t(Nn,Nn.current),!0}function pr(r,i,f){var v=r.stateNode;if(!v)throw Error(c(169));f?(r=vn(r,i,Vr),v.__reactInternalMemoizedMergedChildContext=r,an(Nn),an(Tn),$t(Tn,r)):an(Nn),$t(Nn,f)}var ar=Math.clz32?Math.clz32:Wi,bi=Math.log,Ei=Math.LN2;function Wi(r){return r>>>=0,r===0?32:31-(bi(r)/Ei|0)|0}var mr=64,Jr=4194304;function gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vt(r,i){var f=r.pendingLanes;if(f===0)return 0;var v=0,_=r.suspendedLanes,b=r.pingedLanes,H=f&268435455;if(H!==0){var ue=H&~_;ue!==0?v=gr(ue):(b&=H,b!==0&&(v=gr(b)))}else H=f&~_,H!==0?v=gr(H):b!==0&&(v=gr(b));if(v===0)return 0;if(i!==0&&i!==v&&!(i&_)&&(_=v&-v,b=i&-i,_>=b||_===16&&(b&4194240)!==0))return i;if(v&4&&(v|=f&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=v;0<i;)f=31-ar(i),_=1<<f,v|=r[f],i&=~_;return v}function Hi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(r,i){for(var f=r.suspendedLanes,v=r.pingedLanes,_=r.expirationTimes,b=r.pendingLanes;0<b;){var H=31-ar(b),ue=1<<H,xe=_[H];xe===-1?(!(ue&f)||ue&v)&&(_[H]=Hi(ue,i)):xe<=i&&(r.expiredLanes|=ue),b&=~ue}}function T(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function U(r){for(var i=[],f=0;31>f;f++)i.push(r);return i}function O(r,i,f){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-ar(i),r[i]=f}function N(r,i){var f=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var v=r.eventTimes;for(r=r.expirationTimes;0<f;){var _=31-ar(f),b=1<<_;i[_]=0,v[_]=-1,r[_]=-1,f&=~b}}function ve(r,i){var f=r.entangledLanes|=i;for(r=r.entanglements;f;){var v=31-ar(f),_=1<<v;_&i|r[v]&i&&(r[v]|=i),f&=~_}}var me=0;function Ye(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ue=a.unstable_scheduleCallback,Fe=a.unstable_cancelCallback,ut=a.unstable_shouldYield,Le=a.unstable_requestPaint,De=a.unstable_now,Je=a.unstable_ImmediatePriority,_t=a.unstable_UserBlockingPriority,Ke=a.unstable_NormalPriority,fn=a.unstable_IdlePriority,Qt=null,Ut=null;function dt(r){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Qt,r,void 0,(r.current.flags&128)===128)}catch{}}function Jt(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dn=typeof Object.is=="function"?Object.is:Jt,In=null,pi=!1,Mr=!1;function ss(r){In===null?In=[r]:In.push(r)}function ls(r){pi=!0,ss(r)}function Ur(){if(!Mr&&In!==null){Mr=!0;var r=0,i=me;try{var f=In;for(me=1;r<f.length;r++){var v=f[r];do v=v(!0);while(v!==null)}In=null,pi=!1}catch(_){throw In!==null&&(In=In.slice(r+1)),Ue(Je,Ur),_}finally{me=i,Mr=!1}}return null}var Zo=h.ReactCurrentBatchConfig;function Cn(r,i){if(dn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var f=Object.keys(r),v=Object.keys(i);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!ao.call(i,_)||!dn(r[_],i[_]))return!1}return!0}function lo(r){switch(r.tag){case 5:return Hr(r.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return r=Zr(r.type,!1),r;case 11:return r=Zr(r.type.render,!1),r;case 1:return r=Zr(r.type,!0),r;default:return""}}function Dn(r,i){if(r&&r.defaultProps){i=o({},i),r=r.defaultProps;for(var f in r)i[f]===void 0&&(i[f]=r[f]);return i}return i}var Xn=dr(null),Eo=null,On=null,uo=null;function $o(){uo=On=Eo=null}function us(r,i,f){Be?($t(Xn,i._currentValue),i._currentValue=f):($t(Xn,i._currentValue2),i._currentValue2=f)}function qn(r){var i=Xn.current;an(Xn),Be?r._currentValue=i:r._currentValue2=i}function vr(r,i,f){for(;r!==null;){var v=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,v!==null&&(v.childLanes|=i)):v!==null&&(v.childLanes&i)!==i&&(v.childLanes|=i),r===f)break;r=r.return}}function Mn(r,i){Eo=r,uo=On=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(ni=!0),r.firstContext=null)}function sn(r){var i=Be?r._currentValue:r._currentValue2;if(uo!==r)if(r={context:r,memoizedValue:i,next:null},On===null){if(Eo===null)throw Error(c(308));On=r,Eo.dependencies={lanes:0,firstContext:r}}else On=On.next=r;return i}var ei=null,Kn=!1;function Zl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $l(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ti(r,i){var f=r.updateQueue;f!==null&&(f=f.shared,Hn!==null&&r.mode&1&&!(Wt&2)?(r=f.interleaved,r===null?(i.next=i,ei===null?ei=[f]:ei.push(f)):(i.next=r.next,r.next=i),f.interleaved=i):(r=f.pending,r===null?i.next=i:(i.next=r.next,r.next=i),f.pending=i))}function Ca(r,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var v=i.lanes;v&=r.pendingLanes,f|=v,i.lanes=f,ve(r,f)}}function xn(r,i){var f=r.updateQueue,v=r.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var H={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?_=b=H:b=b.next=H,f=f.next}while(f!==null);b===null?_=b=i:b=b.next=i}else _=b=i;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:v.shared,effects:v.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=i:r.next=i,f.lastBaseUpdate=i}function Ci(r,i,f,v){var _=r.updateQueue;Kn=!1;var b=_.firstBaseUpdate,H=_.lastBaseUpdate,ue=_.shared.pending;if(ue!==null){_.shared.pending=null;var xe=ue,Ne=xe.next;xe.next=null,H===null?b=Ne:H.next=Ne,H=xe;var at=r.alternate;at!==null&&(at=at.updateQueue,ue=at.lastBaseUpdate,ue!==H&&(ue===null?at.firstBaseUpdate=Ne:ue.next=Ne,at.lastBaseUpdate=xe))}if(b!==null){var zt=_.baseState;H=0,at=Ne=xe=null,ue=b;do{var wt=ue.lane,hn=ue.eventTime;if((v&wt)===wt){at!==null&&(at=at.next={eventTime:hn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var pt=r,Cr=ue;switch(wt=i,hn=f,Cr.tag){case 1:if(pt=Cr.payload,typeof pt=="function"){zt=pt.call(hn,zt,wt);break e}zt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Cr.payload,wt=typeof pt=="function"?pt.call(hn,zt,wt):pt,wt==null)break e;zt=o({},zt,wt);break e;case 2:Kn=!0}}ue.callback!==null&&ue.lane!==0&&(r.flags|=64,wt=_.effects,wt===null?_.effects=[ue]:wt.push(ue))}else hn={eventTime:hn,lane:wt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},at===null?(Ne=at=hn,xe=zt):at=at.next=hn,H|=wt;if(ue=ue.next,ue===null){if(ue=_.shared.pending,ue===null)break;wt=ue,ue=wt.next,wt.next=null,_.lastBaseUpdate=wt,_.shared.pending=null}}while(!0);if(at===null&&(xe=zt),_.baseState=xe,_.firstBaseUpdate=Ne,_.lastBaseUpdate=at,i=_.shared.interleaved,i!==null){_=i;do H|=_.lane,_=_.next;while(_!==i)}else b===null&&(_.shared.lanes=0);Ja|=H,r.lanes=H,r.memoizedState=zt}}function Zs(r,i,f){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var v=r[i],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(c(191,_));_.call(v)}}}var cc=new u.Component().refs;function cs(r,i,f,v){i=r.memoizedState,f=f(v,i),f=f==null?i:o({},i,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var $s={isMounted:function(r){return(r=r._reactInternals)?X(r)===r:!1},enqueueSetState:function(r,i,f){r=r._reactInternals;var v=Sr(),_=Qi(r),b=yr(v,_);b.payload=i,f!=null&&(b.callback=f),Ti(r,b),i=gi(r,_,v),i!==null&&Ca(i,r,_)},enqueueReplaceState:function(r,i,f){r=r._reactInternals;var v=Sr(),_=Qi(r),b=yr(v,_);b.tag=1,b.payload=i,f!=null&&(b.callback=f),Ti(r,b),i=gi(r,_,v),i!==null&&Ca(i,r,_)},enqueueForceUpdate:function(r,i){r=r._reactInternals;var f=Sr(),v=Qi(r),_=yr(f,v);_.tag=2,i!=null&&(_.callback=i),Ti(r,_),i=gi(r,v,f),i!==null&&Ca(i,r,v)}};function fc(r,i,f,v,_,b,H){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,b,H):i.prototype&&i.prototype.isPureReactComponent?!Cn(f,v)||!Cn(_,b):!0}function dc(r,i,f){var v=!1,_=Or,b=i.contextType;return typeof b=="object"&&b!==null?b=sn(b):(_=Wn(i)?Vr:Tn.current,v=i.contextTypes,b=(v=v!=null)?hr(r,_):Or),i=new i(f,b),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=$s,r.stateNode=i,i._reactInternals=r,v&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=_,r.__reactInternalMemoizedMaskedChildContext=b),i}function eu(r,i,f,v){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,v),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,v),i.state!==r&&$s.enqueueReplaceState(i,i.state,null)}function ka(r,i,f,v){var _=r.stateNode;_.props=f,_.state=r.memoizedState,_.refs=cc,Zl(r);var b=i.contextType;typeof b=="object"&&b!==null?_.context=sn(b):(b=Wn(i)?Vr:Tn.current,_.context=hr(r,b)),_.state=r.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(cs(r,i,b,f),_.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&$s.enqueueReplaceState(_,_.state,null),Ci(r,f,_,v),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308)}var ki=[],Aa=0,fs=null,ds=0,Xr=[],qr=0,To=null,co=1,Ai="";function fo(r,i){ki[Aa++]=ds,ki[Aa++]=fs,fs=r,ds=i}function hc(r,i,f){Xr[qr++]=co,Xr[qr++]=Ai,Xr[qr++]=To,To=r;var v=co;r=Ai;var _=32-ar(v)-1;v&=~(1<<_),f+=1;var b=32-ar(i)+_;if(30<b){var H=_-_%5;b=(v&(1<<H)-1).toString(32),v>>=H,_-=H,co=1<<32-ar(i)+_|f<<_|v,Ai=b+r}else co=1<<b|f<<_|v,Ai=r}function el(r){r.return!==null&&(fo(r,1),hc(r,1,0))}function Nr(r){for(;r===fs;)fs=ki[--Aa],ki[Aa]=null,ds=ki[--Aa],ki[Aa]=null;for(;r===To;)To=Xr[--qr],Xr[qr]=null,Ai=Xr[--qr],Xr[qr]=null,co=Xr[--qr],Xr[qr]=null}var Dr=null,sr=null,Sn=!1,Ra=!1,Ri=null;function pc(r,i){var f=vi(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=r,i=r.deletions,i===null?(r.deletions=[f],r.flags|=16):i.push(f)}function mc(r,i){switch(r.tag){case 5:return i=_n(i,r.type,r.pendingProps),i!==null?(r.stateNode=i,Dr=r,sr=Qr(i),!0):!1;case 6:return i=wn(i,r.pendingProps),i!==null?(r.stateNode=i,Dr=r,sr=null,!0):!1;case 13:if(i=Pr(i),i!==null){var f=To!==null?{id:co,overflow:Ai}:null;return r.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=vi(18,null,null,0),f.stateNode=i,f.return=r,r.child=f,Dr=r,sr=null,!0}return!1;default:return!1}}function tu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nu(r){if(Sn){var i=sr;if(i){var f=i;if(!mc(r,i)){if(tu(r))throw Error(c(418));i=fr(f);var v=Dr;i&&mc(r,i)?pc(v,f):(r.flags=r.flags&-4097|2,Sn=!1,Dr=r)}}else{if(tu(r))throw Error(c(418));r.flags=r.flags&-4097|2,Sn=!1,Dr=r}}}function ea(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dr=r}function hs(r){if(!ht||r!==Dr)return!1;if(!Sn)return ea(r),Sn=!0,!1;if(r.tag!==3&&(r.tag!==5||bo(r.type)&&!$(r.type,r.memoizedProps))){var i=sr;if(i){if(tu(r)){for(r=sr;r;)r=fr(r);throw Error(c(418))}for(;i;)pc(r,i),i=fr(i)}}if(ea(r),r.tag===13){if(!ht)throw Error(c(316));if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));sr=Ea(r)}else sr=Dr?fr(r.stateNode):null;return!0}function Pa(){ht&&(sr=Dr=null,Ra=Sn=!1)}function ps(r){Ri===null?Ri=[r]:Ri.push(r)}function La(r,i,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(c(309));var v=f.stateNode}if(!v)throw Error(c(147,r));var _=v,b=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===b?i.ref:(i=function(H){var ue=_.refs;ue===cc&&(ue=_.refs={}),H===null?delete ue[b]:ue[b]=H},i._stringRef=b,i)}if(typeof r!="string")throw Error(c(284));if(!f._owner)throw Error(c(290,r))}return r}function Pi(r,i){throw r=Object.prototype.toString.call(i),Error(c(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function ms(r){var i=r._init;return i(r._payload)}function gc(r){function i(ge,de){if(r){var we=ge.deletions;we===null?(ge.deletions=[de],ge.flags|=16):we.push(de)}}function f(ge,de){if(!r)return null;for(;de!==null;)i(ge,de),de=de.sibling;return null}function v(ge,de){for(ge=new Map;de!==null;)de.key!==null?ge.set(de.key,de):ge.set(de.index,de),de=de.sibling;return ge}function _(ge,de){return ge=vo(ge,de),ge.index=0,ge.sibling=null,ge}function b(ge,de,we){return ge.index=we,r?(we=ge.alternate,we!==null?(we=we.index,we<de?(ge.flags|=2,de):we):(ge.flags|=2,de)):(ge.flags|=1048576,de)}function H(ge){return r&&ge.alternate===null&&(ge.flags|=2),ge}function ue(ge,de,we,qe){return de===null||de.tag!==6?(de=Tr(we,ge.mode,qe),de.return=ge,de):(de=_(de,we),de.return=ge,de)}function xe(ge,de,we,qe){var mt=we.type;return mt===m?at(ge,de,we.props.children,qe,we.key):de!==null&&(de.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===L&&ms(mt)===de.type)?(qe=_(de,we.props),qe.ref=La(ge,de,we),qe.return=ge,qe):(qe=wl(we.type,we.key,we.props,null,ge.mode,qe),qe.ref=La(ge,de,we),qe.return=ge,qe)}function Ne(ge,de,we,qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=yi(we,ge.mode,qe),de.return=ge,de):(de=_(de,we.children||[]),de.return=ge,de)}function at(ge,de,we,qe,mt){return de===null||de.tag!==7?(de=zo(we,ge.mode,qe,mt),de.return=ge,de):(de=_(de,we),de.return=ge,de)}function zt(ge,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=Tr(""+de,ge.mode,we),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case d:return we=wl(de.type,de.key,de.props,null,ge.mode,we),we.ref=La(ge,null,de),we.return=ge,we;case g:return de=yi(de,ge.mode,we),de.return=ge,de;case L:var qe=de._init;return zt(ge,qe(de._payload),we)}if(be(de)||G(de))return de=zo(de,ge.mode,we,null),de.return=ge,de;Pi(ge,de)}return null}function wt(ge,de,we,qe){var mt=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return mt!==null?null:ue(ge,de,""+we,qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return we.key===mt?xe(ge,de,we,qe):null;case g:return we.key===mt?Ne(ge,de,we,qe):null;case L:return mt=we._init,wt(ge,de,mt(we._payload),qe)}if(be(we)||G(we))return mt!==null?null:at(ge,de,we,qe,null);Pi(ge,we)}return null}function hn(ge,de,we,qe,mt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ge=ge.get(we)||null,ue(de,ge,""+qe,mt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case d:return ge=ge.get(qe.key===null?we:qe.key)||null,xe(de,ge,qe,mt);case g:return ge=ge.get(qe.key===null?we:qe.key)||null,Ne(de,ge,qe,mt);case L:var Ht=qe._init;return hn(ge,de,we,Ht(qe._payload),mt)}if(be(qe)||G(qe))return ge=ge.get(we)||null,at(de,ge,qe,mt,null);Pi(de,qe)}return null}function pt(ge,de,we,qe){for(var mt=null,Ht=null,Bt=de,Vt=de=0,Yn=null;Bt!==null&&Vt<we.length;Vt++){Bt.index>Vt?(Yn=Bt,Bt=null):Yn=Bt.sibling;var rn=wt(ge,Bt,we[Vt],qe);if(rn===null){Bt===null&&(Bt=Yn);break}r&&Bt&&rn.alternate===null&&i(ge,Bt),de=b(rn,de,Vt),Ht===null?mt=rn:Ht.sibling=rn,Ht=rn,Bt=Yn}if(Vt===we.length)return f(ge,Bt),Sn&&fo(ge,Vt),mt;if(Bt===null){for(;Vt<we.length;Vt++)Bt=zt(ge,we[Vt],qe),Bt!==null&&(de=b(Bt,de,Vt),Ht===null?mt=Bt:Ht.sibling=Bt,Ht=Bt);return Sn&&fo(ge,Vt),mt}for(Bt=v(ge,Bt);Vt<we.length;Vt++)Yn=hn(Bt,ge,Vt,we[Vt],qe),Yn!==null&&(r&&Yn.alternate!==null&&Bt.delete(Yn.key===null?Vt:Yn.key),de=b(Yn,de,Vt),Ht===null?mt=Yn:Ht.sibling=Yn,Ht=Yn);return r&&Bt.forEach(function($i){return i(ge,$i)}),Sn&&fo(ge,Vt),mt}function Cr(ge,de,we,qe){var mt=G(we);if(typeof mt!="function")throw Error(c(150));if(we=mt.call(we),we==null)throw Error(c(151));for(var Ht=mt=null,Bt=de,Vt=de=0,Yn=null,rn=we.next();Bt!==null&&!rn.done;Vt++,rn=we.next()){Bt.index>Vt?(Yn=Bt,Bt=null):Yn=Bt.sibling;var $i=wt(ge,Bt,rn.value,qe);if($i===null){Bt===null&&(Bt=Yn);break}r&&Bt&&$i.alternate===null&&i(ge,Bt),de=b($i,de,Vt),Ht===null?mt=$i:Ht.sibling=$i,Ht=$i,Bt=Yn}if(rn.done)return f(ge,Bt),Sn&&fo(ge,Vt),mt;if(Bt===null){for(;!rn.done;Vt++,rn=we.next())rn=zt(ge,rn.value,qe),rn!==null&&(de=b(rn,de,Vt),Ht===null?mt=rn:Ht.sibling=rn,Ht=rn);return Sn&&fo(ge,Vt),mt}for(Bt=v(ge,Bt);!rn.done;Vt++,rn=we.next())rn=hn(Bt,ge,Vt,rn.value,qe),rn!==null&&(r&&rn.alternate!==null&&Bt.delete(rn.key===null?Vt:rn.key),de=b(rn,de,Vt),Ht===null?mt=rn:Ht.sibling=rn,Ht=rn);return r&&Bt.forEach(function(Sl){return i(ge,Sl)}),Sn&&fo(ge,Vt),mt}function si(ge,de,we,qe){if(typeof we=="object"&&we!==null&&we.type===m&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var mt=we.key,Ht=de;Ht!==null;){if(Ht.key===mt){if(mt=we.type,mt===m){if(Ht.tag===7){f(ge,Ht.sibling),de=_(Ht,we.props.children),de.return=ge,ge=de;break e}}else if(Ht.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===L&&ms(mt)===Ht.type){f(ge,Ht.sibling),de=_(Ht,we.props),de.ref=La(ge,Ht,we),de.return=ge,ge=de;break e}f(ge,Ht);break}else i(ge,Ht);Ht=Ht.sibling}we.type===m?(de=zo(we.props.children,ge.mode,qe,we.key),de.return=ge,ge=de):(qe=wl(we.type,we.key,we.props,null,ge.mode,qe),qe.ref=La(ge,de,we),qe.return=ge,ge=qe)}return H(ge);case g:e:{for(Ht=we.key;de!==null;){if(de.key===Ht)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){f(ge,de.sibling),de=_(de,we.children||[]),de.return=ge,ge=de;break e}else{f(ge,de);break}else i(ge,de);de=de.sibling}de=yi(we,ge.mode,qe),de.return=ge,ge=de}return H(ge);case L:return Ht=we._init,si(ge,de,Ht(we._payload),qe)}if(be(we))return pt(ge,de,we,qe);if(G(we))return Cr(ge,de,we,qe);Pi(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(f(ge,de.sibling),de=_(de,we),de.return=ge,ge=de):(f(ge,de),de=Tr(we,ge.mode,qe),de.return=ge,ge=de),H(ge)):f(ge,de)}return si}var Ia=gc(!0),vc=gc(!1),Vi={},Un=dr(Vi),Oa=dr(Vi),Ma=dr(Vi);function Yi(r){if(r===Vi)throw Error(c(174));return r}function ru(r,i){$t(Ma,i),$t(Oa,r),$t(Un,Vi),r=Te(i),an(Un),$t(Un,r)}function Ua(){an(Un),an(Oa),an(Ma)}function yc(r){var i=Yi(Ma.current),f=Yi(Un.current);i=Y(f,r.type,i),f!==i&&($t(Oa,r),$t(Un,i))}function Co(r){Oa.current===r&&(an(Un),an(Oa))}var re=dr(0);function Se(r){for(var i=r;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Lr(f)||Ir(f)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ye=[];function $e(){for(var r=0;r<ye.length;r++){var i=ye[r];Be?i._workInProgressVersionPrimary=null:i._workInProgressVersionSecondary=null}ye.length=0}var Lt=h.ReactCurrentDispatcher,jt=h.ReactCurrentBatchConfig,En=0,At=null,nr=null,rr=null,Fr=!1,ko=!1,gs=0,Na=0;function Qn(){throw Error(c(321))}function Da(r,i){if(i===null)return!1;for(var f=0;f<i.length&&f<r.length;f++)if(!dn(r[f],i[f]))return!1;return!0}function cn(r,i,f,v,_,b){if(En=b,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Lt.current=r===null||r.memoizedState===null?Es:cu,r=f(v,_),ko){b=0;do{if(ko=!1,gs=0,25<=b)throw Error(c(301));b+=1,rr=nr=null,i.updateQueue=null,Lt.current=Ba,r=f(v,_)}while(ko)}if(Lt.current=za,i=nr!==null&&nr.next!==null,En=0,rr=nr=At=null,Fr=!1,i)throw Error(c(300));return r}function iu(){var r=gs!==0;return gs=0,r}function Ji(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?At.memoizedState=rr=r:rr=rr.next=r,rr}function ti(){if(nr===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=nr.next;var i=rr===null?At.memoizedState:rr.next;if(i!==null)rr=i,nr=r;else{if(r===null)throw Error(c(310));nr=r,r={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},rr===null?At.memoizedState=rr=r:rr=rr.next=r}return rr}function ta(r,i){return typeof i=="function"?i(r):i}function tl(r){var i=ti(),f=i.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=r;var v=nr,_=v.baseQueue,b=f.pending;if(b!==null){if(_!==null){var H=_.next;_.next=b.next,b.next=H}v.baseQueue=_=b,f.pending=null}if(_!==null){b=_.next,v=v.baseState;var ue=H=null,xe=null,Ne=b;do{var at=Ne.lane;if((En&at)===at)xe!==null&&(xe=xe.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),v=Ne.hasEagerState?Ne.eagerState:r(v,Ne.action);else{var zt={lane:at,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};xe===null?(ue=xe=zt,H=v):xe=xe.next=zt,At.lanes|=at,Ja|=at}Ne=Ne.next}while(Ne!==null&&Ne!==b);xe===null?H=v:xe.next=ue,dn(v,i.memoizedState)||(ni=!0),i.memoizedState=v,i.baseState=H,i.baseQueue=xe,f.lastRenderedState=v}if(r=f.interleaved,r!==null){_=r;do b=_.lane,At.lanes|=b,Ja|=b,_=_.next;while(_!==r)}else _===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function nl(r){var i=ti(),f=i.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=r;var v=f.dispatch,_=f.pending,b=i.memoizedState;if(_!==null){f.pending=null;var H=_=_.next;do b=r(b,H.action),H=H.next;while(H!==_);dn(b,i.memoizedState)||(ni=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),f.lastRenderedState=b}return[b,v]}function vs(){}function ho(r,i){var f=At,v=ti(),_=i(),b=!dn(v.memoizedState,_);if(b&&(v.memoizedState=_,ni=!0),v=v.queue,ws(_s.bind(null,f,v,r),[r]),v.getSnapshot!==i||b||rr!==null&&rr.memoizedState.tag&1){if(f.flags|=2048,Ao(9,ou.bind(null,f,v,_,i),void 0,null),Hn===null)throw Error(c(349));En&30||ys(f,i,_)}return _}function ys(r,i,f){r.flags|=16384,r={getSnapshot:i,value:f},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[r]):(f=i.stores,f===null?i.stores=[r]:f.push(r))}function ou(r,i,f,v){i.value=f,i.getSnapshot=v,au(i)&&gi(r,1,-1)}function _s(r,i,f){return f(function(){au(i)&&gi(r,1,-1)})}function au(r){var i=r.getSnapshot;r=r.value;try{var f=i();return!dn(r,f)}catch{return!0}}function rl(r){var i=Ji();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:r},i.queue=r,r=r.dispatch=_r.bind(null,At,r),[i.memoizedState,r]}function Ao(r,i,f,v){return r={tag:r,create:i,destroy:f,deps:v,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=r.next=r):(f=i.lastEffect,f===null?i.lastEffect=r.next=r:(v=f.next,f.next=r,r.next=v,i.lastEffect=r)),r}function su(){return ti().memoizedState}function Ro(r,i,f,v){var _=Ji();At.flags|=r,_.memoizedState=Ao(1|i,f,void 0,v===void 0?null:v)}function Xi(r,i,f,v){var _=ti();v=v===void 0?null:v;var b=void 0;if(nr!==null){var H=nr.memoizedState;if(b=H.destroy,v!==null&&Da(v,H.deps)){_.memoizedState=Ao(i,f,b,v);return}}At.flags|=r,_.memoizedState=Ao(1|i,f,b,v)}function Fa(r,i){return Ro(8390656,8,r,i)}function ws(r,i){return Xi(2048,8,r,i)}function _c(r,i){return Xi(4,2,r,i)}function wc(r,i){return Xi(4,4,r,i)}function xs(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ss(r,i,f){return f=f!=null?f.concat([r]):null,Xi(4,4,xs.bind(null,i,r),f)}function bs(){}function xc(r,i){var f=ti();i=i===void 0?null:i;var v=f.memoizedState;return v!==null&&i!==null&&Da(i,v[1])?v[0]:(f.memoizedState=[r,i],r)}function lu(r,i){var f=ti();i=i===void 0?null:i;var v=f.memoizedState;return v!==null&&i!==null&&Da(i,v[1])?v[0]:(r=r(),f.memoizedState=[r,i],r)}function yd(r,i){var f=me;me=f!==0&&4>f?f:4,r(!0);var v=jt.transition;jt.transition={};try{r(!1),i()}finally{me=f,jt.transition=v}}function Sc(){return ti().memoizedState}function Zn(r,i,f){var v=Qi(r);f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},bc(r)?Ec(i,f):(uu(r,i,f),f=Sr(),r=gi(r,v,f),r!==null&&Tc(r,i,v))}function _r(r,i,f){var v=Qi(r),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(bc(r))Ec(i,_);else{uu(r,i,_);var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var H=i.lastRenderedState,ue=b(H,f);if(_.hasEagerState=!0,_.eagerState=ue,dn(ue,H))return}catch{}finally{}f=Sr(),r=gi(r,v,f),r!==null&&Tc(r,i,v)}}function bc(r){var i=r.alternate;return r===At||i!==null&&i===At}function Ec(r,i){ko=Fr=!0;var f=r.pending;f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i}function uu(r,i,f){Hn!==null&&r.mode&1&&!(Wt&2)?(r=i.interleaved,r===null?(f.next=f,ei===null?ei=[i]:ei.push(i)):(f.next=r.next,r.next=f),i.interleaved=f):(r=i.pending,r===null?f.next=f:(f.next=r.next,r.next=f),i.pending=f)}function Tc(r,i,f){if(f&4194240){var v=i.lanes;v&=r.pendingLanes,f|=v,i.lanes=f,ve(r,f)}}var za={readContext:sn,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},Es={readContext:sn,useCallback:function(r,i){return Ji().memoizedState=[r,i===void 0?null:i],r},useContext:sn,useEffect:Fa,useImperativeHandle:function(r,i,f){return f=f!=null?f.concat([r]):null,Ro(4194308,4,xs.bind(null,i,r),f)},useLayoutEffect:function(r,i){return Ro(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ro(4,2,r,i)},useMemo:function(r,i){var f=Ji();return i=i===void 0?null:i,r=r(),f.memoizedState=[r,i],r},useReducer:function(r,i,f){var v=Ji();return i=f!==void 0?f(i):i,v.memoizedState=v.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},v.queue=r,r=r.dispatch=Zn.bind(null,At,r),[v.memoizedState,r]},useRef:function(r){var i=Ji();return r={current:r},i.memoizedState=r},useState:rl,useDebugValue:bs,useDeferredValue:function(r){var i=rl(r),f=i[0],v=i[1];return Fa(function(){var _=jt.transition;jt.transition={};try{v(r)}finally{jt.transition=_}},[r]),f},useTransition:function(){var r=rl(!1),i=r[0];return r=yd.bind(null,r[1]),Ji().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,f){var v=At,_=Ji();if(Sn){if(f===void 0)throw Error(c(407));f=f()}else{if(f=i(),Hn===null)throw Error(c(349));En&30||ys(v,i,f)}_.memoizedState=f;var b={value:f,getSnapshot:i};return _.queue=b,Fa(_s.bind(null,v,b,r),[r]),v.flags|=2048,Ao(9,ou.bind(null,v,b,f,i),void 0,null),f},useId:function(){var r=Ji(),i=Hn.identifierPrefix;if(Sn){var f=Ai,v=co;f=(v&~(1<<32-ar(v)-1)).toString(32)+f,i=":"+i+"R"+f,f=gs++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=Na++,i=":"+i+"r"+f.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},cu={readContext:sn,useCallback:xc,useContext:sn,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:_c,useLayoutEffect:wc,useMemo:lu,useReducer:tl,useRef:su,useState:function(){return tl(ta)},useDebugValue:bs,useDeferredValue:function(r){var i=tl(ta),f=i[0],v=i[1];return ws(function(){var _=jt.transition;jt.transition={};try{v(r)}finally{jt.transition=_}},[r]),f},useTransition:function(){var r=tl(ta)[0],i=ti().memoizedState;return[r,i]},useMutableSource:vs,useSyncExternalStore:ho,useId:Sc,unstable_isNewReconciler:!1},Ba={readContext:sn,useCallback:xc,useContext:sn,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:_c,useLayoutEffect:wc,useMemo:lu,useReducer:nl,useRef:su,useState:function(){return nl(ta)},useDebugValue:bs,useDeferredValue:function(r){var i=nl(ta),f=i[0],v=i[1];return ws(function(){var _=jt.transition;jt.transition={};try{v(r)}finally{jt.transition=_}},[r]),f},useTransition:function(){var r=nl(ta)[0],i=ti().memoizedState;return[r,i]},useMutableSource:vs,useSyncExternalStore:ho,useId:Sc,unstable_isNewReconciler:!1};function na(r,i){try{var f="",v=i;do f+=lo(v),v=v.return;while(v);var _=f}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:i,stack:_}}function ra(r,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var il=typeof WeakMap=="function"?WeakMap:Map;function ia(r,i,f){f=yr(-1,f),f.tag=3,f.payload={element:null};var v=i.value;return f.callback=function(){Is||(Is=!0,dl=v),ra(r,i)},f}function Cc(r,i,f){f=yr(-1,f),f.tag=3;var v=r.type.getDerivedStateFromError;if(typeof v=="function"){var _=i.value;f.payload=function(){return v(_)},f.callback=function(){ra(r,i)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){ra(r,i),typeof v!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var H=i.stack;this.componentDidCatch(i.value,{componentStack:H!==null?H:""})}),f}function kc(r,i,f){var v=r.pingCache;if(v===null){v=r.pingCache=new il;var _=new Set;v.set(i,_)}else _=v.get(i),_===void 0&&(_=new Set,v.set(i,_));_.has(f)||(_.add(f),r=Do.bind(null,r,i,f),i.then(r,r))}function Ac(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Rc(r,i,f,v,_){return r.mode&1?(r.flags|=65536,r.lanes=_,r):(r===i?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=yr(-1,1),i.tag=2,Ti(f,i))),f.lanes|=1),r)}function qi(r){r.flags|=4}function Ts(r,i){if(r!==null&&r.child===i.child)return!0;if(i.flags&16)return!1;for(r=i.child;r!==null;){if(r.flags&12854||r.subtreeFlags&12854)return!1;r=r.sibling}return!0}var po,ja,M,mo;if(Pe)po=function(r,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)Z(r,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ja=function(){},M=function(r,i,f,v,_){if(r=r.memoizedProps,r!==v){var b=i.stateNode,H=Yi(Un.current);f=se(b,f,r,v,_,H),(i.updateQueue=f)&&qi(i)}},mo=function(r,i,f,v){f!==v&&qi(i)};else if(Ce){po=function(r,i,f,v){for(var _=i.child;_!==null;){if(_.tag===5){var b=_.stateNode;f&&v&&(b=Dt(b,_.type,_.memoizedProps,_)),Z(r,b)}else if(_.tag===6)b=_.stateNode,f&&v&&(b=gn(b,_.memoizedProps,_)),Z(r,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),po(r,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===i)break;for(;_.sibling===null;){if(_.return===null||_.return===i)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var Cs=function(r,i,f,v){for(var _=i.child;_!==null;){if(_.tag===5){var b=_.stateNode;f&&v&&(b=Dt(b,_.type,_.memoizedProps,_)),tn(r,b)}else if(_.tag===6)b=_.stateNode,f&&v&&(b=gn(b,_.memoizedProps,_)),tn(r,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),Cs(r,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===i)break;for(;_.sibling===null;){if(_.return===null||_.return===i)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};ja=function(r,i){var f=i.stateNode;if(!Ts(r,i)){r=f.containerInfo;var v=Ft(r);Cs(v,i,!1,!1),f.pendingChildren=v,qi(i),Yt(r,v)}},M=function(r,i,f,v,_){var b=r.stateNode,H=r.memoizedProps;if((r=Ts(r,i))&&H===v)i.stateNode=b;else{var ue=i.stateNode,xe=Yi(Un.current),Ne=null;H!==v&&(Ne=se(ue,f,H,v,_,xe)),r&&Ne===null?i.stateNode=b:(b=on(b,Ne,f,H,v,i,r,ue),ee(b,f,v,_,xe)&&qi(i),i.stateNode=b,r?qi(i):po(b,i,!1,!1))}},mo=function(r,i,f,v){f!==v?(r=Yi(Ma.current),f=Yi(Un.current),i.stateNode=ae(v,r,f,i),qi(i)):i.stateNode=r.stateNode}}else ja=function(){},M=function(){},mo=function(){};function wr(r,i){if(!Sn)switch(r.tailMode){case"hidden":i=r.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function Et(r){var i=r.alternate!==null&&r.alternate.child===r.child,f=0,v=0;if(i)for(var _=r.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=v,r.childLanes=f,i}function _d(r,i,f){var v=i.pendingProps;switch(Nr(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Wn(i.type)&&Yr(),Et(i),null;case 3:return v=i.stateNode,Ua(),an(Nn),an(Tn),$e(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(r===null||r.child===null)&&(hs(i)?qi(i):r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Ri!==null&&(ua(Ri),Ri=null))),ja(r,i),Et(i),null;case 5:Co(i),f=Yi(Ma.current);var _=i.type;if(r!==null&&i.stateNode!=null)M(r,i,_,v,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!v){if(i.stateNode===null)throw Error(c(166));return Et(i),null}if(r=Yi(Un.current),hs(i)){if(!ht)throw Error(c(175));r=Sa(i.stateNode,i.type,i.memoizedProps,f,r,i,!Ra),i.updateQueue=r,r!==null&&qi(i)}else{var b=B(_,v,f,r,i);po(b,i,!1,!1),i.stateNode=b,ee(b,_,v,f,r)&&qi(i)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Et(i),null;case 6:if(r&&i.stateNode!=null)mo(r,i,r.memoizedProps,v);else{if(typeof v!="string"&&i.stateNode===null)throw Error(c(166));if(r=Yi(Ma.current),f=Yi(Un.current),hs(i)){if(!ht)throw Error(c(176));if(r=i.stateNode,v=i.memoizedProps,(f=qo(r,v,i,!Ra))&&(_=Dr,_!==null))switch(b=(_.mode&1)!==0,_.tag){case 3:Ln(_.stateNode.containerInfo,r,v,b);break;case 5:fi(_.type,_.memoizedProps,_.stateNode,r,v,b)}f&&qi(i)}else i.stateNode=ae(v,r,f,i)}return Et(i),null;case 13:if(an(re),v=i.memoizedState,Sn&&sr!==null&&i.mode&1&&!(i.flags&128)){for(r=sr;r;)r=fr(r);return Pa(),i.flags|=98560,i}if(v!==null&&v.dehydrated!==null){if(v=hs(i),r===null){if(!v)throw Error(c(318));if(!ht)throw Error(c(344));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));ba(r,i)}else Pa(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;return Et(i),null}return Ri!==null&&(ua(Ri),Ri=null),i.flags&128?(i.lanes=f,i):(v=v!==null,f=!1,r===null?hs(i):f=r.memoizedState!==null,v&&!f&&(i.child.flags|=8192,i.mode&1&&(r===null||re.current&1?Bn===0&&(Bn=3):vl())),i.updateQueue!==null&&(i.flags|=4),Et(i),null);case 4:return Ua(),ja(r,i),r===null&&Ve(i.stateNode.containerInfo),Et(i),null;case 10:return qn(i.type._context),Et(i),null;case 17:return Wn(i.type)&&Yr(),Et(i),null;case 19:if(an(re),_=i.memoizedState,_===null)return Et(i),null;if(v=(i.flags&128)!==0,b=_.rendering,b===null)if(v)wr(_,!1);else{if(Bn!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(b=Se(r),b!==null){for(i.flags|=128,wr(_,!1),r=b.updateQueue,r!==null&&(i.updateQueue=r,i.flags|=4),i.subtreeFlags=0,r=f,v=i.child;v!==null;)f=v,_=r,f.flags&=14680066,b=f.alternate,b===null?(f.childLanes=0,f.lanes=_,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,_=b.dependencies,f.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),v=v.sibling;return $t(re,re.current&1|2),i.child}r=r.sibling}_.tail!==null&&De()>Ls&&(i.flags|=128,v=!0,wr(_,!1),i.lanes=4194304)}else{if(!v)if(r=Se(b),r!==null){if(i.flags|=128,v=!0,r=r.updateQueue,r!==null&&(i.updateQueue=r,i.flags|=4),wr(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!Sn)return Et(i),null}else 2*De()-_.renderingStartTime>Ls&&f!==1073741824&&(i.flags|=128,v=!0,wr(_,!1),i.lanes=4194304);_.isBackwards?(b.sibling=i.child,i.child=b):(r=_.last,r!==null?r.sibling=b:i.child=b,_.last=b)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=De(),i.sibling=null,r=re.current,$t(re,v?r&1|2:r&1),i):(Et(i),null);case 22:case 23:return Cu(),v=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==v&&(i.flags|=8192),v&&i.mode&1?oi&1073741824&&(Et(i),Pe&&i.subtreeFlags&6&&(i.flags|=8192)):Et(i),null;case 24:return null;case 25:return null}throw Error(c(156,i.tag))}var wd=h.ReactCurrentOwner,ni=!1;function Fn(r,i,f,v){i.child=r===null?vc(i,null,f,v):Ia(i,r.child,f,v)}function Pc(r,i,f,v,_){f=f.render;var b=i.ref;return Mn(i,_),v=cn(r,i,f,v,b,_),f=iu(),r!==null&&!ni?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~_,$n(r,i,_)):(Sn&&f&&el(i),i.flags|=1,Fn(r,i,v,_),i.child)}function Lc(r,i,f,v,_){if(r===null){var b=f.type;return typeof b=="function"&&!Iu(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=b,Ic(r,i,b,v,_)):(r=wl(f.type,null,v,i,i.mode,_),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!(r.lanes&_)){var H=b.memoizedProps;if(f=f.compare,f=f!==null?f:Cn,f(H,v)&&r.ref===i.ref)return $n(r,i,_)}return i.flags|=1,r=vo(b,v),r.ref=i.ref,r.return=i,i.child=r}function Ic(r,i,f,v,_){if(r!==null&&Cn(r.memoizedProps,v)&&r.ref===i.ref)if(ni=!1,(r.lanes&_)!==0)r.flags&131072&&(ni=!0);else return i.lanes=r.lanes,$n(r,i,_);return Li(r,i,f,v,_)}function Oc(r,i,f){var v=i.pendingProps,_=v.children,b=r!==null?r.memoizedState:null;if(v.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null},$t(Va,oi),oi|=f;else if(f&1073741824)i.memoizedState={baseLanes:0,cachePool:null},v=b!==null?b.baseLanes:f,$t(Va,oi),oi|=v;else return r=b!==null?b.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null},i.updateQueue=null,$t(Va,oi),oi|=r,null;else b!==null?(v=b.baseLanes|f,i.memoizedState=null):v=f,$t(Va,oi),oi|=v;return Fn(r,i,_,f),i.child}function Mc(r,i){var f=i.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Li(r,i,f,v,_){var b=Wn(f)?Vr:Tn.current;return b=hr(i,b),Mn(i,_),f=cn(r,i,f,v,b,_),v=iu(),r!==null&&!ni?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~_,$n(r,i,_)):(Sn&&v&&el(i),i.flags|=1,Fn(r,i,f,_),i.child)}function Uc(r,i,f,v,_){if(Wn(f)){var b=!0;hi(i)}else b=!1;if(Mn(i,_),i.stateNode===null)r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),dc(i,f,v),ka(i,f,v,_),v=!0;else if(r===null){var H=i.stateNode,ue=i.memoizedProps;H.props=ue;var xe=H.context,Ne=f.contextType;typeof Ne=="object"&&Ne!==null?Ne=sn(Ne):(Ne=Wn(f)?Vr:Tn.current,Ne=hr(i,Ne));var at=f.getDerivedStateFromProps,zt=typeof at=="function"||typeof H.getSnapshotBeforeUpdate=="function";zt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ue!==v||xe!==Ne)&&eu(i,H,v,Ne),Kn=!1;var wt=i.memoizedState;H.state=wt,Ci(i,v,H,_),xe=i.memoizedState,ue!==v||wt!==xe||Nn.current||Kn?(typeof at=="function"&&(cs(i,f,at,v),xe=i.memoizedState),(ue=Kn||fc(i,f,ue,v,wt,xe,Ne))?(zt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(i.flags|=4194308)):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=v,i.memoizedState=xe),H.props=v,H.state=xe,H.context=Ne,v=ue):(typeof H.componentDidMount=="function"&&(i.flags|=4194308),v=!1)}else{H=i.stateNode,$l(r,i),ue=i.memoizedProps,Ne=i.type===i.elementType?ue:Dn(i.type,ue),H.props=Ne,zt=i.pendingProps,wt=H.context,xe=f.contextType,typeof xe=="object"&&xe!==null?xe=sn(xe):(xe=Wn(f)?Vr:Tn.current,xe=hr(i,xe));var hn=f.getDerivedStateFromProps;(at=typeof hn=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ue!==zt||wt!==xe)&&eu(i,H,v,xe),Kn=!1,wt=i.memoizedState,H.state=wt,Ci(i,v,H,_);var pt=i.memoizedState;ue!==zt||wt!==pt||Nn.current||Kn?(typeof hn=="function"&&(cs(i,f,hn,v),pt=i.memoizedState),(Ne=Kn||fc(i,f,Ne,v,wt,pt,xe)||!1)?(at||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(v,pt,xe),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(v,pt,xe)),typeof H.componentDidUpdate=="function"&&(i.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof H.componentDidUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=1024),i.memoizedProps=v,i.memoizedState=pt),H.props=v,H.state=pt,H.context=xe,v=Ne):(typeof H.componentDidUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=1024),v=!1)}return fu(r,i,f,v,b,_)}function fu(r,i,f,v,_,b){Mc(r,i);var H=(i.flags&128)!==0;if(!v&&!H)return _&&pr(i,f,!1),$n(r,i,b);v=i.stateNode,wd.current=i;var ue=H&&typeof f.getDerivedStateFromError!="function"?null:v.render();return i.flags|=1,r!==null&&H?(i.child=Ia(i,r.child,null,b),i.child=Ia(i,null,ue,b)):Fn(r,i,ue,b),i.memoizedState=v.state,_&&pr(i,f,!0),i.child}function Nc(r){var i=r.stateNode;i.pendingContext?di(r,i.pendingContext,i.pendingContext!==i.context):i.context&&di(r,i.context,!1),ru(r,i.containerInfo)}function Dc(r,i,f,v,_){return Pa(),ps(_),i.flags|=256,Fn(r,i,f,v),i.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function mi(r){return{baseLanes:r,cachePool:null}}function Fc(r,i,f){var v=i.pendingProps,_=re.current,b=!1,H=(i.flags&128)!==0,ue;if((ue=H)||(ue=r!==null&&r.memoizedState===null?!1:(_&2)!==0),ue?(b=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(_|=1),$t(re,_&1),r===null)return nu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?Ir(r)?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=v.children,r=v.fallback,b?(v=i.mode,b=i.child,_={mode:"hidden",children:_},!(v&1)&&b!==null?(b.childLanes=0,b.pendingProps=_):b=Ns(_,v,0,null),r=zo(r,v,f,null),b.return=i,r.return=i,b.sibling=r,i.child=b,i.child.memoizedState=mi(f),i.memoizedState=ol,r):du(i,_));if(_=r.memoizedState,_!==null){if(ue=_.dehydrated,ue!==null){if(H)return i.flags&256?(i.flags&=-257,al(r,i,f,Error(c(422)))):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(b=v.fallback,_=i.mode,v=Ns({mode:"visible",children:v.children},_,0,null),b=zo(b,_,f,null),b.flags|=2,v.return=i,b.return=i,v.sibling=b,i.child=v,i.mode&1&&Ia(i,r.child,null,f),i.child.memoizedState=mi(f),i.memoizedState=ol,b);if(!(i.mode&1))i=al(r,i,f,null);else if(Ir(ue))i=al(r,i,f,Error(c(419)));else if(v=(f&r.childLanes)!==0,ni||v){if(v=Hn,v!==null){switch(f&-f){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}v=b&(v.suspendedLanes|f)?0:b,v!==0&&v!==_.retryLane&&(_.retryLane=v,gi(r,v,-1))}vl(),i=al(r,i,f,Error(c(421)))}else Lr(ue)?(i.flags|=128,i.child=r.child,i=Fo.bind(null,r),ci(ue,i),i=null):(f=_.treeContext,ht&&(sr=Si(ue),Dr=i,Sn=!0,Ri=null,Ra=!1,f!==null&&(Xr[qr++]=co,Xr[qr++]=Ai,Xr[qr++]=To,co=f.id,Ai=f.overflow,To=i)),i=du(i,i.pendingProps.children),i.flags|=4096);return i}return b?(v=Bc(r,i,v.children,v.fallback,f),b=i.child,_=r.child.memoizedState,b.memoizedState=_===null?mi(f):{baseLanes:_.baseLanes|f,cachePool:null},b.childLanes=r.childLanes&~f,i.memoizedState=ol,v):(f=zc(r,i,v.children,f),i.memoizedState=null,f)}return b?(v=Bc(r,i,v.children,v.fallback,f),b=i.child,_=r.child.memoizedState,b.memoizedState=_===null?mi(f):{baseLanes:_.baseLanes|f,cachePool:null},b.childLanes=r.childLanes&~f,i.memoizedState=ol,v):(f=zc(r,i,v.children,f),i.memoizedState=null,f)}function du(r,i){return i=Ns({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function zc(r,i,f,v){var _=r.child;return r=_.sibling,f=vo(_,{mode:"visible",children:f}),!(i.mode&1)&&(f.lanes=v),f.return=i,f.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=f}function Bc(r,i,f,v,_){var b=i.mode;r=r.child;var H=r.sibling,ue={mode:"hidden",children:f};return!(b&1)&&i.child!==r?(f=i.child,f.childLanes=0,f.pendingProps=ue,i.deletions=null):(f=vo(r,ue),f.subtreeFlags=r.subtreeFlags&14680064),H!==null?v=vo(H,v):(v=zo(v,b,_,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,v}function al(r,i,f,v){return v!==null&&ps(v),Ia(i,r.child,null,f),r=du(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Po(r,i,f){r.lanes|=i;var v=r.alternate;v!==null&&(v.lanes|=i),vr(r.return,i,f)}function hu(r,i,f,v,_){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=v,b.tail=f,b.tailMode=_)}function jc(r,i,f){var v=i.pendingProps,_=v.revealOrder,b=v.tail;if(Fn(r,i,v.children,f),v=re.current,v&2)v=v&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Po(r,f,i);else if(r.tag===19)Po(r,f,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}if($t(re,v),!(i.mode&1))i.memoizedState=null;else switch(_){case"forwards":for(f=i.child,_=null;f!==null;)r=f.alternate,r!==null&&Se(r)===null&&(_=f),f=f.sibling;f=_,f===null?(_=i.child,i.child=null):(_=f.sibling,f.sibling=null),hu(i,!1,_,f,b);break;case"backwards":for(f=null,_=i.child,i.child=null;_!==null;){if(r=_.alternate,r!==null&&Se(r)===null){i.child=_;break}r=_.sibling,_.sibling=f,f=_,_=r}hu(i,!0,f,null,b);break;case"together":hu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $n(r,i,f){if(r!==null&&(i.dependencies=r.dependencies),Ja|=i.lanes,!(f&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(c(153));if(i.child!==null){for(r=i.child,f=vo(r,r.pendingProps),i.child=f,f.return=i;r.sibling!==null;)r=r.sibling,f=f.sibling=vo(r,r.pendingProps),f.return=i;f.sibling=null}return i.child}function xd(r,i,f){switch(i.tag){case 3:Nc(i),Pa();break;case 5:yc(i);break;case 1:Wn(i.type)&&hi(i);break;case 4:ru(i,i.stateNode.containerInfo);break;case 10:us(i,i.type._context,i.memoizedProps.value);break;case 13:var v=i.memoizedState;if(v!==null)return v.dehydrated!==null?($t(re,re.current&1),i.flags|=128,null):f&i.child.childLanes?Fc(r,i,f):($t(re,re.current&1),r=$n(r,i,f),r!==null?r.sibling:null);$t(re,re.current&1);break;case 19:if(v=(f&i.childLanes)!==0,r.flags&128){if(v)return jc(r,i,f);i.flags|=128}var _=i.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),$t(re,re.current),v)break;return null;case 22:case 23:return i.lanes=0,Oc(r,i,f)}return $n(r,i,f)}function Sd(r,i){switch(Nr(i),i.tag){case 1:return Wn(i.type)&&Yr(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ua(),an(Nn),an(Tn),$e(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Co(i),null;case 13:if(an(re),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(c(340));Pa()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return an(re),null;case 4:return Ua(),null;case 10:return qn(i.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var sl=!1,oa=!1,bd=typeof WeakSet=="function"?WeakSet:Set,We=null;function ks(r,i){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Er(r,i,v)}else f.current=null}function pu(r,i,f){try{f()}catch(v){Er(r,i,v)}}var Gc=!1;function mu(r,i){for(Q(r.containerInfo),We=i;We!==null;)if(r=We,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,We=i;else for(;We!==null;){r=We;try{var f=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,_=f.memoizedState,b=r.stateNode,H=b.getSnapshotBeforeUpdate(r.elementType===r.type?v:Dn(r.type,v),_);b.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Pe&&Pn(r.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ue){Er(r,r.return,ue)}if(i=r.sibling,i!==null){i.return=r.return,We=i;break}We=r.return}return f=Gc,Gc=!1,f}function Ii(r,i,f){var v=i.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&r)===r){var b=_.destroy;_.destroy=void 0,b!==void 0&&pu(i,f,b)}_=_.next}while(_!==v)}}function Lo(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&r)===r){var v=f.create;f.destroy=v()}f=f.next}while(f!==i)}}function gu(r){var i=r.ref;if(i!==null){var f=r.stateNode;switch(r.tag){case 5:r=le(f);break;default:r=f}typeof i=="function"?i(r):i.current=r}}function vu(r,i,f){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Qt,i)}catch{}switch(i.tag){case 0:case 11:case 14:case 15:if(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null)){var v=r=r.next;do{var _=v,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&pu(i,f,b),v=v.next}while(v!==r)}break;case 1:if(ks(i,f),r=i.stateNode,typeof r.componentWillUnmount=="function")try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(H){Er(i,f,H)}break;case 5:ks(i,f);break;case 4:Pe?_u(r,i,f):Ce&&Ce&&(i=i.stateNode.containerInfo,f=Ft(i),St(i,f))}}function Wc(r,i,f){for(var v=i;;)if(vu(r,v,f),v.child===null||Pe&&v.tag===4){if(v===i)break;for(;v.sibling===null;){if(v.return===null||v.return===i)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else v.child.return=v,v=v.child}function Ki(r){var i=r.alternate;i!==null&&(r.alternate=null,Ki(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&et(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ll(r){return r.tag===5||r.tag===3||r.tag===4}function Io(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ll(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ri(r){if(Pe){e:{for(var i=r.return;i!==null;){if(ll(i))break e;i=i.return}throw Error(c(160))}var f=i;switch(f.tag){case 5:i=f.stateNode,f.flags&32&&(Re(i),f.flags&=-33),f=Io(r),ul(r,f,i);break;case 3:case 4:i=f.stateNode.containerInfo,f=Io(r),yu(r,f,i);break;default:throw Error(c(161))}}}function yu(r,i,f){var v=r.tag;if(v===5||v===6)r=r.stateNode,i?Ot(f,r,i):gt(f,r);else if(v!==4&&(r=r.child,r!==null))for(yu(r,i,f),r=r.sibling;r!==null;)yu(r,i,f),r=r.sibling}function ul(r,i,f){var v=r.tag;if(v===5||v===6)r=r.stateNode,i?It(f,r,i):nt(f,r);else if(v!==4&&(r=r.child,r!==null))for(ul(r,i,f),r=r.sibling;r!==null;)ul(r,i,f),r=r.sibling}function _u(r,i,f){for(var v=i,_=!1,b,H;;){if(!_){_=v.return;e:for(;;){if(_===null)throw Error(c(160));switch(b=_.stateNode,_.tag){case 5:H=!1;break e;case 3:b=b.containerInfo,H=!0;break e;case 4:b=b.containerInfo,H=!0;break e}_=_.return}_=!0}if(v.tag===5||v.tag===6)Wc(r,v,f),H?oe(b,v.stateNode):ct(b,v.stateNode);else if(v.tag===18)H?Ta(b,v.stateNode):as(b,v.stateNode);else if(v.tag===4){if(v.child!==null){b=v.stateNode.containerInfo,H=!0,v.child.return=v,v=v.child;continue}}else if(vu(r,v,f),v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break;for(;v.sibling===null;){if(v.return===null||v.return===i)return;v=v.return,v.tag===4&&(_=!1)}v.sibling.return=v.return,v=v.sibling}}function aa(r,i){if(Pe){switch(i.tag){case 0:case 11:case 14:case 15:Ii(3,i,i.return),Lo(3,i),Ii(5,i,i.return);return;case 1:return;case 5:var f=i.stateNode;if(f!=null){var v=i.memoizedProps;r=r!==null?r.memoizedProps:v;var _=i.type,b=i.updateQueue;i.updateQueue=null,b!==null&&un(f,b,_,r,v,i)}return;case 6:if(i.stateNode===null)throw Error(c(162));f=i.memoizedProps,Ct(i.stateNode,r!==null?r.memoizedProps:f,f);return;case 3:ht&&r!==null&&r.memoizedState.isDehydrated&&oo(i.stateNode.containerInfo);return;case 12:return;case 13:Oi(i);return;case 19:Oi(i);return;case 17:return}throw Error(c(163))}switch(i.tag){case 0:case 11:case 14:case 15:Ii(3,i,i.return),Lo(3,i),Ii(5,i,i.return);return;case 12:return;case 13:Oi(i);return;case 19:Oi(i);return;case 3:ht&&r!==null&&r.memoizedState.isDehydrated&&oo(i.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ce){switch(i.tag){case 1:case 5:case 6:break e;case 3:case 4:i=i.stateNode,St(i.containerInfo,i.pendingChildren);break e}throw Error(c(163))}}function Oi(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new bd),i.forEach(function(v){var _=Qc.bind(null,r,v);f.has(v)||(f.add(v),v.then(_,_))})}}function Hc(r,i){for(We=i;We!==null;){i=We;var f=i.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var b=r;Pe?_u(b,_,i):Wc(b,_,i);var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(mt){Er(_,i,mt)}}if(f=i.child,i.subtreeFlags&12854&&f!==null)f.return=i,We=f;else for(;We!==null;){i=We;try{var ue=i.flags;if(ue&32&&Pe&&Re(i.stateNode),ue&512){var xe=i.alternate;if(xe!==null){var Ne=xe.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(ue&8192)switch(i.tag){case 13:if(i.memoizedState!==null){var at=i.alternate;(at===null||at.memoizedState===null)&&(Eu=De())}break;case 22:var zt=i.memoizedState!==null,wt=i.alternate,hn=wt!==null&&wt.memoizedState!==null;if(f=i,Pe){e:if(v=f,_=zt,b=null,Pe)for(var pt=v;;){if(pt.tag===5){if(b===null){b=pt;var Cr=pt.stateNode;_?rt(Cr):Ze(pt.stateNode,pt.memoizedProps)}}else if(pt.tag===6){if(b===null){var si=pt.stateNode;_?ft(si):Mt(si,pt.memoizedProps)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===v)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===v)break;for(;pt.sibling===null;){if(pt.return===null||pt.return===v)break e;b===pt&&(b=null),pt=pt.return}b===pt&&(b=null),pt.sibling.return=pt.return,pt=pt.sibling}}if(zt&&!hn&&f.mode&1){We=f;for(var ge=f.child;ge!==null;){for(f=We=ge;We!==null;){v=We;var de=v.child;switch(v.tag){case 0:case 11:case 14:case 15:Ii(4,v,v.return);break;case 1:ks(v,v.return);var we=v.stateNode;if(typeof we.componentWillUnmount=="function"){var qe=v.return;try{we.props=v.memoizedProps,we.state=v.memoizedState,we.componentWillUnmount()}catch(mt){Er(v,qe,mt)}}break;case 5:ks(v,v.return);break;case 22:if(v.memoizedState!==null){wu(f);continue}}de!==null?(de.return=v,We=de):wu(f)}ge=ge.sibling}}}switch(ue&4102){case 2:ri(i),i.flags&=-3;break;case 6:ri(i),i.flags&=-3,aa(i.alternate,i);break;case 4096:i.flags&=-4097;break;case 4100:i.flags&=-4097,aa(i.alternate,i);break;case 4:aa(i.alternate,i)}}catch(mt){Er(i,i.return,mt)}if(f=i.sibling,f!==null){f.return=i.return,We=f;break}We=i.return}}}function Ed(r,i,f){We=r,As(r)}function As(r,i,f){for(var v=(r.mode&1)!==0;We!==null;){var _=We,b=_.child;if(_.tag===22&&v){var H=_.memoizedState!==null||sl;if(!H){var ue=_.alternate,xe=ue!==null&&ue.memoizedState!==null||oa;ue=sl;var Ne=oa;if(sl=H,(oa=xe)&&!Ne)for(We=_;We!==null;)H=We,xe=H.child,H.tag===22&&H.memoizedState!==null?ir(_):xe!==null?(xe.return=H,We=xe):ir(_);for(;b!==null;)We=b,As(b),b=b.sibling;We=_,sl=ue,oa=Ne}Vc(r)}else _.subtreeFlags&8772&&b!==null?(b.return=_,We=b):Vc(r)}}function Vc(r){for(;We!==null;){var i=We;if(i.flags&8772){var f=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:oa||Lo(5,i);break;case 1:var v=i.stateNode;if(i.flags&4&&!oa)if(f===null)v.componentDidMount();else{var _=i.elementType===i.type?f.memoizedProps:Dn(i.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var b=i.updateQueue;b!==null&&Zs(i,b,v);break;case 3:var H=i.updateQueue;if(H!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=le(i.child.stateNode);break;case 1:f=i.child.stateNode}Zs(i,H,f)}break;case 5:var ue=i.stateNode;f===null&&i.flags&4&&en(ue,i.type,i.memoizedProps,i);break;case 6:break;case 4:break;case 12:break;case 13:if(ht&&i.memoizedState===null){var xe=i.alternate;if(xe!==null){var Ne=xe.memoizedState;if(Ne!==null){var at=Ne.dehydrated;at!==null&&Ko(at)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}oa||i.flags&512&&gu(i)}catch(zt){Er(i,i.return,zt)}}if(i===r){We=null;break}if(f=i.sibling,f!==null){f.return=i.return,We=f;break}We=i.return}}function wu(r){for(;We!==null;){var i=We;if(i===r){We=null;break}var f=i.sibling;if(f!==null){f.return=i.return,We=f;break}We=i.return}}function ir(r){for(;We!==null;){var i=We;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{Lo(4,i)}catch(xe){Er(i,f,xe)}break;case 1:var v=i.stateNode;if(typeof v.componentDidMount=="function"){var _=i.return;try{v.componentDidMount()}catch(xe){Er(i,_,xe)}}var b=i.return;try{gu(i)}catch(xe){Er(i,b,xe)}break;case 5:var H=i.return;try{gu(i)}catch(xe){Er(i,H,xe)}}}catch(xe){Er(i,i.return,xe)}if(i===r){We=null;break}var ue=i.sibling;if(ue!==null){ue.return=i.return,We=ue;break}We=i.return}}var Ga=0,Rs=1,ii=2,Wa=3,sa=4;if(typeof Symbol=="function"&&Symbol.for){var Mi=Symbol.for;Ga=Mi("selector.component"),Rs=Mi("selector.has_pseudo_class"),ii=Mi("selector.role"),Wa=Mi("selector.test_id"),sa=Mi("selector.text")}function cl(r){var i=ot(r);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(c(364));return i}if(r=Ee(r),r===null)throw Error(c(362));return r.stateNode.current}function lr(r,i){switch(i.$$typeof){case Ga:if(r.type===i.value)return!0;break;case Rs:e:{i=i.value,r=[r,0];for(var f=0;f<r.length;){var v=r[f++],_=r[f++],b=i[_];if(v.tag!==5||!Qe(v)){for(;b!=null&&lr(v,b);)_++,b=i[_];if(_===i.length){i=!0;break e}else for(v=v.child;v!==null;)r.push(v,_),v=v.sibling}}i=!1}return i;case ii:if(r.tag===5&&ze(r.stateNode,i.value))return!0;break;case sa:if((r.tag===5||r.tag===6)&&(r=je(r),r!==null&&0<=r.indexOf(i.value)))return!0;break;case Wa:if(r.tag===5&&(r=r.memoizedProps["data-testname"],typeof r=="string"&&r.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Ps(r){switch(r.$$typeof){case Ga:return"<"+(j(r.value)||"Unknown")+">";case Rs:return":has("+(Ps(r)||"")+")";case ii:return'[role="'+r.value+'"]';case sa:return'"'+r.value+'"';case Wa:return'[data-testname="'+r.value+'"]';default:throw Error(c(365))}}function Yc(r,i){var f=[];r=[r,0];for(var v=0;v<r.length;){var _=r[v++],b=r[v++],H=i[b];if(_.tag!==5||!Qe(_)){for(;H!=null&&lr(_,H);)b++,H=i[b];if(b===i.length)f.push(_);else for(_=_.child;_!==null;)r.push(_,b),_=_.sibling}}return f}function xu(r,i){if(!He)throw Error(c(363));r=cl(r),r=Yc(r,i),i=[],r=Array.from(r);for(var f=0;f<r.length;){var v=r[f++];if(v.tag===5)Qe(v)||i.push(v.stateNode);else for(v=v.child;v!==null;)r.push(v),v=v.sibling}return i}var Td=Math.ceil,Ha=h.ReactCurrentDispatcher,Su=h.ReactCurrentOwner,bn=h.ReactCurrentBatchConfig,Wt=0,Hn=null,Vn=null,zn=0,oi=0,Va=dr(0),Bn=0,Ya=null,Ja=0,fl=0,bu=0,Xa=null,xr=null,Eu=0,Ls=1/0;function la(){Ls=De()+500}var Is=!1,dl=null,Ui=null,hl=!1,go=null,Os=0,Ms=0,pl=null,ml=-1,qa=0;function Sr(){return Wt&6?De():ml!==-1?ml:ml=De()}function Qi(r){return r.mode&1?Wt&2&&zn!==0?zn&-zn:Zo.transition!==null?(qa===0&&(r=mr,mr<<=1,!(mr&4194240)&&(mr=64),qa=r),qa):(r=me,r!==0?r:st()):1}function gi(r,i,f){if(50<Ms)throw Ms=0,pl=null,Error(c(185));var v=Ka(r,i);return v===null?null:(O(v,i,f),(!(Wt&2)||v!==Hn)&&(v===Hn&&(!(Wt&2)&&(fl|=i),Bn===4&&Oo(v,zn)),bt(v,f),i===1&&Wt===0&&!(r.mode&1)&&(la(),pi&&Ur())),v)}function Ka(r,i){r.lanes|=i;var f=r.alternate;for(f!==null&&(f.lanes|=i),f=r,r=r.return;r!==null;)r.childLanes|=i,f=r.alternate,f!==null&&(f.childLanes|=i),f=r,r=r.return;return f.tag===3?f.stateNode:null}function bt(r,i){var f=r.callbackNode;C(r,i);var v=vt(r,r===Hn?zn:0);if(v===0)f!==null&&Fe(f),r.callbackNode=null,r.callbackPriority=0;else if(i=v&-v,r.callbackPriority!==i){if(f!=null&&Fe(f),i===1)r.tag===0?ls(qc.bind(null,r)):ss(qc.bind(null,r)),Me?lt(function(){Wt===0&&Ur()}):Ue(Je,Ur),f=null;else{switch(Ye(v)){case 1:f=Je;break;case 4:f=_t;break;case 16:f=Ke;break;case 536870912:f=fn;break;default:f=Ke}f=_l(f,Jc.bind(null,r))}r.callbackPriority=i,r.callbackNode=f}}function Jc(r,i){if(ml=-1,qa=0,Wt&6)throw Error(c(327));var f=r.callbackNode;if(No()&&r.callbackNode!==f)return null;var v=vt(r,r===Hn?zn:0);if(v===0)return null;if(v&30||v&r.expiredLanes||i)i=br(r,v);else{i=v;var _=Wt;Wt|=2;var b=ku();(Hn!==r||zn!==i)&&(la(),Zi(r,i));do try{Au();break}catch(ue){gl(r,ue)}while(!0);$o(),Ha.current=b,Wt=_,Vn!==null?i=0:(Hn=null,zn=0,i=Bn)}if(i!==0){if(i===2&&(_=T(r),_!==0&&(v=_,i=Tu(r,_))),i===1)throw f=Ya,Zi(r,0),Oo(r,v),bt(r,De()),f;if(i===6)Oo(r,v);else{if(_=r.current.alternate,!(v&30)&&!Xc(_)&&(i=br(r,v),i===2&&(b=T(r),b!==0&&(v=b,i=Tu(r,b))),i===1))throw f=Ya,Zi(r,0),Oo(r,v),bt(r,De()),f;switch(r.finishedWork=_,r.finishedLanes=v,i){case 0:case 1:throw Error(c(345));case 2:Uo(r,xr);break;case 3:if(Oo(r,v),(v&130023424)===v&&(i=Eu+500-De(),10<i)){if(vt(r,0)!==0)break;if(_=r.suspendedLanes,(_&v)!==v){Sr(),r.pingedLanes|=r.suspendedLanes&_;break}r.timeoutHandle=ce(Uo.bind(null,r,xr),i);break}Uo(r,xr);break;case 4:if(Oo(r,v),(v&4194240)===v)break;for(i=r.eventTimes,_=-1;0<v;){var H=31-ar(v);b=1<<H,H=i[H],H>_&&(_=H),v&=~b}if(v=_,v=De()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Td(v/1960))-v,10<v){r.timeoutHandle=ce(Uo.bind(null,r,xr),v);break}Uo(r,xr);break;case 5:Uo(r,xr);break;default:throw Error(c(329))}}}return bt(r,De()),r.callbackNode===f?Jc.bind(null,r):null}function Tu(r,i){var f=Xa;return r.current.memoizedState.isDehydrated&&(Zi(r,i).flags|=256),r=br(r,i),r!==2&&(i=xr,xr=f,i!==null&&ua(i)),r}function ua(r){xr===null?xr=r:xr.push.apply(xr,r)}function Xc(r){for(var i=r;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],b=_.getSnapshot;_=_.value;try{if(!dn(b(),_))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Oo(r,i){for(i&=~bu,i&=~fl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var f=31-ar(i),v=1<<f;r[f]=-1,i&=~v}}function qc(r){if(Wt&6)throw Error(c(327));No();var i=vt(r,0);if(!(i&1))return bt(r,De()),null;var f=br(r,i);if(r.tag!==0&&f===2){var v=T(r);v!==0&&(i=v,f=Tu(r,v))}if(f===1)throw f=Ya,Zi(r,0),Oo(r,i),bt(r,De()),f;if(f===6)throw Error(c(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Uo(r,xr),bt(r,De()),null}function ai(r){go!==null&&go.tag===0&&!(Wt&6)&&No();var i=Wt;Wt|=1;var f=bn.transition,v=me;try{if(bn.transition=null,me=1,r)return r()}finally{me=v,bn.transition=f,Wt=i,!(Wt&6)&&Ur()}}function Cu(){oi=Va.current,an(Va)}function Zi(r,i){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==Oe&&(r.timeoutHandle=Oe,_e(f)),Vn!==null)for(f=Vn.return;f!==null;){var v=f;switch(Nr(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Yr();break;case 3:Ua(),an(Nn),an(Tn),$e();break;case 5:Co(v);break;case 4:Ua();break;case 13:an(re);break;case 19:an(re);break;case 10:qn(v.type._context);break;case 22:case 23:Cu()}f=f.return}if(Hn=r,Vn=r=vo(r.current,null),zn=oi=i,Bn=0,Ya=null,bu=fl=Ja=0,xr=Xa=null,ei!==null){for(i=0;i<ei.length;i++)if(f=ei[i],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,b=f.pending;if(b!==null){var H=b.next;b.next=_,v.next=H}f.pending=v}ei=null}return r}function gl(r,i){do{var f=Vn;try{if($o(),Lt.current=za,Fr){for(var v=At.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Fr=!1}if(En=0,rr=nr=At=null,ko=!1,gs=0,Su.current=null,f===null||f.return===null){Bn=1,Ya=i,Vn=null;break}e:{var b=r,H=f.return,ue=f,xe=i;if(i=zn,ue.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ne=xe,at=ue,zt=at.tag;if(!(at.mode&1)&&(zt===0||zt===11||zt===15)){var wt=at.alternate;wt?(at.updateQueue=wt.updateQueue,at.memoizedState=wt.memoizedState,at.lanes=wt.lanes):(at.updateQueue=null,at.memoizedState=null)}var hn=Ac(H);if(hn!==null){hn.flags&=-257,Rc(hn,H,ue,b,i),hn.mode&1&&kc(b,Ne,i),i=hn,xe=Ne;var pt=i.updateQueue;if(pt===null){var Cr=new Set;Cr.add(xe),i.updateQueue=Cr}else pt.add(xe);break e}else{if(!(i&1)){kc(b,Ne,i),vl();break e}xe=Error(c(426))}}else if(Sn&&ue.mode&1){var si=Ac(H);if(si!==null){!(si.flags&65536)&&(si.flags|=256),Rc(si,H,ue,b,i),ps(xe);break e}}b=xe,Bn!==4&&(Bn=2),Xa===null?Xa=[b]:Xa.push(b),xe=na(xe,ue),ue=H;do{switch(ue.tag){case 3:ue.flags|=65536,i&=-i,ue.lanes|=i;var ge=ia(ue,xe,i);xn(ue,ge);break e;case 1:b=xe;var de=ue.type,we=ue.stateNode;if(!(ue.flags&128)&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Ui===null||!Ui.has(we)))){ue.flags|=65536,i&=-i,ue.lanes|=i;var qe=Cc(ue,b,i);xn(ue,qe);break e}}ue=ue.return}while(ue!==null)}Us(f)}catch(mt){i=mt,Vn===f&&f!==null&&(Vn=f=f.return);continue}break}while(!0)}function ku(){var r=Ha.current;return Ha.current=za,r===null?za:r}function vl(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Hn===null||!(Ja&268435455)&&!(fl&268435455)||Oo(Hn,zn)}function br(r,i){var f=Wt;Wt|=2;var v=ku();Hn===r&&zn===i||Zi(r,i);do try{Mo();break}catch(_){gl(r,_)}while(!0);if($o(),Wt=f,Ha.current=v,Vn!==null)throw Error(c(261));return Hn=null,zn=0,Bn}function Mo(){for(;Vn!==null;)Ru(Vn)}function Au(){for(;Vn!==null&&!ut();)Ru(Vn)}function Ru(r){var i=Lu(r.alternate,r,oi);r.memoizedProps=r.pendingProps,i===null?Us(r):Vn=i,Su.current=null}function Us(r){var i=r;do{var f=i.alternate;if(r=i.return,i.flags&32768){if(f=Sd(f,i),f!==null){f.flags&=32767,Vn=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bn=6,Vn=null;return}}else if(f=_d(f,i,oi),f!==null){Vn=f;return}if(i=i.sibling,i!==null){Vn=i;return}Vn=i=r}while(i!==null);Bn===0&&(Bn=5)}function Uo(r,i){var f=me,v=bn.transition;try{bn.transition=null,me=1,Pu(r,i,f)}finally{bn.transition=v,me=f}return null}function Pu(r,i,f){do No();while(go!==null);if(Wt&6)throw Error(c(327));var v=r.finishedWork,_=r.finishedLanes;if(v===null)return null;if(r.finishedWork=null,r.finishedLanes=0,v===r.current)throw Error(c(177));r.callbackNode=null,r.callbackPriority=0;var b=v.lanes|v.childLanes;if(N(r,b),r===Hn&&(Vn=Hn=null,zn=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||hl||(hl=!0,_l(Ke,function(){return No(),null})),b=(v.flags&15990)!==0,v.subtreeFlags&15990||b){b=bn.transition,bn.transition=null;var H=me;me=1;var ue=Wt;Wt|=4,Su.current=null,mu(r,v),Hc(r,v),J(r.containerInfo),r.current=v,Ed(v),Le(),Wt=ue,me=H,bn.transition=b}else r.current=v;if(hl&&(hl=!1,go=r,Os=_),b=r.pendingLanes,b===0&&(Ui=null),dt(v.stateNode),bt(r,De()),i!==null)for(f=r.onRecoverableError,v=0;v<i.length;v++)f(i[v]);if(Is)throw Is=!1,r=dl,dl=null,r;return Os&1&&r.tag!==0&&No(),b=r.pendingLanes,b&1?r===pl?Ms++:(Ms=0,pl=r):Ms=0,Ur(),null}function No(){if(go!==null){var r=Ye(Os),i=bn.transition,f=me;try{if(bn.transition=null,me=16>r?16:r,go===null)var v=!1;else{if(r=go,go=null,Os=0,Wt&6)throw Error(c(331));var _=Wt;for(Wt|=4,We=r.current;We!==null;){var b=We,H=b.child;if(We.flags&16){var ue=b.deletions;if(ue!==null){for(var xe=0;xe<ue.length;xe++){var Ne=ue[xe];for(We=Ne;We!==null;){var at=We;switch(at.tag){case 0:case 11:case 15:Ii(8,at,b)}var zt=at.child;if(zt!==null)zt.return=at,We=zt;else for(;We!==null;){at=We;var wt=at.sibling,hn=at.return;if(Ki(at),at===Ne){We=null;break}if(wt!==null){wt.return=hn,We=wt;break}We=hn}}}var pt=b.alternate;if(pt!==null){var Cr=pt.child;if(Cr!==null){pt.child=null;do{var si=Cr.sibling;Cr.sibling=null,Cr=si}while(Cr!==null)}}We=b}}if(b.subtreeFlags&2064&&H!==null)H.return=b,We=H;else e:for(;We!==null;){if(b=We,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Ii(9,b,b.return)}var ge=b.sibling;if(ge!==null){ge.return=b.return,We=ge;break e}We=b.return}}var de=r.current;for(We=de;We!==null;){H=We;var we=H.child;if(H.subtreeFlags&2064&&we!==null)we.return=H,We=we;else e:for(H=de;We!==null;){if(ue=We,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Lo(9,ue)}}catch(mt){Er(ue,ue.return,mt)}if(ue===H){We=null;break e}var qe=ue.sibling;if(qe!==null){qe.return=ue.return,We=qe;break e}We=ue.return}}if(Wt=_,Ur(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Qt,r)}catch{}v=!0}return v}finally{me=f,bn.transition=i}}return!1}function yl(r,i,f){i=na(f,i),i=ia(r,i,1),Ti(r,i),i=Sr(),r=Ka(r,1),r!==null&&(O(r,1,i),bt(r,i))}function Er(r,i,f){if(r.tag===3)yl(r,r,f);else for(;i!==null;){if(i.tag===3){yl(i,r,f);break}else if(i.tag===1){var v=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ui===null||!Ui.has(v))){r=na(f,r),r=Cc(i,r,1),Ti(i,r),r=Sr(),i=Ka(i,1),i!==null&&(O(i,1,r),bt(i,r));break}}i=i.return}}function Do(r,i,f){var v=r.pingCache;v!==null&&v.delete(i),i=Sr(),r.pingedLanes|=r.suspendedLanes&f,Hn===r&&(zn&f)===f&&(Bn===4||Bn===3&&(zn&130023424)===zn&&500>De()-Eu?Zi(r,0):bu|=f),bt(r,i)}function Kc(r,i){i===0&&(r.mode&1?(i=Jr,Jr<<=1,!(Jr&130023424)&&(Jr=4194304)):i=1);var f=Sr();r=Ka(r,i),r!==null&&(O(r,i,f),bt(r,f))}function Fo(r){var i=r.memoizedState,f=0;i!==null&&(f=i.retryLane),Kc(r,f)}function Qc(r,i){var f=0;switch(r.tag){case 13:var v=r.stateNode,_=r.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=r.stateNode;break;default:throw Error(c(314))}v!==null&&v.delete(i),Kc(r,f)}var Lu;Lu=function(r,i,f){if(r!==null)if(r.memoizedProps!==i.pendingProps||Nn.current)ni=!0;else{if(!(r.lanes&f)&&!(i.flags&128))return ni=!1,xd(r,i,f);ni=!!(r.flags&131072)}else ni=!1,Sn&&i.flags&1048576&&hc(i,ds,i.index);switch(i.lanes=0,i.tag){case 2:var v=i.type;r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),r=i.pendingProps;var _=hr(i,Tn.current);Mn(i,f),_=cn(null,i,v,r,_,f);var b=iu();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wn(v)?(b=!0,hi(i)):b=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Zl(i),_.updater=$s,i.stateNode=_,_._reactInternals=i,ka(i,v,r,f),i=fu(null,i,v,!0,b,f)):(i.tag=0,Sn&&b&&el(i),Fn(null,i,_,f),i=i.child),i;case 16:v=i.elementType;e:{switch(r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),r=i.pendingProps,_=v._init,v=_(v._payload),i.type=v,_=i.tag=Zc(v),r=Dn(v,r),_){case 0:i=Li(null,i,v,r,f);break e;case 1:i=Uc(null,i,v,r,f);break e;case 11:i=Pc(null,i,v,r,f);break e;case 14:i=Lc(null,i,v,Dn(v.type,r),f);break e}throw Error(c(306,v,""))}return i;case 0:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Li(r,i,v,_,f);case 1:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Uc(r,i,v,_,f);case 3:e:{if(Nc(i),r===null)throw Error(c(387));v=i.pendingProps,b=i.memoizedState,_=b.element,$l(r,i),Ci(i,v,null,f);var H=i.memoizedState;if(v=H.element,ht&&b.isDehydrated)if(b={element:v,isDehydrated:!1,cache:H.cache,transitions:H.transitions},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){_=Error(c(423)),i=Dc(r,i,v,f,_);break e}else if(v!==_){_=Error(c(424)),i=Dc(r,i,v,f,_);break e}else for(ht&&(sr=Gn(i.stateNode.containerInfo),Dr=i,Sn=!0,Ri=null,Ra=!1),f=vc(i,null,v,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Pa(),v===_){i=$n(r,i,f);break e}Fn(r,i,v,f)}i=i.child}return i;case 5:return yc(i),r===null&&nu(i),v=i.type,_=i.pendingProps,b=r!==null?r.memoizedProps:null,H=_.children,$(v,_)?H=null:b!==null&&$(v,b)&&(i.flags|=32),Mc(r,i),Fn(r,i,H,f),i.child;case 6:return r===null&&nu(i),null;case 13:return Fc(r,i,f);case 4:return ru(i,i.stateNode.containerInfo),v=i.pendingProps,r===null?i.child=Ia(i,null,v,f):Fn(r,i,v,f),i.child;case 11:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Pc(r,i,v,_,f);case 7:return Fn(r,i,i.pendingProps,f),i.child;case 8:return Fn(r,i,i.pendingProps.children,f),i.child;case 12:return Fn(r,i,i.pendingProps.children,f),i.child;case 10:e:{if(v=i.type._context,_=i.pendingProps,b=i.memoizedProps,H=_.value,us(i,v,H),b!==null)if(dn(b.value,H)){if(b.children===_.children&&!Nn.current){i=$n(r,i,f);break e}}else for(b=i.child,b!==null&&(b.return=i);b!==null;){var ue=b.dependencies;if(ue!==null){H=b.child;for(var xe=ue.firstContext;xe!==null;){if(xe.context===v){if(b.tag===1){xe=yr(-1,f&-f),xe.tag=2;var Ne=b.updateQueue;if(Ne!==null){Ne=Ne.shared;var at=Ne.pending;at===null?xe.next=xe:(xe.next=at.next,at.next=xe),Ne.pending=xe}}b.lanes|=f,xe=b.alternate,xe!==null&&(xe.lanes|=f),vr(b.return,f,i),ue.lanes|=f;break}xe=xe.next}}else if(b.tag===10)H=b.type===i.type?null:b.child;else if(b.tag===18){if(H=b.return,H===null)throw Error(c(341));H.lanes|=f,ue=H.alternate,ue!==null&&(ue.lanes|=f),vr(H,f,i),H=b.sibling}else H=b.child;if(H!==null)H.return=b;else for(H=b;H!==null;){if(H===i){H=null;break}if(b=H.sibling,b!==null){b.return=H.return,H=b;break}H=H.return}b=H}Fn(r,i,_.children,f),i=i.child}return i;case 9:return _=i.type,v=i.pendingProps.children,Mn(i,f),_=sn(_),v=v(_),i.flags|=1,Fn(r,i,v,f),i.child;case 14:return v=i.type,_=Dn(v,i.pendingProps),_=Dn(v.type,_),Lc(r,i,v,_,f);case 15:return Ic(r,i,i.type,i.pendingProps,f);case 17:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,Wn(v)?(r=!0,hi(i)):r=!1,Mn(i,f),dc(i,v,_),ka(i,v,_,f),fu(null,i,v,!0,r,f);case 19:return jc(r,i,f);case 22:return Oc(r,i,f)}throw Error(c(156,i.tag))};function _l(r,i){return Ue(r,i)}function Cd(r,i,f,v){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(r,i,f,v){return new Cd(r,i,f,v)}function Iu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zc(r){if(typeof r=="function")return Iu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===P)return 11;if(r===I)return 14}return 2}function vo(r,i){var f=r.alternate;return f===null?(f=vi(r.tag,i,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=i,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,i=r.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function wl(r,i,f,v,_,b){var H=2;if(v=r,typeof r=="function")Iu(r)&&(H=1);else if(typeof r=="string")H=5;else e:switch(r){case m:return zo(f.children,_,b,i);case y:H=8,_|=8;break;case x:return r=vi(12,f,i,_|2),r.elementType=x,r.lanes=b,r;case R:return r=vi(13,f,i,_),r.elementType=R,r.lanes=b,r;case A:return r=vi(19,f,i,_),r.elementType=A,r.lanes=b,r;case F:return Ns(f,_,b,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:H=10;break e;case E:H=9;break e;case P:H=11;break e;case I:H=14;break e;case L:H=16,v=null;break e}throw Error(c(130,r==null?r:typeof r,""))}return i=vi(H,f,i,_),i.elementType=r,i.type=v,i.lanes=b,i}function zo(r,i,f,v){return r=vi(7,r,v,i),r.lanes=f,r}function Ns(r,i,f,v){return r=vi(22,r,v,i),r.elementType=F,r.lanes=f,r.stateNode={},r}function Tr(r,i,f){return r=vi(6,r,null,i),r.lanes=f,r}function yi(r,i,f){return i=vi(4,r.children!==null?r.children:[],r.key,i),i.lanes=f,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function kd(r,i,f,v,_){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U(0),this.expirationTimes=U(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.identifierPrefix=v,this.onRecoverableError=_,ht&&(this.mutableSourceEagerHydrationData=null)}function $c(r,i,f,v,_,b,H,ue,xe){return r=new kd(r,i,f,ue,xe),i===1?(i=1,b===!0&&(i|=8)):i=0,b=vi(3,null,null,i),r.current=b,b.stateNode=r,b.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null},Zl(b),r}function Ds(r){if(!r)return Or;r=r._reactInternals;e:{if(X(r)!==r||r.tag!==1)throw Error(c(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(c(171))}if(r.tag===1){var f=r.type;if(Wn(f))return vn(r,f,i)}return i}function ca(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(c(188)):(r=Object.keys(r).join(","),Error(c(268,r)));return r=V(i),r===null?null:r.stateNode}function Ou(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<i?f:i}}function xl(r,i){Ou(r,i),(r=r.alternate)&&Ou(r,i)}function Ad(r){return r=V(r),r===null?null:r.stateNode}function ef(){return null}return l.attemptContinuousHydration=function(r){if(r.tag===13){var i=Sr();gi(r,134217728,i),xl(r,134217728)}},l.attemptHydrationAtCurrentPriority=function(r){if(r.tag===13){var i=Sr(),f=Qi(r);gi(r,f,i),xl(r,f)}},l.attemptSynchronousHydration=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var f=gr(i.pendingLanes);f!==0&&(ve(i,f|1),bt(i,De()),!(Wt&6)&&(la(),Ur()))}break;case 13:var v=Sr();ai(function(){return gi(r,1,v)}),xl(r,1)}},l.batchedUpdates=function(r,i){var f=Wt;Wt|=1;try{return r(i)}finally{Wt=f,Wt===0&&(la(),pi&&Ur())}},l.createComponentSelector=function(r){return{$$typeof:Ga,value:r}},l.createContainer=function(r,i,f,v,_,b,H){return $c(r,i,!1,null,f,v,_,b,H)},l.createHasPseudoClassSelector=function(r){return{$$typeof:Rs,value:r}},l.createHydrationContainer=function(r,i,f,v,_,b,H,ue,xe){return r=$c(f,v,!0,r,_,b,H,ue,xe),r.context=Ds(null),f=r.current,v=Sr(),_=Qi(f),b=yr(v,_),b.callback=i??null,Ti(f,b),r.current.lanes=_,O(r,_,v),bt(r,v),r},l.createPortal=function(r,i,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:v==null?null:""+v,children:r,containerInfo:i,implementation:f}},l.createRoleSelector=function(r){return{$$typeof:ii,value:r}},l.createTestNameSelector=function(r){return{$$typeof:Wa,value:r}},l.createTextSelector=function(r){return{$$typeof:sa,value:r}},l.deferredUpdates=function(r){var i=me,f=bn.transition;try{return bn.transition=null,me=16,r()}finally{me=i,bn.transition=f}},l.discreteUpdates=function(r,i,f,v,_){var b=me,H=bn.transition;try{return bn.transition=null,me=1,r(i,f,v,_)}finally{me=b,bn.transition=H,Wt===0&&la()}},l.findAllNodes=xu,l.findBoundingRects=function(r,i){if(!He)throw Error(c(363));i=xu(r,i),r=[];for(var f=0;f<i.length;f++)r.push(xt(i[f]));for(i=r.length-1;0<i;i--){f=r[i];for(var v=f.x,_=v+f.width,b=f.y,H=b+f.height,ue=i-1;0<=ue;ue--)if(i!==ue){var xe=r[ue],Ne=xe.x,at=Ne+xe.width,zt=xe.y,wt=zt+xe.height;if(v>=Ne&&b>=zt&&_<=at&&H<=wt){r.splice(i,1);break}else if(v!==Ne||f.width!==xe.width||wt<b||zt>H){if(!(b!==zt||f.height!==xe.height||at<v||Ne>_)){Ne>v&&(xe.width+=Ne-v,xe.x=v),at<_&&(xe.width=_-Ne),r.splice(i,1);break}}else{zt>b&&(xe.height+=zt-b,xe.y=b),wt<H&&(xe.height=H-zt),r.splice(i,1);break}}}return r},l.findHostInstance=ca,l.findHostInstanceWithNoPortals=function(r){return r=ie(r),r=r!==null?pe(r):null,r===null?null:r.stateNode},l.findHostInstanceWithWarning=function(r){return ca(r)},l.flushControlled=function(r){var i=Wt;Wt|=1;var f=bn.transition,v=me;try{bn.transition=null,me=1,r()}finally{me=v,bn.transition=f,Wt=i,Wt===0&&(la(),Ur())}},l.flushPassiveEffects=No,l.flushSync=ai,l.focusWithin=function(r,i){if(!He)throw Error(c(363));for(r=cl(r),i=Yc(r,i),i=Array.from(i),r=0;r<i.length;){var f=i[r++];if(!Qe(f)){if(f.tag===5&&Zt(f.stateNode))return!0;for(f=f.child;f!==null;)i.push(f),f=f.sibling}}return!1},l.getCurrentUpdatePriority=function(){return me},l.getFindAllNodesFailureDescription=function(r,i){if(!He)throw Error(c(363));var f=0,v=[];r=[cl(r),0];for(var _=0;_<r.length;){var b=r[_++],H=r[_++],ue=i[H];if((b.tag!==5||!Qe(b))&&(lr(b,ue)&&(v.push(Ps(ue)),H++,H>f&&(f=H)),H<i.length))for(b=b.child;b!==null;)r.push(b,H),b=b.sibling}if(f<i.length){for(r=[];f<i.length;f++)r.push(Ps(i[f]));return`findAllNodes was able to match part of the selector:
  `+(v.join(" > ")+`

No matching component was found for:
  `)+r.join(" > ")}return null},l.getPublicRootInstance=function(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return le(r.child.stateNode);default:return r.child.stateNode}},l.injectIntoDevTools=function(r){if(r={bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:Ad,findFiberByHostInstance:r.findFiberByHostInstance||ef,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")r=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)r=!0;else{try{Qt=i.inject(r),Ut=i}catch{}r=!!i.checkDCE}}return r},l.isAlreadyRendering=function(){return!1},l.observeVisibleRects=function(r,i,f,v){if(!He)throw Error(c(363));r=xu(r,i);var _=tt(r,f,v).disconnect;return{disconnect:function(){_()}}},l.registerMutableSourceForHydration=function(r,i){var f=i._getVersion;f=f(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,f]:r.mutableSourceEagerHydrationData.push(i,f)},l.runWithPriority=function(r,i){var f=me;try{return me=r,i()}finally{me=f}},l.shouldError=function(){return null},l.shouldSuspend=function(){return!1},l.updateContainer=function(r,i,f,v){var _=i.current,b=Sr(),H=Qi(_);return f=Ds(f),i.context===null?i.context=f:i.pendingContext=f,i=yr(b,H),i.payload={element:r},v=v===void 0?null:v,v!==null&&(i.callback=v),Ti(_,i),r=gi(_,H,b),r!==null&&Ca(r,_,H),H},l}),lh}var rg;function YS(){return rg||(rg=1,oh.exports=VS()),oh.exports}var JS=YS();const XS=fp(JS);var uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function qS(){return ig||(ig=1,function(t){function e(Y,Q){var J=Y.length;Y.push(Q);e:for(;0<J;){var B=J-1>>>1,Z=Y[B];if(0<a(Z,Q))Y[B]=Q,Y[J]=Z,J=B;else break e}}function l(Y){return Y.length===0?null:Y[0]}function u(Y){if(Y.length===0)return null;var Q=Y[0],J=Y.pop();if(J!==Q){Y[0]=J;e:for(var B=0,Z=Y.length,ee=Z>>>1;B<ee;){var se=2*(B+1)-1,$=Y[se],ae=se+1,ce=Y[ae];if(0>a($,J))ae<Z&&0>a(ce,$)?(Y[B]=ce,Y[ae]=J,B=ae):(Y[B]=$,Y[se]=J,B=se);else if(ae<Z&&0>a(ce,J))Y[B]=ce,Y[ae]=J,B=ae;else break e}}return Q}function a(Y,Q){var J=Y.sortIndex-Q.sortIndex;return J!==0?J:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],g=[],m=1,y=null,x=3,S=!1,E=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Y){for(var Q=l(g);Q!==null;){if(Q.callback===null)u(g);else if(Q.startTime<=Y)u(g),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=l(g)}}function F(Y){if(P=!1,L(Y),!E)if(l(d)!==null)E=!0,le(D);else{var Q=l(g);Q!==null&&Te(F,Q.startTime-Y)}}function D(Y,Q){E=!1,P&&(P=!1,A(W),W=-1),S=!0;var J=x;try{for(L(Q),y=l(d);y!==null&&(!(y.expirationTime>Q)||Y&&!ie());){var B=y.callback;if(typeof B=="function"){y.callback=null,x=y.priorityLevel;var Z=B(y.expirationTime<=Q);Q=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===l(d)&&u(d),L(Q)}else u(d);y=l(d)}if(y!==null)var ee=!0;else{var se=l(g);se!==null&&Te(F,se.startTime-Q),ee=!1}return ee}finally{y=null,x=J,S=!1}}var G=!1,j=null,W=-1,X=5,K=-1;function ie(){return!(t.unstable_now()-K<X)}function V(){if(j!==null){var Y=t.unstable_now();K=Y;var Q=!0;try{Q=j(!0,Y)}finally{Q?fe():(G=!1,j=null)}}else G=!1}var fe;if(typeof I=="function")fe=function(){I(V)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,be=pe.port2;pe.port1.onmessage=V,fe=function(){be.postMessage(null)}}else fe=function(){R(V,0)};function le(Y){j=Y,G||(G=!0,fe())}function Te(Y,Q){W=R(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,le(D))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return l(d)},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var J=x;x=Q;try{return Y()}finally{x=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=x;x=Y;try{return Q()}finally{x=J}},t.unstable_scheduleCallback=function(Y,Q,J){var B=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?B+J:B):J=B,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,Y={id:m++,callback:Q,priorityLevel:Y,startTime:J,expirationTime:Z,sortIndex:-1},J>B?(Y.sortIndex=J,e(g,Y),l(d)===null&&Y===l(g)&&(P?(A(W),W=-1):P=!0,Te(F,J-B))):(Y.sortIndex=Z,e(d,Y),E||S||(E=!0,le(D))),Y},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(Y){var Q=x;return function(){var J=x;x=Q;try{return Y.apply(this,arguments)}finally{x=J}}}}(ch)),ch}var og;function KS(){return og||(og=1,uh.exports=qS()),uh.exports}var ag=KS();const _p={},QS=t=>void Object.assign(_p,t);function ZS(t,e){function l(m,{args:y=[],attach:x,...S},E){let P=`${m[0].toUpperCase()}${m.slice(1)}`,R;if(m==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=S.object;R=Ml(A,{type:m,root:E,attach:x,primitive:!0})}else{const A=_p[P];if(!A)throw new Error(`R3F: ${P} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(y))throw new Error("R3F: The args prop must be an array!");R=Ml(new A(...y),{type:m,root:E,attach:x,memoizedProps:{args:y}})}return R.__r3f.attach===void 0&&(R instanceof Hf?R.__r3f.attach="geometry":R instanceof Gx&&(R.__r3f.attach="material")),P!=="inject"&&hh(R,S),R}function u(m,y){let x=!1;if(y){var S,E;(S=y.__r3f)!=null&&S.attach?dh(m,y,y.__r3f.attach):y.isObject3D&&m.isObject3D&&(m.add(y),x=!0),x||(E=m.__r3f)==null||E.objects.push(y),y.__r3f||Ml(y,{}),y.__r3f.parent=m,$h(y),Ul(y)}}function a(m,y,x){let S=!1;if(y){var E,P;if((E=y.__r3f)!=null&&E.attach)dh(m,y,y.__r3f.attach);else if(y.isObject3D&&m.isObject3D){y.parent=m,y.dispatchEvent({type:"added"}),m.dispatchEvent({type:"childadded",child:y});const R=m.children.filter(I=>I!==y),A=R.indexOf(x);m.children=[...R.slice(0,A),y,...R.slice(A)],S=!0}S||(P=m.__r3f)==null||P.objects.push(y),y.__r3f||Ml(y,{}),y.__r3f.parent=m,$h(y),Ul(y)}}function o(m,y,x=!1){m&&[...m].forEach(S=>c(y,S,x))}function c(m,y,x){if(y){var S,E,P;if(y.__r3f&&(y.__r3f.parent=null),(S=m.__r3f)!=null&&S.objects&&(m.__r3f.objects=m.__r3f.objects.filter(F=>F!==y)),(E=y.__r3f)!=null&&E.attach)fg(m,y,y.__r3f.attach);else if(y.isObject3D&&m.isObject3D){var R;m.remove(y),(R=y.__r3f)!=null&&R.root&&ob(zf(y),y)}const I=(P=y.__r3f)==null?void 0:P.primitive,L=!I&&(x===void 0?y.dispose!==null:x);if(!I){var A;o((A=y.__r3f)==null?void 0:A.objects,y,L),o(y.children,y,L)}if(delete y.__r3f,L&&y.dispose&&y.type!=="Scene"){const F=()=>{try{y.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?ag.unstable_scheduleCallback(ag.unstable_IdlePriority,F):F()}Ul(m)}}function h(m,y,x,S){var E;const P=(E=m.__r3f)==null?void 0:E.parent;if(!P)return;const R=l(y,x,m.__r3f.root);if(m.children){for(const A of m.children)A.__r3f&&u(R,A);m.children=m.children.filter(A=>!A.__r3f)}m.__r3f.objects.forEach(A=>u(R,A)),m.__r3f.objects=[],m.__r3f.autoRemovedBeforeAppend||c(P,m),R.parent&&(R.__r3f.autoRemovedBeforeAppend=!0),u(P,R),R.raycast&&R.__r3f.eventCount&&zf(R).getState().internal.interaction.push(R),[S,S.alternate].forEach(A=>{A!==null&&(A.stateNode=R,A.ref&&(typeof A.ref=="function"?A.ref(R):A.ref.current=R))})}const d=()=>{};return{reconciler:XS({createInstance:l,removeChild:c,appendChild:u,appendInitialChild:u,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(m,y)=>{if(!y)return;const x=m.getState().scene;x.__r3f&&(x.__r3f.root=m,u(x,y))},removeChildFromContainer:(m,y)=>{y&&c(m.getState().scene,y)},insertInContainerBefore:(m,y,x)=>{if(!y||!x)return;const S=m.getState().scene;S.__r3f&&a(S,y,x)},getRootHostContext:()=>null,getChildHostContext:m=>m,finalizeInitialChildren(m){var y;return!!((y=m==null?void 0:m.__r3f)!=null?y:{}).handlers},prepareUpdate(m,y,x,S){var E;if(((E=m==null?void 0:m.__r3f)!=null?E:{}).primitive&&S.object&&S.object!==m)return[!0];{const{args:R=[],children:A,...I}=S,{args:L=[],children:F,...D}=x;if(!Array.isArray(R))throw new Error("R3F: the args prop must be an array!");if(R.some((j,W)=>j!==L[W]))return[!0];const G=nv(m,I,D,!0);return G.changes.length?[!1,G]:null}},commitUpdate(m,[y,x],S,E,P,R){y?h(m,S,P,R):hh(m,x)},commitMount(m,y,x,S){var E;const P=(E=m.__r3f)!=null?E:{};m.raycast&&P.handlers&&P.eventCount&&zf(m).getState().internal.interaction.push(m)},getPublicInstance:m=>m,prepareForCommit:()=>null,preparePortalMount:m=>Ml(m.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(m){var y;const{attach:x,parent:S}=(y=m.__r3f)!=null?y:{};x&&S&&fg(S,m,x),m.isObject3D&&(m.visible=!1),Ul(m)},unhideInstance(m,y){var x;const{attach:S,parent:E}=(x=m.__r3f)!=null?x:{};S&&E&&dh(E,m,S),(m.isObject3D&&y.visible==null||y.visible)&&(m.visible=!0),Ul(m)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Rn.fun(performance.now)?performance.now:Rn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Rn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Rn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:hh}}var sg,lg;const fh=t=>"colorSpace"in t||"outputColorSpace"in t,K0=()=>{var t;return(t=_p.ColorManagement)!=null?t:null},Q0=t=>t&&t.isOrthographicCamera,$S=t=>t&&t.hasOwnProperty("current"),ac=typeof window<"u"&&((sg=window.document)!=null&&sg.createElement||((lg=window.navigator)==null?void 0:lg.product)==="ReactNative")?ne.useLayoutEffect:ne.useEffect;function Z0(t){const e=ne.useRef(t);return ac(()=>void(e.current=t),[t]),e}function eb({set:t}){return ac(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class $0 extends ne.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$0.getDerivedStateFromError=()=>({error:!0});const ev="__default",ug=new Map,tb=t=>t&&!!t.memoized&&!!t.changes;function tv(t){var e;const l=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],l),t[1]):t}const Fu=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function zf(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Rn={obj:t=>t===Object(t)&&!Rn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:l="shallow",objects:u="reference",strict:a=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Rn.str(t)||Rn.num(t)||Rn.boo(t))return t===e;const o=Rn.obj(t);if(o&&u==="reference")return t===e;const c=Rn.arr(t);if(c&&l==="reference")return t===e;if((c||o)&&t===e)return!0;let h;for(h in t)if(!(h in e))return!1;if(o&&l==="shallow"&&u==="shallow"){for(h in a?e:t)if(!Rn.equ(t[h],e[h],{strict:a,objects:"reference"}))return!1}else for(h in a?e:t)if(t[h]!==e[h])return!1;if(Rn.und(h)){if(c&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function nb(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ml(t,e){const l=t;return l.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Zh(t,e){let l=t;if(e.includes("-")){const u=e.split("-"),a=u.pop();return l=u.reduce((o,c)=>o[c],t),{target:l,key:a}}else return{target:l,key:e}}const cg=/-\d+$/;function dh(t,e,l){if(Rn.str(l)){if(cg.test(l)){const o=l.replace(cg,""),{target:c,key:h}=Zh(t,o);Array.isArray(c[h])||(c[h]=[])}const{target:u,key:a}=Zh(t,l);e.__r3f.previousAttach=u[a],u[a]=e}else e.__r3f.previousAttach=l(t,e)}function fg(t,e,l){var u,a;if(Rn.str(l)){const{target:o,key:c}=Zh(t,l),h=e.__r3f.previousAttach;h===void 0?delete o[c]:o[c]=h}else(u=e.__r3f)==null||u.previousAttach==null||u.previousAttach(t,e);(a=e.__r3f)==null||delete a.previousAttach}function nv(t,{children:e,key:l,ref:u,...a},{children:o,key:c,ref:h,...d}={},g=!1){const m=t.__r3f,y=Object.entries(a),x=[];if(g){const E=Object.keys(d);for(let P=0;P<E.length;P++)a.hasOwnProperty(E[P])||y.unshift([E[P],ev+"remove"])}y.forEach(([E,P])=>{var R;if((R=t.__r3f)!=null&&R.primitive&&E==="object"||Rn.equ(P,d[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return x.push([E,P,!0,[]]);let A=[];E.includes("-")&&(A=E.split("-")),x.push([E,P,!1,A]);for(const I in a){const L=a[I];I.startsWith(`${E}-`)&&x.push([I,L,!1,I.split("-")])}});const S={...a};return m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.args&&(S.args=m.memoizedProps.args),m!=null&&m.memoizedProps&&m!=null&&m.memoizedProps.attach&&(S.attach=m.memoizedProps.attach),{memoized:S,changes:x}}function hh(t,e){var l;const u=t.__r3f,a=u==null?void 0:u.root,o=a==null||a.getState==null?void 0:a.getState(),{memoized:c,changes:h}=tb(e)?e:nv(t,e),d=u==null?void 0:u.eventCount;t.__r3f&&(t.__r3f.memoizedProps=c);for(let m=0;m<h.length;m++){let[y,x,S,E]=h[m];if(fh(t)){const I="srgb",L="srgb-linear";y==="encoding"?(y="colorSpace",x=x===3001?I:L):y==="outputEncoding"&&(y="outputColorSpace",x=x===3001?I:L)}let P=t,R=P[y];if(E.length&&(R=E.reduce((A,I)=>A[I],t),!(R&&R.set))){const[A,...I]=E.reverse();P=I.reverse().reduce((L,F)=>L[F],t),y=A}if(x===ev+"remove")if(P.constructor){let A=ug.get(P.constructor);A||(A=new P.constructor,ug.set(P.constructor,A)),x=A[y]}else x=0;if(S&&u)x?u.handlers[y]=x:delete u.handlers[y],u.eventCount=Object.keys(u.handlers).length;else if(R&&R.set&&(R.copy||R instanceof Kd)){if(Array.isArray(x))R.fromArray?R.fromArray(x):R.set(...x);else if(R.copy&&x&&x.constructor&&R.constructor===x.constructor)R.copy(x);else if(x!==void 0){const A=R instanceof _a;!A&&R.setScalar?R.setScalar(x):R instanceof Kd&&x instanceof Kd?R.mask=x.mask:R.set(x),!K0()&&o&&!o.linear&&A&&R.convertSRGBToLinear()}}else if(P[y]=x,P[y]instanceof g0&&P[y].format===Dx&&P[y].type===Fx&&o){const A=P[y];fh(A)&&fh(o.gl)?A.colorSpace=o.gl.outputColorSpace:A.encoding=o.gl.outputEncoding}Ul(t)}if(u&&u.parent&&t.raycast&&d!==u.eventCount){const m=zf(t).getState().internal,y=m.interaction.indexOf(t);y>-1&&m.interaction.splice(y,1),u.eventCount&&m.interaction.push(t)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(l=t.__r3f)!=null&&l.parent&&$h(t),t}function Ul(t){var e,l;const u=(e=t.__r3f)==null||(l=e.root)==null||l.getState==null?void 0:l.getState();u&&u.internal.frames===0&&u.invalidate()}function $h(t){t.onUpdate==null||t.onUpdate(t)}function rb(t,e){t.manual||(Q0(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function _f(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ib(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Hu.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hu.ContinuousEventPriority;default:return Hu.DefaultEventPriority}}function rv(t,e,l,u){const a=l.get(e);a&&(l.delete(e),l.size===0&&(t.delete(u),a.target.releasePointerCapture(u)))}function ob(t,e){const{internal:l}=t.getState();l.interaction=l.interaction.filter(u=>u!==e),l.initialHits=l.initialHits.filter(u=>u!==e),l.hovered.forEach((u,a)=>{(u.eventObject===e||u.object===e)&&l.hovered.delete(a)}),l.capturedMap.forEach((u,a)=>{rv(l.capturedMap,e,u,a)})}function ab(t){function e(d){const{internal:g}=t.getState(),m=d.offsetX-g.initialClick[0],y=d.offsetY-g.initialClick[1];return Math.round(Math.sqrt(m*m+y*y))}function l(d){return d.filter(g=>["Move","Over","Enter","Out","Leave"].some(m=>{var y;return(y=g.__r3f)==null?void 0:y.handlers["onPointer"+m]}))}function u(d,g){const m=t.getState(),y=new Set,x=[],S=g?g(m.internal.interaction):m.internal.interaction;for(let A=0;A<S.length;A++){const I=Fu(S[A]);I&&(I.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function E(A){const I=Fu(A);if(!I||!I.events.enabled||I.raycaster.camera===null)return[];if(I.raycaster.camera===void 0){var L;I.events.compute==null||I.events.compute(d,I,(L=I.previousRoot)==null?void 0:L.getState()),I.raycaster.camera===void 0&&(I.raycaster.camera=null)}return I.raycaster.camera?I.raycaster.intersectObject(A,!0):[]}let P=S.flatMap(E).sort((A,I)=>{const L=Fu(A.object),F=Fu(I.object);return!L||!F?A.distance-I.distance:F.events.priority-L.events.priority||A.distance-I.distance}).filter(A=>{const I=_f(A);return y.has(I)?!1:(y.add(I),!0)});m.events.filter&&(P=m.events.filter(P,m));for(const A of P){let I=A.object;for(;I;){var R;(R=I.__r3f)!=null&&R.eventCount&&x.push({...A,eventObject:I}),I=I.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let A of m.internal.capturedMap.get(d.pointerId).values())y.has(_f(A.intersection))||x.push(A.intersection);return x}function a(d,g,m,y){const x=t.getState();if(d.length){const S={stopped:!1};for(const E of d){const P=Fu(E.object)||x,{raycaster:R,pointer:A,camera:I,internal:L}=P,F=new Nt(A.x,A.y,0).unproject(I),D=K=>{var ie,V;return(ie=(V=L.capturedMap.get(K))==null?void 0:V.has(E.eventObject))!=null?ie:!1},G=K=>{const ie={intersection:E,target:g.target};L.capturedMap.has(K)?L.capturedMap.get(K).set(E.eventObject,ie):L.capturedMap.set(K,new Map([[E.eventObject,ie]])),g.target.setPointerCapture(K)},j=K=>{const ie=L.capturedMap.get(K);ie&&rv(L.capturedMap,E.eventObject,ie,K)};let W={};for(let K in g){let ie=g[K];typeof ie!="function"&&(W[K]=ie)}let X={...E,...W,pointer:A,intersections:d,stopped:S.stopped,delta:m,unprojectedPoint:F,ray:R.ray,camera:I,stopPropagation(){const K="pointerId"in g&&L.capturedMap.get(g.pointerId);if((!K||K.has(E.eventObject))&&(X.stopped=S.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(ie=>ie.eventObject===E.eventObject))){const ie=d.slice(0,d.indexOf(E));o([...ie,E])}},target:{hasPointerCapture:D,setPointerCapture:G,releasePointerCapture:j},currentTarget:{hasPointerCapture:D,setPointerCapture:G,releasePointerCapture:j},nativeEvent:g};if(y(X),S.stopped===!0)break}}return d}function o(d){const{internal:g}=t.getState();for(const m of g.hovered.values())if(!d.length||!d.find(y=>y.object===m.object&&y.index===m.index&&y.instanceId===m.instanceId)){const x=m.eventObject.__r3f,S=x==null?void 0:x.handlers;if(g.hovered.delete(_f(m)),x!=null&&x.eventCount){const E={...m,intersections:d};S.onPointerOut==null||S.onPointerOut(E),S.onPointerLeave==null||S.onPointerLeave(E)}}}function c(d,g){for(let m=0;m<g.length;m++){const y=g[m].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(d)}}function h(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return g=>{const{internal:m}=t.getState();"pointerId"in g&&m.capturedMap.has(g.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(g.pointerId)&&(m.capturedMap.delete(g.pointerId),o([]))})}}return function(m){const{onPointerMissed:y,internal:x}=t.getState();x.lastEvent.current=m;const S=d==="onPointerMove",E=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",R=u(m,S?l:void 0),A=E?e(m):0;d==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=R.map(L=>L.eventObject)),E&&!R.length&&A<=2&&(c(m,x.interaction),y&&y(m)),S&&o(R);function I(L){const F=L.eventObject,D=F.__r3f,G=D==null?void 0:D.handlers;if(D!=null&&D.eventCount)if(S){if(G.onPointerOver||G.onPointerEnter||G.onPointerOut||G.onPointerLeave){const j=_f(L),W=x.hovered.get(j);W?W.stopped&&L.stopPropagation():(x.hovered.set(j,L),G.onPointerOver==null||G.onPointerOver(L),G.onPointerEnter==null||G.onPointerEnter(L))}G.onPointerMove==null||G.onPointerMove(L)}else{const j=G[d];j?(!E||x.initialHits.includes(F))&&(c(m,x.interaction.filter(W=>!x.initialHits.includes(W))),j(L)):E&&x.initialHits.includes(F)&&c(m,x.interaction.filter(W=>!x.initialHits.includes(W)))}}a(R,m,A,I)}}return{handlePointer:h}}const iv=t=>!!(t!=null&&t.render),ov=ne.createContext(null),sb=(t,e)=>{const l=FS((h,d)=>{const g=new Nt,m=new Nt,y=new Nt;function x(A=d().camera,I=m,L=d().size){const{width:F,height:D,top:G,left:j}=L,W=F/D;I instanceof Nt?y.copy(I):y.set(...I);const X=A.getWorldPosition(g).distanceTo(y);if(Q0(A))return{width:F/A.zoom,height:D/A.zoom,top:G,left:j,factor:1,distance:X,aspect:W};{const K=A.fov*Math.PI/180,ie=2*Math.tan(K/2)*X,V=ie*(F/D);return{width:V,height:ie,top:G,left:j,factor:F/V,distance:X,aspect:W}}}let S;const E=A=>h(I=>({performance:{...I.performance,current:A}})),P=new ur;return{set:h,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>t(d(),A),advance:(A,I)=>e(A,I,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Xx,pointer:P,mouse:P,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=d();S&&clearTimeout(S),A.performance.current!==A.performance.min&&E(A.performance.min),S=setTimeout(()=>E(d().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:A=>h(I=>({...I,events:{...I.events,...A}})),setSize:(A,I,L,F,D)=>{const G=d().camera,j={width:A,height:I,top:F||0,left:D||0,updateStyle:L};h(W=>({size:j,viewport:{...W.viewport,...x(G,m,j)}}))},setDpr:A=>h(I=>{const L=tv(A);return{viewport:{...I.viewport,dpr:L,initialDpr:I.viewport.initialDpr||L}}}),setFrameloop:(A="always")=>{const I=d().clock;I.stop(),I.elapsedTime=0,A!=="never"&&(I.start(),I.elapsedTime=0),h(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ne.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,I,L)=>{const F=d().internal;return F.priority=F.priority+(I>0?1:0),F.subscribers.push({ref:A,priority:I,store:L}),F.subscribers=F.subscribers.sort((D,G)=>D.priority-G.priority),()=>{const D=d().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(I>0?1:0),D.subscribers=D.subscribers.filter(G=>G.ref!==A))}}}}}),u=l.getState();let a=u.size,o=u.viewport.dpr,c=u.camera;return l.subscribe(()=>{const{camera:h,size:d,viewport:g,gl:m,set:y}=l.getState();if(d.width!==a.width||d.height!==a.height||g.dpr!==o){var x;a=d,o=g.dpr,rb(h,d),m.setPixelRatio(g.dpr);const S=(x=d.updateStyle)!=null?x:typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,S)}h!==c&&(c=h,y(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(h)}})))}),l.subscribe(h=>t(h)),l};let wf,lb=new Set,ub=new Set,cb=new Set;function ph(t,e){if(t.size)for(const{callback:l}of t.values())l(e)}function zu(t,e){switch(t){case"before":return ph(lb,e);case"after":return ph(ub,e);case"tail":return ph(cb,e)}}let mh,gh;function vh(t,e,l){let u=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(u=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),mh=e.internal.subscribers,wf=0;wf<mh.length;wf++)gh=mh[wf],gh.ref.current(gh.store.getState(),u,l);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function fb(t){let e=!1,l=!1,u,a,o;function c(g){a=requestAnimationFrame(c),e=!0,u=0,zu("before",g),l=!0;for(const y of t.values()){var m;o=y.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((m=o.gl.xr)!=null&&m.isPresenting)&&(u+=vh(g,o))}if(l=!1,zu("after",g),u===0)return zu("tail",g),e=!1,cancelAnimationFrame(a)}function h(g,m=1){var y;if(!g)return t.forEach(x=>h(x.store.getState(),m));(y=g.gl.xr)!=null&&y.isPresenting||!g.internal.active||g.frameloop==="never"||(m>1?g.internal.frames=Math.min(60,g.internal.frames+m):l?g.internal.frames=2:g.internal.frames=1,e||(e=!0,requestAnimationFrame(c)))}function d(g,m=!0,y,x){if(m&&zu("before",g),y)vh(g,y,x);else for(const S of t.values())vh(g,S.store.getState());m&&zu("after",g)}return{loop:c,invalidate:h,advance:d}}function av(){const t=ne.useContext(ov);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function no(t=l=>l,e){return av()(t,e)}function db(t,e=0){const l=av(),u=l.getState().internal.subscribe,a=Z0(t);return ac(()=>u(a,e,l),[e,u,l]),null}const Hl=new Map,{invalidate:dg,advance:hg}=fb(Hl),{reconciler:qf,applyProps:Rl}=ZS(Hl,ib),Pl={objects:"shallow",strict:!1},hb=(t,e)=>{const l=typeof t=="function"?t(e):t;return iv(l)?l:new Wx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function pb(t,e){const l=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:u,height:a,top:o,left:c,updateStyle:h=l}=e;return{width:u,height:a,top:o,left:c,updateStyle:h}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:u,height:a,top:o,left:c}=t.parentElement.getBoundingClientRect();return{width:u,height:a,top:o,left:c,updateStyle:l}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:l};return{width:0,height:0,top:0,left:0}}function mb(t){const e=Hl.get(t),l=e==null?void 0:e.fiber,u=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=u||sb(dg,hg),c=l||qf.createContainer(o,Hu.ConcurrentRoot,null,!1,null,"",a,null);e||Hl.set(t,{fiber:c,store:o});let h,d=!1,g;return{configure(m={}){let{gl:y,size:x,scene:S,events:E,onCreated:P,shadows:R=!1,linear:A=!1,flat:I=!1,legacy:L=!1,orthographic:F=!1,frameloop:D="always",dpr:G=[1,2],performance:j,raycaster:W,camera:X,onPointerMissed:K}=m,ie=o.getState(),V=ie.gl;ie.gl||ie.set({gl:V=hb(y,t)});let fe=ie.raycaster;fe||ie.set({raycaster:fe=new zx});const{params:pe,...be}=W||{};if(Rn.equ(be,fe,Pl)||Rl(fe,{...be}),Rn.equ(pe,fe.params,Pl)||Rl(fe,{params:{...fe.params,...pe}}),!ie.camera||ie.camera===g&&!Rn.equ(g,X,Pl)){g=X;const J=X instanceof Hx,B=J?X:F?new Ju(0,0,0,0,.1,1e3):new zl(75,0,.1,1e3);J||(B.position.z=5,X&&(Rl(B,X),("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(B.manual=!0,B.updateProjectionMatrix())),!ie.camera&&!(X!=null&&X.rotation)&&B.lookAt(0,0,0)),ie.set({camera:B}),fe.camera=B}if(!ie.scene){let J;S instanceof Fh?J=S:(J=new Fh,S&&Rl(J,S)),ie.set({scene:Ml(J)})}if(!ie.xr){var le;const J=(ee,se)=>{const $=o.getState();$.frameloop!=="never"&&hg(ee,!0,$,se)},B=()=>{const ee=o.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?J:null),ee.gl.xr.isPresenting||dg(ee)},Z={connect(){const ee=o.getState().gl;ee.xr.addEventListener("sessionstart",B),ee.xr.addEventListener("sessionend",B)},disconnect(){const ee=o.getState().gl;ee.xr.removeEventListener("sessionstart",B),ee.xr.removeEventListener("sessionend",B)}};typeof((le=V.xr)==null?void 0:le.addEventListener)=="function"&&Z.connect(),ie.set({xr:Z})}if(V.shadowMap){const J=V.shadowMap.enabled,B=V.shadowMap.type;if(V.shadowMap.enabled=!!R,Rn.boo(R))V.shadowMap.type=Qd;else if(Rn.str(R)){var Te;const Z={basic:Vx,percentage:Yx,soft:Qd,variance:Jx};V.shadowMap.type=(Te=Z[R])!=null?Te:Qd}else Rn.obj(R)&&Object.assign(V.shadowMap,R);(J!==V.shadowMap.enabled||B!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const Y=K0();Y&&("enabled"in Y?Y.enabled=!L:"legacyMode"in Y&&(Y.legacyMode=L)),d||Rl(V,{outputEncoding:A?3e3:3001,toneMapping:I?Bx:jx}),ie.legacy!==L&&ie.set(()=>({legacy:L})),ie.linear!==A&&ie.set(()=>({linear:A})),ie.flat!==I&&ie.set(()=>({flat:I})),y&&!Rn.fun(y)&&!iv(y)&&!Rn.equ(y,V,Pl)&&Rl(V,y),E&&!ie.events.handlers&&ie.set({events:E(o)});const Q=pb(t,x);return Rn.equ(Q,ie.size,Pl)||ie.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),G&&ie.viewport.dpr!==tv(G)&&ie.setDpr(G),ie.frameloop!==D&&ie.setFrameloop(D),ie.onPointerMissed||ie.set({onPointerMissed:K}),j&&!Rn.equ(j,ie.performance,Pl)&&ie.set(J=>({performance:{...J.performance,...j}})),h=P,d=!0,this},render(m){return d||this.configure(),qf.updateContainer(Ge.jsx(gb,{store:o,children:m,onCreated:h,rootElement:t}),c,null,()=>{}),o},unmount(){sv(t)}}}function gb({store:t,children:e,onCreated:l,rootElement:u}){return ac(()=>{const a=t.getState();a.set(o=>({internal:{...o.internal,active:!0}})),l&&l(a),t.getState().events.connected||a.events.connect==null||a.events.connect(u)},[]),Ge.jsx(ov.Provider,{value:t,children:e})}function sv(t,e){const l=Hl.get(t),u=l==null?void 0:l.fiber;if(u){const a=l==null?void 0:l.store.getState();a&&(a.internal.active=!1),qf.updateContainer(null,u,null,()=>{a&&setTimeout(()=>{try{var o,c,h,d;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(c=o.renderLists)==null||c.dispose==null||c.dispose(),(h=a.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(d=a.gl)!=null&&d.xr&&a.xr.disconnect(),nb(a),Hl.delete(t)}catch{}},500)})}}qf.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ne.version});const yh={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vb(t){const{handlePointer:e}=ab(t);return{priority:1,enabled:!0,compute(l,u,a){u.pointer.set(l.offsetX/u.size.width*2-1,-(l.offsetY/u.size.height)*2+1),u.raycaster.setFromCamera(u.pointer,u.camera)},connected:void 0,handlers:Object.keys(yh).reduce((l,u)=>({...l,[u]:e(u)}),{}),update:()=>{var l;const{events:u,internal:a}=t.getState();(l=a.lastEvent)!=null&&l.current&&u.handlers&&u.handlers.onPointerMove(a.lastEvent.current)},connect:l=>{var u;const{set:a,events:o}=t.getState();o.disconnect==null||o.disconnect(),a(c=>({events:{...c.events,connected:l}})),Object.entries((u=o.handlers)!=null?u:[]).forEach(([c,h])=>{const[d,g]=yh[c];l.addEventListener(d,h,{passive:g})})},disconnect:()=>{const{set:l,events:u}=t.getState();if(u.connected){var a;Object.entries((a=u.handlers)!=null?a:[]).forEach(([o,c])=>{if(u&&u.connected instanceof HTMLElement){const[h]=yh[o];u.connected.removeEventListener(h,c)}}),l(o=>({events:{...o.events,connected:void 0}}))}}}}var _h,pg;function yb(){if(pg)return _h;pg=1;function t(e,l,u){var a,o,c,h,d;l==null&&(l=100);function g(){var y=Date.now()-h;y<l&&y>=0?a=setTimeout(g,l-y):(a=null,u||(d=e.apply(c,o),c=o=null))}var m=function(){c=this,o=arguments,h=Date.now();var y=u&&!a;return a||(a=setTimeout(g,l)),y&&(d=e.apply(c,o),c=o=null),d};return m.clear=function(){a&&(clearTimeout(a),a=null)},m.flush=function(){a&&(d=e.apply(c,o),c=o=null,clearTimeout(a),a=null)},m}return t.debounce=t,_h=t,_h}var _b=yb();const mg=fp(_b);var wb=Object.defineProperty,xb=Object.defineProperties,Sb=Object.getOwnPropertyDescriptors,gg=Object.getOwnPropertySymbols,bb=Object.prototype.hasOwnProperty,Eb=Object.prototype.propertyIsEnumerable,vg=(t,e,l)=>e in t?wb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,yg=(t,e)=>{for(var l in e||(e={}))bb.call(e,l)&&vg(t,l,e[l]);if(gg)for(var l of gg(e))Eb.call(e,l)&&vg(t,l,e[l]);return t},Tb=(t,e)=>xb(t,Sb(e)),_g,wg;typeof window<"u"&&((_g=window.document)!=null&&_g.createElement||((wg=window.navigator)==null?void 0:wg.product)==="ReactNative")?ne.useLayoutEffect:ne.useEffect;function lv(t,e,l){if(!t)return;if(l(t)===!0)return t;let u=t.child;for(;u;){const a=lv(u,e,l);if(a)return a;u=u.sibling}}function uv(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const xg=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=xg;return}return xg.apply(this,arguments)};const wp=uv(ne.createContext(null));class cv extends ne.Component{render(){return ne.createElement(wp.Provider,{value:this._reactInternals},this.props.children)}}function Cb(){const t=ne.useContext(wp);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ne.useId();return ne.useMemo(()=>{for(const u of[t,t==null?void 0:t.alternate]){if(!u)continue;const a=lv(u,!1,o=>{let c=o.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}});if(a)return a}},[t,e])}function kb(){const t=Cb(),[e]=ne.useState(()=>new Map);e.clear();let l=t;for(;l;){if(l.type&&typeof l.type=="object"){const a=l.type._context===void 0&&l.type.Provider===l.type?l.type:l.type._context;a&&a!==wp&&!e.has(a)&&e.set(a,ne.useContext(uv(a)))}l=l.return}return e}function Ab(){const t=kb();return ne.useMemo(()=>Array.from(t.keys()).reduce((e,l)=>u=>ne.createElement(e,null,ne.createElement(l.Provider,Tb(yg({},u),{value:t.get(l)}))),e=>ne.createElement(cv,yg({},e))),[t])}function Rb({debounce:t,scroll:e,polyfill:l,offsetSize:u}={debounce:0,scroll:!1,offsetSize:!1}){const a=l||typeof window<"u"&&window.ResizeObserver,[o,c]=ne.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!a)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const h=ne.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),d=t?typeof t=="number"?t:t.scroll:null,g=t?typeof t=="number"?t:t.resize:null,m=ne.useRef(!1);ne.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,x,S]=ne.useMemo(()=>{const A=()=>{if(!h.current.element)return;const{left:I,top:L,width:F,height:D,bottom:G,right:j,x:W,y:X}=h.current.element.getBoundingClientRect(),K={left:I,top:L,width:F,height:D,bottom:G,right:j,x:W,y:X};h.current.element instanceof HTMLElement&&u&&(K.height=h.current.element.offsetHeight,K.width=h.current.element.offsetWidth),Object.freeze(K),m.current&&!Ob(h.current.lastBounds,K)&&c(h.current.lastBounds=K)};return[A,g?mg(A,g):A,d?mg(A,d):A]},[c,u,d,g]);function E(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function P(){var A;h.current.element&&(h.current.resizeObserver=new a(x),(A=h.current.resizeObserver)==null||A.observe(h.current.element),e&&h.current.scrollContainers&&h.current.scrollContainers.forEach(I=>I.addEventListener("scroll",S,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const R=A=>{!A||A===h.current.element||(E(),h.current.element=A,h.current.scrollContainers=fv(A),P())};return Lb(S,!!e),Pb(x),ne.useEffect(()=>{E(),P()},[e,S,x]),ne.useEffect(()=>E,[]),[R,o,y]}function Pb(t){ne.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Lb(t,e){ne.useEffect(()=>{if(e){const l=t;return window.addEventListener("scroll",l,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",l,!0)}},[t,e])}function fv(t){const e=[];if(!t||t===document.body)return e;const{overflow:l,overflowX:u,overflowY:a}=window.getComputedStyle(t);return[l,u,a].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...fv(t.parentElement)]}const Ib=["x","y","top","bottom","left","right","width","height"],Ob=(t,e)=>Ib.every(l=>t[l]===e[l]),Mb=ne.forwardRef(function({children:e,fallback:l,resize:u,style:a,gl:o,events:c=vb,eventSource:h,eventPrefix:d,shadows:g,linear:m,flat:y,legacy:x,orthographic:S,frameloop:E,dpr:P,performance:R,raycaster:A,camera:I,scene:L,onPointerMissed:F,onCreated:D,...G},j){ne.useMemo(()=>QS(qx),[]);const W=Ab(),[X,K]=Rb({scroll:!0,debounce:{scroll:50,resize:0},...u}),ie=ne.useRef(null),V=ne.useRef(null);ne.useImperativeHandle(j,()=>ie.current);const fe=Z0(F),[pe,be]=ne.useState(!1),[le,Te]=ne.useState(!1);if(pe)throw pe;if(le)throw le;const Y=ne.useRef(null);ac(()=>{const J=ie.current;K.width>0&&K.height>0&&J&&(Y.current||(Y.current=mb(J)),Y.current.configure({gl:o,events:c,shadows:g,linear:m,flat:y,legacy:x,orthographic:S,frameloop:E,dpr:P,performance:R,raycaster:A,camera:I,scene:L,size:K,onPointerMissed:(...B)=>fe.current==null?void 0:fe.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(h?$S(h)?h.current:h:V.current),d&&B.setEvents({compute:(Z,ee)=>{const se=Z[d+"X"],$=Z[d+"Y"];ee.pointer.set(se/ee.size.width*2-1,-($/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),D==null||D(B)}}),Y.current.render(Ge.jsx(W,{children:Ge.jsx($0,{set:Te,children:Ge.jsx(ne.Suspense,{fallback:Ge.jsx(eb,{set:be}),children:e})})})))}),ne.useEffect(()=>{const J=ie.current;if(J)return()=>sv(J)},[]);const Q=h?"none":"auto";return Ge.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...a},...G,children:Ge.jsx("div",{ref:X,style:{width:"100%",height:"100%"},children:Ge.jsx("canvas",{ref:ie,style:{display:"block"},children:l})})})}),Ub=ne.forwardRef(function(e,l){return Ge.jsx(cv,{children:Ge.jsx(Mb,{...e,ref:l})})});function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var l=arguments[e];for(var u in l)({}).hasOwnProperty.call(l,u)&&(t[u]=l[u])}return t},Vl.apply(null,arguments)}const Nb=parseInt(v0.replace(/\D+/g,"")),dv=Nb>=125?"uv1":"uv2";var Db=Object.defineProperty,Fb=(t,e,l)=>e in t?Db(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,zb=(t,e,l)=>(Fb(t,e+"",l),l);class Bb{constructor(){zb(this,"_listeners")}addEventListener(e,l){this._listeners===void 0&&(this._listeners={});const u=this._listeners;u[e]===void 0&&(u[e]=[]),u[e].indexOf(l)===-1&&u[e].push(l)}hasEventListener(e,l){if(this._listeners===void 0)return!1;const u=this._listeners;return u[e]!==void 0&&u[e].indexOf(l)!==-1}removeEventListener(e,l){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const o=a.indexOf(l);o!==-1&&a.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const u=this._listeners[e.type];if(u!==void 0){e.target=this;const a=u.slice(0);for(let o=0,c=a.length;o<c;o++)a[o].call(this,e);e.target=null}}}var jb=Object.defineProperty,Gb=(t,e,l)=>e in t?jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,Tt=(t,e,l)=>(Gb(t,typeof e!="symbol"?e+"":e,l),l);const xf=new Kx,Sg=new Qx,Wb=Math.cos(70*(Math.PI/180)),bg=(t,e)=>(t%e+e)%e;let Hb=class extends Bb{constructor(e,l){super(),Tt(this,"object"),Tt(this,"domElement"),Tt(this,"enabled",!0),Tt(this,"target",new Nt),Tt(this,"minDistance",0),Tt(this,"maxDistance",1/0),Tt(this,"minZoom",0),Tt(this,"maxZoom",1/0),Tt(this,"minPolarAngle",0),Tt(this,"maxPolarAngle",Math.PI),Tt(this,"minAzimuthAngle",-1/0),Tt(this,"maxAzimuthAngle",1/0),Tt(this,"enableDamping",!1),Tt(this,"dampingFactor",.05),Tt(this,"enableZoom",!0),Tt(this,"zoomSpeed",1),Tt(this,"enableRotate",!0),Tt(this,"rotateSpeed",1),Tt(this,"enablePan",!0),Tt(this,"panSpeed",1),Tt(this,"screenSpacePanning",!0),Tt(this,"keyPanSpeed",7),Tt(this,"zoomToCursor",!1),Tt(this,"autoRotate",!1),Tt(this,"autoRotateSpeed",2),Tt(this,"reverseOrbit",!1),Tt(this,"reverseHorizontalOrbit",!1),Tt(this,"reverseVerticalOrbit",!1),Tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Tt(this,"mouseButtons",{LEFT:Cl.ROTATE,MIDDLE:Cl.DOLLY,RIGHT:Cl.PAN}),Tt(this,"touches",{ONE:kl.ROTATE,TWO:kl.DOLLY_PAN}),Tt(this,"target0"),Tt(this,"position0"),Tt(this,"zoom0"),Tt(this,"_domElementKeyEvents",null),Tt(this,"getPolarAngle"),Tt(this,"getAzimuthalAngle"),Tt(this,"setPolarAngle"),Tt(this,"setAzimuthalAngle"),Tt(this,"getDistance"),Tt(this,"getZoomScale"),Tt(this,"listenToKeyEvents"),Tt(this,"stopListenToKeyEvents"),Tt(this,"saveState"),Tt(this,"reset"),Tt(this,"update"),Tt(this,"connect"),Tt(this,"dispose"),Tt(this,"dollyIn"),Tt(this,"dollyOut"),Tt(this,"getScale"),Tt(this,"setScale"),this.object=e,this.domElement=l,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=oe=>{let Re=bg(oe,2*Math.PI),rt=m.phi;rt<0&&(rt+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ft=Math.abs(Re-rt);2*Math.PI-ft<ft&&(Re<rt?Re+=2*Math.PI:rt+=2*Math.PI),y.phi=Re-rt,u.update()},this.setAzimuthalAngle=oe=>{let Re=bg(oe,2*Math.PI),rt=m.theta;rt<0&&(rt+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ft=Math.abs(Re-rt);2*Math.PI-ft<ft&&(Re<rt?Re+=2*Math.PI:rt+=2*Math.PI),y.theta=Re-rt,u.update()},this.getDistance=()=>u.object.position.distanceTo(u.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",nt),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",nt),this._domElementKeyEvents=null},this.saveState=()=>{u.target0.copy(u.target),u.position0.copy(u.object.position),u.zoom0=u.object.zoom},this.reset=()=>{u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(a),u.update(),d=h.NONE},this.update=(()=>{const oe=new Nt,Re=new Nt(0,1,0),rt=new Zu().setFromUnitVectors(e.up,Re),ft=rt.clone().invert(),Ze=new Nt,Mt=new Zu,Pn=2*Math.PI;return function(){const Ft=u.object.position;rt.setFromUnitVectors(e.up,Re),ft.copy(rt).invert(),oe.copy(Ft).sub(u.target),oe.applyQuaternion(rt),m.setFromVector3(oe),u.autoRotate&&d===h.NONE&&pe(V()),u.enableDamping?(m.theta+=y.theta*u.dampingFactor,m.phi+=y.phi*u.dampingFactor):(m.theta+=y.theta,m.phi+=y.phi);let tn=u.minAzimuthAngle,Yt=u.maxAzimuthAngle;isFinite(tn)&&isFinite(Yt)&&(tn<-Math.PI?tn+=Pn:tn>Math.PI&&(tn-=Pn),Yt<-Math.PI?Yt+=Pn:Yt>Math.PI&&(Yt-=Pn),tn<=Yt?m.theta=Math.max(tn,Math.min(Yt,m.theta)):m.theta=m.theta>(tn+Yt)/2?Math.max(tn,m.theta):Math.min(Yt,m.theta)),m.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,m.phi)),m.makeSafe(),u.enableDamping===!0?u.target.addScaledVector(S,u.dampingFactor):u.target.add(S),u.zoomToCursor&&X||u.object.isOrthographicCamera?m.radius=ee(m.radius):m.radius=ee(m.radius*x),oe.setFromSpherical(m),oe.applyQuaternion(ft),Ft.copy(u.target).add(oe),u.object.matrixAutoUpdate||u.object.updateMatrix(),u.object.lookAt(u.target),u.enableDamping===!0?(y.theta*=1-u.dampingFactor,y.phi*=1-u.dampingFactor,S.multiplyScalar(1-u.dampingFactor)):(y.set(0,0,0),S.set(0,0,0));let St=!1;if(u.zoomToCursor&&X){let Dt=null;if(u.object instanceof zl&&u.object.isPerspectiveCamera){const gn=oe.length();Dt=ee(gn*x);const _n=gn-Dt;u.object.position.addScaledVector(j,_n),u.object.updateMatrixWorld()}else if(u.object.isOrthographicCamera){const gn=new Nt(W.x,W.y,0);gn.unproject(u.object),u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/x)),u.object.updateProjectionMatrix(),St=!0;const _n=new Nt(W.x,W.y,0);_n.unproject(u.object),u.object.position.sub(_n).add(gn),u.object.updateMatrixWorld(),Dt=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),u.zoomToCursor=!1;Dt!==null&&(u.screenSpacePanning?u.target.set(0,0,-1).transformDirection(u.object.matrix).multiplyScalar(Dt).add(u.object.position):(xf.origin.copy(u.object.position),xf.direction.set(0,0,-1).transformDirection(u.object.matrix),Math.abs(u.object.up.dot(xf.direction))<Wb?e.lookAt(u.target):(Sg.setFromNormalAndCoplanarPoint(u.object.up,u.target),xf.intersectPlane(Sg,u.target))))}else u.object instanceof Ju&&u.object.isOrthographicCamera&&(St=x!==1,St&&(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/x)),u.object.updateProjectionMatrix()));return x=1,X=!1,St||Ze.distanceToSquared(u.object.position)>g||8*(1-Mt.dot(u.object.quaternion))>g?(u.dispatchEvent(a),Ze.copy(u.object.position),Mt.copy(u.object.quaternion),St=!1,!0):!1}})(),this.connect=oe=>{u.domElement=oe,u.domElement.style.touchAction="none",u.domElement.addEventListener("contextmenu",en),u.domElement.addEventListener("pointerdown",xt),u.domElement.addEventListener("pointercancel",Qe),u.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var oe,Re,rt,ft,Ze,Mt;u.domElement&&(u.domElement.style.touchAction="auto"),(oe=u.domElement)==null||oe.removeEventListener("contextmenu",en),(Re=u.domElement)==null||Re.removeEventListener("pointerdown",xt),(rt=u.domElement)==null||rt.removeEventListener("pointercancel",Qe),(ft=u.domElement)==null||ft.removeEventListener("wheel",tt),(Ze=u.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",je),(Mt=u.domElement)==null||Mt.ownerDocument.removeEventListener("pointerup",Qe),u._domElementKeyEvents!==null&&u._domElementKeyEvents.removeEventListener("keydown",nt)};const u=this,a={type:"change"},o={type:"start"},c={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=h.NONE;const g=1e-6,m=new km,y=new km;let x=1;const S=new Nt,E=new ur,P=new ur,R=new ur,A=new ur,I=new ur,L=new ur,F=new ur,D=new ur,G=new ur,j=new Nt,W=new ur;let X=!1;const K=[],ie={};function V(){return 2*Math.PI/60/60*u.autoRotateSpeed}function fe(){return Math.pow(.95,u.zoomSpeed)}function pe(oe){u.reverseOrbit||u.reverseHorizontalOrbit?y.theta+=oe:y.theta-=oe}function be(oe){u.reverseOrbit||u.reverseVerticalOrbit?y.phi+=oe:y.phi-=oe}const le=(()=>{const oe=new Nt;return function(rt,ft){oe.setFromMatrixColumn(ft,0),oe.multiplyScalar(-rt),S.add(oe)}})(),Te=(()=>{const oe=new Nt;return function(rt,ft){u.screenSpacePanning===!0?oe.setFromMatrixColumn(ft,1):(oe.setFromMatrixColumn(ft,0),oe.crossVectors(u.object.up,oe)),oe.multiplyScalar(rt),S.add(oe)}})(),Y=(()=>{const oe=new Nt;return function(rt,ft){const Ze=u.domElement;if(Ze&&u.object instanceof zl&&u.object.isPerspectiveCamera){const Mt=u.object.position;oe.copy(Mt).sub(u.target);let Pn=oe.length();Pn*=Math.tan(u.object.fov/2*Math.PI/180),le(2*rt*Pn/Ze.clientHeight,u.object.matrix),Te(2*ft*Pn/Ze.clientHeight,u.object.matrix)}else Ze&&u.object instanceof Ju&&u.object.isOrthographicCamera?(le(rt*(u.object.right-u.object.left)/u.object.zoom/Ze.clientWidth,u.object.matrix),Te(ft*(u.object.top-u.object.bottom)/u.object.zoom/Ze.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)}})();function Q(oe){u.object instanceof zl&&u.object.isPerspectiveCamera||u.object instanceof Ju&&u.object.isOrthographicCamera?x=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function J(oe){Q(x/oe)}function B(oe){Q(x*oe)}function Z(oe){if(!u.zoomToCursor||!u.domElement)return;X=!0;const Re=u.domElement.getBoundingClientRect(),rt=oe.clientX-Re.left,ft=oe.clientY-Re.top,Ze=Re.width,Mt=Re.height;W.x=rt/Ze*2-1,W.y=-(ft/Mt)*2+1,j.set(W.x,W.y,1).unproject(u.object).sub(u.object.position).normalize()}function ee(oe){return Math.max(u.minDistance,Math.min(u.maxDistance,oe))}function se(oe){E.set(oe.clientX,oe.clientY)}function $(oe){Z(oe),F.set(oe.clientX,oe.clientY)}function ae(oe){A.set(oe.clientX,oe.clientY)}function ce(oe){P.set(oe.clientX,oe.clientY),R.subVectors(P,E).multiplyScalar(u.rotateSpeed);const Re=u.domElement;Re&&(pe(2*Math.PI*R.x/Re.clientHeight),be(2*Math.PI*R.y/Re.clientHeight)),E.copy(P),u.update()}function _e(oe){D.set(oe.clientX,oe.clientY),G.subVectors(D,F),G.y>0?J(fe()):G.y<0&&B(fe()),F.copy(D),u.update()}function Oe(oe){I.set(oe.clientX,oe.clientY),L.subVectors(I,A).multiplyScalar(u.panSpeed),Y(L.x,L.y),A.copy(I),u.update()}function Be(oe){Z(oe),oe.deltaY<0?B(fe()):oe.deltaY>0&&J(fe()),u.update()}function Pe(oe){let Re=!1;switch(oe.code){case u.keys.UP:Y(0,u.keyPanSpeed),Re=!0;break;case u.keys.BOTTOM:Y(0,-u.keyPanSpeed),Re=!0;break;case u.keys.LEFT:Y(u.keyPanSpeed,0),Re=!0;break;case u.keys.RIGHT:Y(-u.keyPanSpeed,0),Re=!0;break}Re&&(oe.preventDefault(),u.update())}function Ce(){if(K.length==1)E.set(K[0].pageX,K[0].pageY);else{const oe=.5*(K[0].pageX+K[1].pageX),Re=.5*(K[0].pageY+K[1].pageY);E.set(oe,Re)}}function ht(){if(K.length==1)A.set(K[0].pageX,K[0].pageY);else{const oe=.5*(K[0].pageX+K[1].pageX),Re=.5*(K[0].pageY+K[1].pageY);A.set(oe,Re)}}function ot(){const oe=K[0].pageX-K[1].pageX,Re=K[0].pageY-K[1].pageY,rt=Math.sqrt(oe*oe+Re*Re);F.set(0,rt)}function Ve(){u.enableZoom&&ot(),u.enablePan&&ht()}function st(){u.enableZoom&&ot(),u.enableRotate&&Ce()}function et(oe){if(K.length==1)P.set(oe.pageX,oe.pageY);else{const rt=ct(oe),ft=.5*(oe.pageX+rt.x),Ze=.5*(oe.pageY+rt.y);P.set(ft,Ze)}R.subVectors(P,E).multiplyScalar(u.rotateSpeed);const Re=u.domElement;Re&&(pe(2*Math.PI*R.x/Re.clientHeight),be(2*Math.PI*R.y/Re.clientHeight)),E.copy(P)}function Me(oe){if(K.length==1)I.set(oe.pageX,oe.pageY);else{const Re=ct(oe),rt=.5*(oe.pageX+Re.x),ft=.5*(oe.pageY+Re.y);I.set(rt,ft)}L.subVectors(I,A).multiplyScalar(u.panSpeed),Y(L.x,L.y),A.copy(I)}function lt(oe){const Re=ct(oe),rt=oe.pageX-Re.x,ft=oe.pageY-Re.y,Ze=Math.sqrt(rt*rt+ft*ft);D.set(0,Ze),G.set(0,Math.pow(D.y/F.y,u.zoomSpeed)),J(G.y),F.copy(D)}function He(oe){u.enableZoom&&lt(oe),u.enablePan&&Me(oe)}function Ee(oe){u.enableZoom&&lt(oe),u.enableRotate&&et(oe)}function xt(oe){var Re,rt;u.enabled!==!1&&(K.length===0&&((Re=u.domElement)==null||Re.ownerDocument.addEventListener("pointermove",je),(rt=u.domElement)==null||rt.ownerDocument.addEventListener("pointerup",Qe)),un(oe),oe.pointerType==="touch"?gt(oe):ze(oe))}function je(oe){u.enabled!==!1&&(oe.pointerType==="touch"?Ct(oe):Zt(oe))}function Qe(oe){var Re,rt,ft;It(oe),K.length===0&&((Re=u.domElement)==null||Re.releasePointerCapture(oe.pointerId),(rt=u.domElement)==null||rt.ownerDocument.removeEventListener("pointermove",je),(ft=u.domElement)==null||ft.ownerDocument.removeEventListener("pointerup",Qe)),u.dispatchEvent(c),d=h.NONE}function ze(oe){let Re;switch(oe.button){case 0:Re=u.mouseButtons.LEFT;break;case 1:Re=u.mouseButtons.MIDDLE;break;case 2:Re=u.mouseButtons.RIGHT;break;default:Re=-1}switch(Re){case Cl.DOLLY:if(u.enableZoom===!1)return;$(oe),d=h.DOLLY;break;case Cl.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(u.enablePan===!1)return;ae(oe),d=h.PAN}else{if(u.enableRotate===!1)return;se(oe),d=h.ROTATE}break;case Cl.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(u.enableRotate===!1)return;se(oe),d=h.ROTATE}else{if(u.enablePan===!1)return;ae(oe),d=h.PAN}break;default:d=h.NONE}d!==h.NONE&&u.dispatchEvent(o)}function Zt(oe){if(u.enabled!==!1)switch(d){case h.ROTATE:if(u.enableRotate===!1)return;ce(oe);break;case h.DOLLY:if(u.enableZoom===!1)return;_e(oe);break;case h.PAN:if(u.enablePan===!1)return;Oe(oe);break}}function tt(oe){u.enabled===!1||u.enableZoom===!1||d!==h.NONE&&d!==h.ROTATE||(oe.preventDefault(),u.dispatchEvent(o),Be(oe),u.dispatchEvent(c))}function nt(oe){u.enabled===!1||u.enablePan===!1||Pe(oe)}function gt(oe){switch(Ot(oe),K.length){case 1:switch(u.touches.ONE){case kl.ROTATE:if(u.enableRotate===!1)return;Ce(),d=h.TOUCH_ROTATE;break;case kl.PAN:if(u.enablePan===!1)return;ht(),d=h.TOUCH_PAN;break;default:d=h.NONE}break;case 2:switch(u.touches.TWO){case kl.DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;Ve(),d=h.TOUCH_DOLLY_PAN;break;case kl.DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;st(),d=h.TOUCH_DOLLY_ROTATE;break;default:d=h.NONE}break;default:d=h.NONE}d!==h.NONE&&u.dispatchEvent(o)}function Ct(oe){switch(Ot(oe),d){case h.TOUCH_ROTATE:if(u.enableRotate===!1)return;et(oe),u.update();break;case h.TOUCH_PAN:if(u.enablePan===!1)return;Me(oe),u.update();break;case h.TOUCH_DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;He(oe),u.update();break;case h.TOUCH_DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;Ee(oe),u.update();break;default:d=h.NONE}}function en(oe){u.enabled!==!1&&oe.preventDefault()}function un(oe){K.push(oe)}function It(oe){delete ie[oe.pointerId];for(let Re=0;Re<K.length;Re++)if(K[Re].pointerId==oe.pointerId){K.splice(Re,1);return}}function Ot(oe){let Re=ie[oe.pointerId];Re===void 0&&(Re=new ur,ie[oe.pointerId]=Re),Re.set(oe.pageX,oe.pageY)}function ct(oe){const Re=oe.pointerId===K[0].pointerId?K[1]:K[0];return ie[Re.pointerId]}this.dollyIn=(oe=fe())=>{B(oe),u.update()},this.dollyOut=(oe=fe())=>{J(oe),u.update()},this.getScale=()=>x,this.setScale=oe=>{Q(oe),u.update()},this.getZoomScale=()=>fe(),l!==void 0&&this.connect(l),this.update()}};const Eg=new oc,Sf=new Nt;class xp extends y0{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],l=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],u=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(u),this.setAttribute("position",new wo(e,3)),this.setAttribute("uv",new wo(l,2))}applyMatrix4(e){const l=this.attributes.instanceStart,u=this.attributes.instanceEnd;return l!==void 0&&(l.applyMatrix4(e),u.applyMatrix4(e),l.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let l;e instanceof Float32Array?l=e:Array.isArray(e)&&(l=new Float32Array(e));const u=new zh(l,6,1);return this.setAttribute("instanceStart",new Dl(u,3,0)),this.setAttribute("instanceEnd",new Dl(u,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,l=3){let u;e instanceof Float32Array?u=e:Array.isArray(e)&&(u=new Float32Array(e));const a=new zh(u,l*2,1);return this.setAttribute("instanceColorStart",new Dl(a,l,0)),this.setAttribute("instanceColorEnd",new Dl(a,l,l)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new Zx(e.geometry)),this}fromLineSegments(e){const l=e.geometry;return this.setPositions(l.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new oc);const e=this.attributes.instanceStart,l=this.attributes.instanceEnd;e!==void 0&&l!==void 0&&(this.boundingBox.setFromBufferAttribute(e),Eg.setFromBufferAttribute(l),this.boundingBox.union(Eg))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new dp),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,l=this.attributes.instanceEnd;if(e!==void 0&&l!==void 0){const u=this.boundingSphere.center;this.boundingBox.getCenter(u);let a=0;for(let o=0,c=e.count;o<c;o++)Sf.fromBufferAttribute(e,o),a=Math.max(a,u.distanceToSquared(Sf)),Sf.fromBufferAttribute(l,o),a=Math.max(a,u.distanceToSquared(Sf));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class hv extends xp{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const l=e.length-3,u=new Float32Array(2*l);for(let a=0;a<l;a+=3)u[2*a]=e[a],u[2*a+1]=e[a+1],u[2*a+2]=e[a+2],u[2*a+3]=e[a+3],u[2*a+4]=e[a+4],u[2*a+5]=e[a+5];return super.setPositions(u),this}setColors(e,l=3){const u=e.length-l,a=new Float32Array(2*u);if(l===3)for(let o=0;o<u;o+=l)a[2*o]=e[o],a[2*o+1]=e[o+1],a[2*o+2]=e[o+2],a[2*o+3]=e[o+3],a[2*o+4]=e[o+4],a[2*o+5]=e[o+5];else for(let o=0;o<u;o+=l)a[2*o]=e[o],a[2*o+1]=e[o+1],a[2*o+2]=e[o+2],a[2*o+3]=e[o+3],a[2*o+4]=e[o+4],a[2*o+5]=e[o+5],a[2*o+6]=e[o+6],a[2*o+7]=e[o+7];return super.setColors(a,l),this}fromLine(e){const l=e.geometry;return this.setPositions(l.attributes.position.array),this}}class Sp extends $x{constructor(e){super({type:"LineMaterial",uniforms:Bh.clone(Bh.merge([Am.common,Am.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ur(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${parseInt(v0.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(l){this.uniforms.diffuse.value=l}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(l){l===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(l){this.uniforms.linewidth.value=l}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(l){!!l!="USE_DASH"in this.defines&&(this.needsUpdate=!0),l===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(l){this.uniforms.dashScale.value=l}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(l){this.uniforms.dashSize.value=l}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(l){this.uniforms.dashOffset.value=l}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(l){this.uniforms.gapSize.value=l}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(l){this.uniforms.opacity.value=l}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(l){this.uniforms.resolution.value.copy(l)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(l){!!l!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),l===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const wh=new rs,Tg=new Nt,Cg=new Nt,zr=new rs,Br=new rs,jo=new rs,xh=new Nt,Sh=new Bi,Wr=new e2,kg=new Nt,bf=new oc,Ef=new dp,Go=new rs;let Yo,Vs;function Ag(t,e,l){return Go.set(0,0,-e,1).applyMatrix4(t.projectionMatrix),Go.multiplyScalar(1/Go.w),Go.x=Vs/l.width,Go.y=Vs/l.height,Go.applyMatrix4(t.projectionMatrixInverse),Go.multiplyScalar(1/Go.w),Math.abs(Math.max(Go.x,Go.y))}function Vb(t,e){const l=t.matrixWorld,u=t.geometry,a=u.attributes.instanceStart,o=u.attributes.instanceEnd,c=Math.min(u.instanceCount,a.count);for(let h=0,d=c;h<d;h++){Wr.start.fromBufferAttribute(a,h),Wr.end.fromBufferAttribute(o,h),Wr.applyMatrix4(l);const g=new Nt,m=new Nt;Yo.distanceSqToSegment(Wr.start,Wr.end,m,g),m.distanceTo(g)<Vs*.5&&e.push({point:m,pointOnLine:g,distance:Yo.origin.distanceTo(m),object:t,face:null,faceIndex:h,uv:null,[dv]:null})}}function Yb(t,e,l){const u=e.projectionMatrix,o=t.material.resolution,c=t.matrixWorld,h=t.geometry,d=h.attributes.instanceStart,g=h.attributes.instanceEnd,m=Math.min(h.instanceCount,d.count),y=-e.near;Yo.at(1,jo),jo.w=1,jo.applyMatrix4(e.matrixWorldInverse),jo.applyMatrix4(u),jo.multiplyScalar(1/jo.w),jo.x*=o.x/2,jo.y*=o.y/2,jo.z=0,xh.copy(jo),Sh.multiplyMatrices(e.matrixWorldInverse,c);for(let x=0,S=m;x<S;x++){if(zr.fromBufferAttribute(d,x),Br.fromBufferAttribute(g,x),zr.w=1,Br.w=1,zr.applyMatrix4(Sh),Br.applyMatrix4(Sh),zr.z>y&&Br.z>y)continue;if(zr.z>y){const L=zr.z-Br.z,F=(zr.z-y)/L;zr.lerp(Br,F)}else if(Br.z>y){const L=Br.z-zr.z,F=(Br.z-y)/L;Br.lerp(zr,F)}zr.applyMatrix4(u),Br.applyMatrix4(u),zr.multiplyScalar(1/zr.w),Br.multiplyScalar(1/Br.w),zr.x*=o.x/2,zr.y*=o.y/2,Br.x*=o.x/2,Br.y*=o.y/2,Wr.start.copy(zr),Wr.start.z=0,Wr.end.copy(Br),Wr.end.z=0;const P=Wr.closestPointToPointParameter(xh,!0);Wr.at(P,kg);const R=Ol.lerp(zr.z,Br.z,P),A=R>=-1&&R<=1,I=xh.distanceTo(kg)<Vs*.5;if(A&&I){Wr.start.fromBufferAttribute(d,x),Wr.end.fromBufferAttribute(g,x),Wr.start.applyMatrix4(c),Wr.end.applyMatrix4(c);const L=new Nt,F=new Nt;Yo.distanceSqToSegment(Wr.start,Wr.end,F,L),l.push({point:F,pointOnLine:L,distance:Yo.origin.distanceTo(F),object:t,face:null,faceIndex:x,uv:null,[dv]:null})}}}class pv extends Vo{constructor(e=new xp,l=new Sp({color:Math.random()*16777215})){super(e,l),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,l=e.attributes.instanceStart,u=e.attributes.instanceEnd,a=new Float32Array(2*l.count);for(let c=0,h=0,d=l.count;c<d;c++,h+=2)Tg.fromBufferAttribute(l,c),Cg.fromBufferAttribute(u,c),a[h]=h===0?0:a[h-1],a[h+1]=a[h]+Tg.distanceTo(Cg);const o=new zh(a,2,1);return e.setAttribute("instanceDistanceStart",new Dl(o,1,0)),e.setAttribute("instanceDistanceEnd",new Dl(o,1,1)),this}raycast(e,l){const u=this.material.worldUnits,a=e.camera;a===null&&!u&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Yo=e.ray;const c=this.matrixWorld,h=this.geometry,d=this.material;Vs=d.linewidth+o,h.boundingSphere===null&&h.computeBoundingSphere(),Ef.copy(h.boundingSphere).applyMatrix4(c);let g;if(u)g=Vs*.5;else{const y=Math.max(a.near,Ef.distanceToPoint(Yo.origin));g=Ag(a,y,d.resolution)}if(Ef.radius+=g,Yo.intersectsSphere(Ef)===!1)return;h.boundingBox===null&&h.computeBoundingBox(),bf.copy(h.boundingBox).applyMatrix4(c);let m;if(u)m=Vs*.5;else{const y=Math.max(a.near,bf.distanceToPoint(Yo.origin));m=Ag(a,y,d.resolution)}bf.expandByScalar(m),Yo.intersectsBox(bf)!==!1&&(u?Vb(this,l):Yb(this,a,l))}onBeforeRender(e){const l=this.material.uniforms;l&&l.resolution&&(e.getViewport(wh),this.material.uniforms.resolution.value.set(wh.z,wh.w))}}class Jb extends pv{constructor(e=new hv,l=new Sp({color:Math.random()*16777215})){super(e,l),this.isLine2=!0,this.type="Line2"}}const Xb=ne.forwardRef(function({points:e,color:l=16777215,vertexColors:u,linewidth:a,lineWidth:o,segments:c,dashed:h,...d},g){var m,y;const x=no(A=>A.size),S=ne.useMemo(()=>c?new pv:new Jb,[c]),[E]=ne.useState(()=>new Sp),P=(u==null||(m=u[0])==null?void 0:m.length)===4?4:3,R=ne.useMemo(()=>{const A=c?new xp:new hv,I=e.map(L=>{const F=Array.isArray(L);return L instanceof Nt||L instanceof rs?[L.x,L.y,L.z]:L instanceof ur?[L.x,L.y,0]:F&&L.length===3?[L[0],L[1],L[2]]:F&&L.length===2?[L[0],L[1],0]:L});if(A.setPositions(I.flat()),u){l=16777215;const L=u.map(F=>F instanceof _a?F.toArray():F);A.setColors(L.flat(),P)}return A},[e,c,u,P]);return ne.useLayoutEffect(()=>{S.computeLineDistances()},[e,S]),ne.useLayoutEffect(()=>{h?E.defines.USE_DASH="":delete E.defines.USE_DASH,E.needsUpdate=!0},[h,E]),ne.useEffect(()=>()=>{R.dispose(),E.dispose()},[R]),ne.createElement("primitive",Vl({object:S,ref:g},d),ne.createElement("primitive",{object:R,attach:"geometry"}),ne.createElement("primitive",Vl({object:E,attach:"material",color:l,vertexColors:!!u,resolution:[x.width,x.height],linewidth:(y=a??o)!==null&&y!==void 0?y:1,dashed:h,transparent:P===4},d)))});function qb(){var t=Object.create(null);function e(a,o){var c=a.id,h=a.name,d=a.dependencies;d===void 0&&(d=[]);var g=a.init;g===void 0&&(g=function(){});var m=a.getTransferables;if(m===void 0&&(m=null),!t[c])try{d=d.map(function(x){return x&&x.isWorkerModule&&(e(x,function(S){if(S instanceof Error)throw S}),x=t[x.id].value),x}),g=u("<"+h+">.init",g),m&&(m=u("<"+h+">.getTransferables",m));var y=null;typeof g=="function"?y=g.apply(void 0,d):console.error("worker module init function failed to rehydrate"),t[c]={id:c,value:y,getTransferables:m},o(y)}catch(x){x&&x.noLog||console.error(x),o(x)}}function l(a,o){var c,h=a.id,d=a.args;(!t[h]||typeof t[h].value!="function")&&o(new Error("Worker module "+h+": not found or its 'init' did not return a function"));try{var g=(c=t[h]).value.apply(c,d);g&&typeof g.then=="function"?g.then(m,function(y){return o(y instanceof Error?y:new Error(""+y))}):m(g)}catch(y){o(y)}function m(y){try{var x=t[h].getTransferables&&t[h].getTransferables(y);(!x||!Array.isArray(x)||!x.length)&&(x=void 0),o(y,x)}catch(S){console.error(S),o(S)}}}function u(a,o){var c=void 0;self.troikaDefine=function(d){return c=d};var h=URL.createObjectURL(new Blob(["/** "+a.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(h)}catch(d){console.error(d)}return URL.revokeObjectURL(h),delete self.troikaDefine,c}self.addEventListener("message",function(a){var o=a.data,c=o.messageId,h=o.action,d=o.data;try{h==="registerModule"&&e(d,function(g){g instanceof Error?postMessage({messageId:c,success:!1,error:g.message}):postMessage({messageId:c,success:!0,result:{isCallable:typeof g=="function"}})}),h==="callModule"&&l(d,function(g,m){g instanceof Error?postMessage({messageId:c,success:!1,error:g.message}):postMessage({messageId:c,success:!0,result:g},m||void 0)})}catch(g){postMessage({messageId:c,success:!1,error:g.stack})}})}function Kb(t){var e=function(){for(var l=[],u=arguments.length;u--;)l[u]=arguments[u];return e._getInitResult().then(function(a){if(typeof a=="function")return a.apply(void 0,l);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var l=t.dependencies,u=t.init;l=Array.isArray(l)?l.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var a=Promise.all(l).then(function(o){return u.apply(null,o)});return e._getInitResult=function(){return a},a},e}var mv=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(l){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+l.message+"]")}return mv=function(){return t},t},Qb=0,Zb=0,bh=!1,Ku=Object.create(null),Qu=Object.create(null),ep=Object.create(null);function Xl(t){if((!t||typeof t.init!="function")&&!bh)throw new Error("requires `options.init` function");var e=t.dependencies,l=t.init,u=t.getTransferables,a=t.workerId,o=Kb(t);a==null&&(a="#default");var c="workerModule"+ ++Qb,h=t.name||c,d=null;e=e&&e.map(function(m){return typeof m=="function"&&!m.workerModuleData&&(bh=!0,m=Xl({workerId:a,name:"<"+h+"> function dependency: "+m.name,init:`function(){return (
`+Bf(m)+`
)}`}),bh=!1),m&&m.workerModuleData&&(m=m.workerModuleData),m});function g(){for(var m=[],y=arguments.length;y--;)m[y]=arguments[y];if(!mv())return o.apply(void 0,m);if(!d){d=Rg(a,"registerModule",g.workerModuleData);var x=function(){d=null,Qu[a].delete(x)};(Qu[a]||(Qu[a]=new Set)).add(x)}return d.then(function(S){var E=S.isCallable;if(E)return Rg(a,"callModule",{id:c,args:m});throw new Error("Worker module function was called but `init` did not return a callable function")})}return g.workerModuleData={isWorkerModule:!0,id:c,name:h,dependencies:e,init:Bf(l),getTransferables:u&&Bf(u)},g.onMainThread=o,g}function $b(t){Qu[t]&&Qu[t].forEach(function(e){e()}),Ku[t]&&(Ku[t].terminate(),delete Ku[t])}function Bf(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function eE(t){var e=Ku[t];if(!e){var l=Bf(qb);e=Ku[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+l+")()"],{type:"application/javascript"}))),e.onmessage=function(u){var a=u.data,o=a.messageId,c=ep[o];if(!c)throw new Error("WorkerModule response with empty or unknown messageId");delete ep[o],c(a)}}return e}function Rg(t,e,l){return new Promise(function(u,a){var o=++Zb;ep[o]=function(c){c.success?u(c.result):a(new Error("Error in worker "+e+" call: "+c.error))},eE(t).postMessage({messageId:o,action:e,data:l})})}function gv(){var t=function(e){function l(Q,J,B,Z,ee,se,$,ae){var ce=1-$;ae.x=ce*ce*Q+2*ce*$*B+$*$*ee,ae.y=ce*ce*J+2*ce*$*Z+$*$*se}function u(Q,J,B,Z,ee,se,$,ae,ce,_e){var Oe=1-ce;_e.x=Oe*Oe*Oe*Q+3*Oe*Oe*ce*B+3*Oe*ce*ce*ee+ce*ce*ce*$,_e.y=Oe*Oe*Oe*J+3*Oe*Oe*ce*Z+3*Oe*ce*ce*se+ce*ce*ce*ae}function a(Q,J){for(var B=/([MLQCZ])([^MLQCZ]*)/g,Z,ee,se,$,ae;Z=B.exec(Q);){var ce=Z[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(_e){return parseFloat(_e)});switch(Z[1]){case"M":$=ee=ce[0],ae=se=ce[1];break;case"L":(ce[0]!==$||ce[1]!==ae)&&J("L",$,ae,$=ce[0],ae=ce[1]);break;case"Q":{J("Q",$,ae,$=ce[2],ae=ce[3],ce[0],ce[1]);break}case"C":{J("C",$,ae,$=ce[4],ae=ce[5],ce[0],ce[1],ce[2],ce[3]);break}case"Z":($!==ee||ae!==se)&&J("L",$,ae,ee,se);break}}}function o(Q,J,B){B===void 0&&(B=16);var Z={x:0,y:0};a(Q,function(ee,se,$,ae,ce,_e,Oe,Be,Pe){switch(ee){case"L":J(se,$,ae,ce);break;case"Q":{for(var Ce=se,ht=$,ot=1;ot<B;ot++)l(se,$,_e,Oe,ae,ce,ot/(B-1),Z),J(Ce,ht,Z.x,Z.y),Ce=Z.x,ht=Z.y;break}case"C":{for(var Ve=se,st=$,et=1;et<B;et++)u(se,$,_e,Oe,Be,Pe,ae,ce,et/(B-1),Z),J(Ve,st,Z.x,Z.y),Ve=Z.x,st=Z.y;break}}})}var c="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",h="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",d=new WeakMap,g={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function m(Q,J){var B=Q.getContext?Q.getContext("webgl",g):Q,Z=d.get(B);if(!Z){let Oe=function(Ve){var st=se[Ve];if(!st&&(st=se[Ve]=B.getExtension(Ve),!st))throw new Error(Ve+" not supported");return st},Be=function(Ve,st){var et=B.createShader(st);return B.shaderSource(et,Ve),B.compileShader(et),et},Pe=function(Ve,st,et,Me){if(!$[Ve]){var lt={},He={},Ee=B.createProgram();B.attachShader(Ee,Be(st,B.VERTEX_SHADER)),B.attachShader(Ee,Be(et,B.FRAGMENT_SHADER)),B.linkProgram(Ee),$[Ve]={program:Ee,transaction:function(je){B.useProgram(Ee),je({setUniform:function(ze,Zt){for(var tt=[],nt=arguments.length-2;nt-- >0;)tt[nt]=arguments[nt+2];var gt=He[Zt]||(He[Zt]=B.getUniformLocation(Ee,Zt));B["uniform"+ze].apply(B,[gt].concat(tt))},setAttribute:function(ze,Zt,tt,nt,gt){var Ct=lt[ze];Ct||(Ct=lt[ze]={buf:B.createBuffer(),loc:B.getAttribLocation(Ee,ze),data:null}),B.bindBuffer(B.ARRAY_BUFFER,Ct.buf),B.vertexAttribPointer(Ct.loc,Zt,B.FLOAT,!1,0,0),B.enableVertexAttribArray(Ct.loc),ee?B.vertexAttribDivisor(Ct.loc,nt):Oe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ct.loc,nt),gt!==Ct.data&&(B.bufferData(B.ARRAY_BUFFER,gt,tt),Ct.data=gt)}})}}}$[Ve].transaction(Me)},Ce=function(Ve,st){ce++;try{B.activeTexture(B.TEXTURE0+ce);var et=ae[Ve];et||(et=ae[Ve]=B.createTexture(),B.bindTexture(B.TEXTURE_2D,et),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST)),B.bindTexture(B.TEXTURE_2D,et),st(et,ce)}finally{ce--}},ht=function(Ve,st,et){var Me=B.createFramebuffer();_e.push(Me),B.bindFramebuffer(B.FRAMEBUFFER,Me),B.activeTexture(B.TEXTURE0+st),B.bindTexture(B.TEXTURE_2D,Ve),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,Ve,0);try{et(Me)}finally{B.deleteFramebuffer(Me),B.bindFramebuffer(B.FRAMEBUFFER,_e[--_e.length-1]||null)}},ot=function(){se={},$={},ae={},ce=-1,_e.length=0};var ee=typeof WebGL2RenderingContext<"u"&&B instanceof WebGL2RenderingContext,se={},$={},ae={},ce=-1,_e=[];B.canvas.addEventListener("webglcontextlost",function(Ve){ot(),Ve.preventDefault()},!1),d.set(B,Z={gl:B,isWebGL2:ee,getExtension:Oe,withProgram:Pe,withTexture:Ce,withTextureFramebuffer:ht,handleContextLoss:ot})}J(Z)}function y(Q,J,B,Z,ee,se,$,ae){$===void 0&&($=15),ae===void 0&&(ae=null),m(Q,function(ce){var _e=ce.gl,Oe=ce.withProgram,Be=ce.withTexture;Be("copy",function(Pe,Ce){_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,ee,se,0,_e.RGBA,_e.UNSIGNED_BYTE,J),Oe("copy",c,h,function(ht){var ot=ht.setUniform,Ve=ht.setAttribute;Ve("aUV",2,_e.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ot("1i","image",Ce),_e.bindFramebuffer(_e.FRAMEBUFFER,ae||null),_e.disable(_e.BLEND),_e.colorMask($&8,$&4,$&2,$&1),_e.viewport(B,Z,ee,se),_e.scissor(B,Z,ee,se),_e.drawArrays(_e.TRIANGLES,0,3)})})})}function x(Q,J,B){var Z=Q.width,ee=Q.height;m(Q,function(se){var $=se.gl,ae=new Uint8Array(Z*ee*4);$.readPixels(0,0,Z,ee,$.RGBA,$.UNSIGNED_BYTE,ae),Q.width=J,Q.height=B,y($,ae,0,0,Z,ee)})}var S=Object.freeze({__proto__:null,withWebGLContext:m,renderImageData:y,resizeWebGLCanvasWithoutClearing:x});function E(Q,J,B,Z,ee,se){se===void 0&&(se=1);var $=new Uint8Array(Q*J),ae=Z[2]-Z[0],ce=Z[3]-Z[1],_e=[];o(B,function(Ve,st,et,Me){_e.push({x1:Ve,y1:st,x2:et,y2:Me,minX:Math.min(Ve,et),minY:Math.min(st,Me),maxX:Math.max(Ve,et),maxY:Math.max(st,Me)})}),_e.sort(function(Ve,st){return Ve.maxX-st.maxX});for(var Oe=0;Oe<Q;Oe++)for(var Be=0;Be<J;Be++){var Pe=ht(Z[0]+ae*(Oe+.5)/Q,Z[1]+ce*(Be+.5)/J),Ce=Math.pow(1-Math.abs(Pe)/ee,se)/2;Pe<0&&(Ce=1-Ce),Ce=Math.max(0,Math.min(255,Math.round(Ce*255))),$[Be*Q+Oe]=Ce}return $;function ht(Ve,st){for(var et=1/0,Me=1/0,lt=_e.length;lt--;){var He=_e[lt];if(He.maxX+Me<=Ve)break;if(Ve+Me>He.minX&&st-Me<He.maxY&&st+Me>He.minY){var Ee=A(Ve,st,He.x1,He.y1,He.x2,He.y2);Ee<et&&(et=Ee,Me=Math.sqrt(et))}}return ot(Ve,st)&&(Me=-Me),Me}function ot(Ve,st){for(var et=0,Me=_e.length;Me--;){var lt=_e[Me];if(lt.maxX<=Ve)break;var He=lt.y1>st!=lt.y2>st&&Ve<(lt.x2-lt.x1)*(st-lt.y1)/(lt.y2-lt.y1)+lt.x1;He&&(et+=lt.y1<lt.y2?1:-1)}return et!==0}}function P(Q,J,B,Z,ee,se,$,ae,ce,_e){se===void 0&&(se=1),ae===void 0&&(ae=0),ce===void 0&&(ce=0),_e===void 0&&(_e=0),R(Q,J,B,Z,ee,se,$,null,ae,ce,_e)}function R(Q,J,B,Z,ee,se,$,ae,ce,_e,Oe){se===void 0&&(se=1),ce===void 0&&(ce=0),_e===void 0&&(_e=0),Oe===void 0&&(Oe=0);for(var Be=E(Q,J,B,Z,ee,se),Pe=new Uint8Array(Be.length*4),Ce=0;Ce<Be.length;Ce++)Pe[Ce*4+Oe]=Be[Ce];y($,Pe,ce,_e,Q,J,1<<3-Oe,ae)}function A(Q,J,B,Z,ee,se){var $=ee-B,ae=se-Z,ce=$*$+ae*ae,_e=ce?Math.max(0,Math.min(1,((Q-B)*$+(J-Z)*ae)/ce)):0,Oe=Q-(B+_e*$),Be=J-(Z+_e*ae);return Oe*Oe+Be*Be}var I=Object.freeze({__proto__:null,generate:E,generateIntoCanvas:P,generateIntoFramebuffer:R}),L="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",F="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",D="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",G=new Float32Array([0,0,2,0,0,2]),j=null,W=!1,X={},K=new WeakMap;function ie(Q){if(!W&&!be(Q))throw new Error("WebGL generation not supported")}function V(Q,J,B,Z,ee,se,$){if(se===void 0&&(se=1),$===void 0&&($=null),!$&&($=j,!$)){var ae=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ae)throw new Error("OffscreenCanvas or DOM canvas not supported");$=j=ae.getContext("webgl",{depth:!1})}ie($);var ce=new Uint8Array(Q*J*4);m($,function(Pe){var Ce=Pe.gl,ht=Pe.withTexture,ot=Pe.withTextureFramebuffer;ht("readable",function(Ve,st){Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,Q,J,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null),ot(Ve,st,function(et){pe(Q,J,B,Z,ee,se,Ce,et,0,0,0),Ce.readPixels(0,0,Q,J,Ce.RGBA,Ce.UNSIGNED_BYTE,ce)})})});for(var _e=new Uint8Array(Q*J),Oe=0,Be=0;Oe<ce.length;Oe+=4)_e[Be++]=ce[Oe];return _e}function fe(Q,J,B,Z,ee,se,$,ae,ce,_e){se===void 0&&(se=1),ae===void 0&&(ae=0),ce===void 0&&(ce=0),_e===void 0&&(_e=0),pe(Q,J,B,Z,ee,se,$,null,ae,ce,_e)}function pe(Q,J,B,Z,ee,se,$,ae,ce,_e,Oe){se===void 0&&(se=1),ce===void 0&&(ce=0),_e===void 0&&(_e=0),Oe===void 0&&(Oe=0),ie($);var Be=[];o(B,function(Pe,Ce,ht,ot){Be.push(Pe,Ce,ht,ot)}),Be=new Float32Array(Be),m($,function(Pe){var Ce=Pe.gl,ht=Pe.isWebGL2,ot=Pe.getExtension,Ve=Pe.withProgram,st=Pe.withTexture,et=Pe.withTextureFramebuffer,Me=Pe.handleContextLoss;if(st("rawDistances",function(lt,He){(Q!==lt._lastWidth||J!==lt._lastHeight)&&Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,lt._lastWidth=Q,lt._lastHeight=J,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null),Ve("main",L,F,function(Ee){var xt=Ee.setAttribute,je=Ee.setUniform,Qe=!ht&&ot("ANGLE_instanced_arrays"),ze=!ht&&ot("EXT_blend_minmax");xt("aUV",2,Ce.STATIC_DRAW,0,G),xt("aLineSegment",4,Ce.DYNAMIC_DRAW,1,Be),je.apply(void 0,["4f","uGlyphBounds"].concat(Z)),je("1f","uMaxDistance",ee),je("1f","uExponent",se),et(lt,He,function(Zt){Ce.enable(Ce.BLEND),Ce.colorMask(!0,!0,!0,!0),Ce.viewport(0,0,Q,J),Ce.scissor(0,0,Q,J),Ce.blendFunc(Ce.ONE,Ce.ONE),Ce.blendEquationSeparate(Ce.FUNC_ADD,ht?Ce.MAX:ze.MAX_EXT),Ce.clear(Ce.COLOR_BUFFER_BIT),ht?Ce.drawArraysInstanced(Ce.TRIANGLES,0,3,Be.length/4):Qe.drawArraysInstancedANGLE(Ce.TRIANGLES,0,3,Be.length/4)})}),Ve("post",c,D,function(Ee){Ee.setAttribute("aUV",2,Ce.STATIC_DRAW,0,G),Ee.setUniform("1i","tex",He),Ce.bindFramebuffer(Ce.FRAMEBUFFER,ae),Ce.disable(Ce.BLEND),Ce.colorMask(Oe===0,Oe===1,Oe===2,Oe===3),Ce.viewport(ce,_e,Q,J),Ce.scissor(ce,_e,Q,J),Ce.drawArrays(Ce.TRIANGLES,0,3)})}),Ce.isContextLost())throw Me(),new Error("webgl context lost")})}function be(Q){var J=!Q||Q===j?X:Q.canvas||Q,B=K.get(J);if(B===void 0){W=!0;var Z=null;try{var ee=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],se=V(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Q);B=se&&ee.length===se.length&&se.every(function($,ae){return $===ee[ae]}),B||(Z="bad trial run results",console.info(ee,se))}catch($){B=!1,Z=$.message}Z&&console.warn("WebGL SDF generation not supported:",Z),W=!1,K.set(J,B)}return B}var le=Object.freeze({__proto__:null,generate:V,generateIntoCanvas:fe,generateIntoFramebuffer:pe,isSupported:be});function Te(Q,J,B,Z,ee,se){ee===void 0&&(ee=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),se===void 0&&(se=1);try{return V.apply(le,arguments)}catch($){return console.info("WebGL SDF generation failed, falling back to JS",$),E.apply(I,arguments)}}function Y(Q,J,B,Z,ee,se,$,ae,ce,_e){ee===void 0&&(ee=Math.max(Z[2]-Z[0],Z[3]-Z[1])/2),se===void 0&&(se=1),ae===void 0&&(ae=0),ce===void 0&&(ce=0),_e===void 0&&(_e=0);try{return fe.apply(le,arguments)}catch(Oe){return console.info("WebGL SDF generation failed, falling back to JS",Oe),P.apply(I,arguments)}}return e.forEachPathCommand=a,e.generate=Te,e.generateIntoCanvas=Y,e.javascript=I,e.pathToLineSegments=o,e.webgl=le,e.webglUtils=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function tE(){var t=function(e){var l={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},u={},a={};u.L=1,a[1]="L",Object.keys(l).forEach(function(Me,lt){u[Me]=1<<lt+1,a[u[Me]]=Me}),Object.freeze(u);var o=u.LRI|u.RLI|u.FSI,c=u.L|u.R|u.AL,h=u.B|u.S|u.WS|u.ON|u.FSI|u.LRI|u.RLI|u.PDI,d=u.BN|u.RLE|u.LRE|u.RLO|u.LRO|u.PDF,g=u.S|u.WS|u.B|o|u.PDI|d,m=null;function y(){if(!m){m=new Map;var Me=function(He){if(l.hasOwnProperty(He)){var Ee=0;l[He].split(",").forEach(function(xt){var je=xt.split("+"),Qe=je[0],ze=je[1];Qe=parseInt(Qe,36),ze=ze?parseInt(ze,36):0,m.set(Ee+=Qe,u[He]);for(var Zt=0;Zt<ze;Zt++)m.set(++Ee,u[He])})}};for(var lt in l)Me(lt)}}function x(Me){return y(),m.get(Me.codePointAt(0))||u.L}function S(Me){return a[x(Me)]}var E={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function P(Me,lt){var He=36,Ee=0,xt=new Map,je=lt&&new Map,Qe;return Me.split(",").forEach(function ze(Zt){if(Zt.indexOf("+")!==-1)for(var tt=+Zt;tt--;)ze(Qe);else{Qe=Zt;var nt=Zt.split(">"),gt=nt[0],Ct=nt[1];gt=String.fromCodePoint(Ee+=parseInt(gt,He)),Ct=String.fromCodePoint(Ee+=parseInt(Ct,He)),xt.set(gt,Ct),lt&&je.set(Ct,gt)}}),{map:xt,reverseMap:je}}var R,A,I;function L(){if(!R){var Me=P(E.pairs,!0),lt=Me.map,He=Me.reverseMap;R=lt,A=He,I=P(E.canonical,!1).map}}function F(Me){return L(),R.get(Me)||null}function D(Me){return L(),A.get(Me)||null}function G(Me){return L(),I.get(Me)||null}var j=u.L,W=u.R,X=u.EN,K=u.ES,ie=u.ET,V=u.AN,fe=u.CS,pe=u.B,be=u.S,le=u.ON,Te=u.BN,Y=u.NSM,Q=u.AL,J=u.LRO,B=u.RLO,Z=u.LRE,ee=u.RLE,se=u.PDF,$=u.LRI,ae=u.RLI,ce=u.FSI,_e=u.PDI;function Oe(Me,lt){for(var He=125,Ee=new Uint32Array(Me.length),xt=0;xt<Me.length;xt++)Ee[xt]=x(Me[xt]);var je=new Map;function Qe(qn,vr){var Mn=Ee[qn];Ee[qn]=vr,je.set(Mn,je.get(Mn)-1),Mn&h&&je.set(h,je.get(h)-1),je.set(vr,(je.get(vr)||0)+1),vr&h&&je.set(h,(je.get(h)||0)+1)}for(var ze=new Uint8Array(Me.length),Zt=new Map,tt=[],nt=null,gt=0;gt<Me.length;gt++)nt||tt.push(nt={start:gt,end:Me.length-1,level:lt==="rtl"?1:lt==="ltr"?0:$o(gt,!1)}),Ee[gt]&pe&&(nt.end=gt,nt=null);for(var Ct=ee|Z|B|J|o|_e|se|pe,en=function(qn){return qn+(qn&1?1:2)},un=function(qn){return qn+(qn&1?2:1)},It=0;It<tt.length;It++){nt=tt[It];var Ot=[{_level:nt.level,_override:0,_isolate:0}],ct=void 0,oe=0,Re=0,rt=0;je.clear();for(var ft=nt.start;ft<=nt.end;ft++){var Ze=Ee[ft];if(ct=Ot[Ot.length-1],je.set(Ze,(je.get(Ze)||0)+1),Ze&h&&je.set(h,(je.get(h)||0)+1),Ze&Ct)if(Ze&(ee|Z)){ze[ft]=ct._level;var Mt=(Ze===ee?un:en)(ct._level);Mt<=He&&!oe&&!Re?Ot.push({_level:Mt,_override:0,_isolate:0}):oe||Re++}else if(Ze&(B|J)){ze[ft]=ct._level;var Pn=(Ze===B?un:en)(ct._level);Pn<=He&&!oe&&!Re?Ot.push({_level:Pn,_override:Ze&B?W:j,_isolate:0}):oe||Re++}else if(Ze&o){Ze&ce&&(Ze=$o(ft+1,!0)===1?ae:$),ze[ft]=ct._level,ct._override&&Qe(ft,ct._override);var on=(Ze===ae?un:en)(ct._level);on<=He&&oe===0&&Re===0?(rt++,Ot.push({_level:on,_override:0,_isolate:1,_isolInitIndex:ft})):oe++}else if(Ze&_e){if(oe>0)oe--;else if(rt>0){for(Re=0;!Ot[Ot.length-1]._isolate;)Ot.pop();var Ft=Ot[Ot.length-1]._isolInitIndex;Ft!=null&&(Zt.set(Ft,ft),Zt.set(ft,Ft)),Ot.pop(),rt--}ct=Ot[Ot.length-1],ze[ft]=ct._level,ct._override&&Qe(ft,ct._override)}else Ze&se?(oe===0&&(Re>0?Re--:!ct._isolate&&Ot.length>1&&(Ot.pop(),ct=Ot[Ot.length-1])),ze[ft]=ct._level):Ze&pe&&(ze[ft]=nt.level);else ze[ft]=ct._level,ct._override&&Ze!==Te&&Qe(ft,ct._override)}for(var tn=[],Yt=null,St=nt.start;St<=nt.end;St++){var Dt=Ee[St];if(!(Dt&d)){var gn=ze[St],_n=Dt&o,wn=Dt===_e;Yt&&gn===Yt._level?(Yt._end=St,Yt._endsWithIsolInit=_n):tn.push(Yt={_start:St,_end:St,_level:gn,_startsWithPDI:wn,_endsWithIsolInit:_n})}}for(var Pr=[],Lr=0;Lr<tn.length;Lr++){var Ir=tn[Lr];if(!Ir._startsWithPDI||Ir._startsWithPDI&&!Zt.has(Ir._start)){for(var ci=[Yt=Ir],fr=void 0;Yt&&Yt._endsWithIsolInit&&(fr=Zt.get(Yt._end))!=null;)for(var Qr=Lr+1;Qr<tn.length;Qr++)if(tn[Qr]._start===fr){ci.push(Yt=tn[Qr]);break}for(var Gn=[],Si=0;Si<ci.length;Si++)for(var Sa=ci[Si],qo=Sa._start;qo<=Sa._end;qo++)Gn.push(qo);for(var ba=ze[Gn[0]],Ea=nt.level,oo=Gn[0]-1;oo>=0;oo--)if(!(Ee[oo]&d)){Ea=ze[oo];break}var Ko=Gn[Gn.length-1],as=ze[Ko],Ta=nt.level;if(!(Ee[Ko]&o)){for(var bo=Ko+1;bo<=nt.end;bo++)if(!(Ee[bo]&d)){Ta=ze[bo];break}}Pr.push({_seqIndices:Gn,_sosType:Math.max(Ea,ba)%2?W:j,_eosType:Math.max(Ta,as)%2?W:j})}}for(var Ln=0;Ln<Pr.length;Ln++){var fi=Pr[Ln],it=fi._seqIndices,Hr=fi._sosType,Qo=fi._eosType,Zr=ze[it[0]]&1?W:j;if(je.get(Y))for(var ao=0;ao<it.length;ao++){var so=it[ao];if(Ee[so]&Y){for(var $r=Hr,dr=ao-1;dr>=0;dr--)if(!(Ee[it[dr]]&d)){$r=Ee[it[dr]];break}Qe(so,$r&(o|_e)?le:$r)}}if(je.get(X))for(var an=0;an<it.length;an++){var $t=it[an];if(Ee[$t]&X)for(var Or=an-1;Or>=-1;Or--){var Tn=Or===-1?Hr:Ee[it[Or]];if(Tn&c){Tn===Q&&Qe($t,V);break}}}if(je.get(Q))for(var Nn=0;Nn<it.length;Nn++){var Vr=it[Nn];Ee[Vr]&Q&&Qe(Vr,W)}if(je.get(K)||je.get(fe))for(var hr=1;hr<it.length-1;hr++){var Wn=it[hr];if(Ee[Wn]&(K|fe)){for(var Yr=0,di=0,vn=hr-1;vn>=0&&(Yr=Ee[it[vn]],!!(Yr&d));vn--);for(var hi=hr+1;hi<it.length&&(di=Ee[it[hi]],!!(di&d));hi++);Yr===di&&(Ee[Wn]===K?Yr===X:Yr&(X|V))&&Qe(Wn,Yr)}}if(je.get(X))for(var pr=0;pr<it.length;pr++){var ar=it[pr];if(Ee[ar]&X){for(var bi=pr-1;bi>=0&&Ee[it[bi]]&(ie|d);bi--)Qe(it[bi],X);for(pr++;pr<it.length&&Ee[it[pr]]&(ie|d|X);pr++)Ee[it[pr]]!==X&&Qe(it[pr],X)}}if(je.get(ie)||je.get(K)||je.get(fe))for(var Ei=0;Ei<it.length;Ei++){var Wi=it[Ei];if(Ee[Wi]&(ie|K|fe)){Qe(Wi,le);for(var mr=Ei-1;mr>=0&&Ee[it[mr]]&d;mr--)Qe(it[mr],le);for(var Jr=Ei+1;Jr<it.length&&Ee[it[Jr]]&d;Jr++)Qe(it[Jr],le)}}if(je.get(X))for(var gr=0,vt=Hr;gr<it.length;gr++){var Hi=it[gr],C=Ee[Hi];C&X?vt===j&&Qe(Hi,j):C&c&&(vt=C)}if(je.get(h)){var T=W|X|V,U=T|j,O=[];{for(var N=[],ve=0;ve<it.length;ve++)if(Ee[it[ve]]&h){var me=Me[it[ve]],Ye=void 0;if(F(me)!==null)if(N.length<63)N.push({char:me,seqIndex:ve});else break;else if((Ye=D(me))!==null)for(var Ue=N.length-1;Ue>=0;Ue--){var Fe=N[Ue].char;if(Fe===Ye||Fe===D(G(me))||F(G(Fe))===me){O.push([N[Ue].seqIndex,ve]),N.length=Ue;break}}}O.sort(function(qn,vr){return qn[0]-vr[0]})}for(var ut=0;ut<O.length;ut++){for(var Le=O[ut],De=Le[0],Je=Le[1],_t=!1,Ke=0,fn=De+1;fn<Je;fn++){var Qt=it[fn];if(Ee[Qt]&U){_t=!0;var Ut=Ee[Qt]&T?W:j;if(Ut===Zr){Ke=Ut;break}}}if(_t&&!Ke){Ke=Hr;for(var dt=De-1;dt>=0;dt--){var Jt=it[dt];if(Ee[Jt]&U){var dn=Ee[Jt]&T?W:j;dn!==Zr?Ke=dn:Ke=Zr;break}}}if(Ke){if(Ee[it[De]]=Ee[it[Je]]=Ke,Ke!==Zr){for(var In=De+1;In<it.length;In++)if(!(Ee[it[In]]&d)){x(Me[it[In]])&Y&&(Ee[it[In]]=Ke);break}}if(Ke!==Zr){for(var pi=Je+1;pi<it.length;pi++)if(!(Ee[it[pi]]&d)){x(Me[it[pi]])&Y&&(Ee[it[pi]]=Ke);break}}}}for(var Mr=0;Mr<it.length;Mr++)if(Ee[it[Mr]]&h){for(var ss=Mr,ls=Mr,Ur=Hr,Zo=Mr-1;Zo>=0;Zo--)if(Ee[it[Zo]]&d)ss=Zo;else{Ur=Ee[it[Zo]]&T?W:j;break}for(var Cn=Qo,lo=Mr+1;lo<it.length;lo++)if(Ee[it[lo]]&(h|d))ls=lo;else{Cn=Ee[it[lo]]&T?W:j;break}for(var Dn=ss;Dn<=ls;Dn++)Ee[it[Dn]]=Ur===Cn?Ur:Zr;Mr=ls}}}for(var Xn=nt.start;Xn<=nt.end;Xn++){var Eo=ze[Xn],On=Ee[Xn];if(Eo&1?On&(j|X|V)&&ze[Xn]++:On&W?ze[Xn]++:On&(V|X)&&(ze[Xn]+=2),On&d&&(ze[Xn]=Xn===0?nt.level:ze[Xn-1]),Xn===nt.end||x(Me[Xn])&(be|pe))for(var uo=Xn;uo>=0&&x(Me[uo])&g;uo--)ze[uo]=nt.level}}return{levels:ze,paragraphs:tt};function $o(qn,vr){for(var Mn=qn;Mn<Me.length;Mn++){var sn=Ee[Mn];if(sn&(W|Q))return 1;if(sn&(pe|j)||vr&&sn===_e)return 0;if(sn&o){var ei=us(Mn);Mn=ei===-1?Me.length:ei}}return 0}function us(qn){for(var vr=1,Mn=qn+1;Mn<Me.length;Mn++){var sn=Ee[Mn];if(sn&pe)break;if(sn&_e){if(--vr===0)return Mn}else sn&o&&vr++}return-1}}var Be="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Pe;function Ce(){if(!Pe){var Me=P(Be,!0),lt=Me.map,He=Me.reverseMap;He.forEach(function(Ee,xt){lt.set(xt,Ee)}),Pe=lt}}function ht(Me){return Ce(),Pe.get(Me)||null}function ot(Me,lt,He,Ee){var xt=Me.length;He=Math.max(0,He==null?0:+He),Ee=Math.min(xt-1,Ee==null?xt-1:+Ee);for(var je=new Map,Qe=He;Qe<=Ee;Qe++)if(lt[Qe]&1){var ze=ht(Me[Qe]);ze!==null&&je.set(Qe,ze)}return je}function Ve(Me,lt,He,Ee){var xt=Me.length;He=Math.max(0,He==null?0:+He),Ee=Math.min(xt-1,Ee==null?xt-1:+Ee);var je=[];return lt.paragraphs.forEach(function(Qe){var ze=Math.max(He,Qe.start),Zt=Math.min(Ee,Qe.end);if(ze<Zt){for(var tt=lt.levels.slice(ze,Zt+1),nt=Zt;nt>=ze&&x(Me[nt])&g;nt--)tt[nt]=Qe.level;for(var gt=Qe.level,Ct=1/0,en=0;en<tt.length;en++){var un=tt[en];un>gt&&(gt=un),un<Ct&&(Ct=un|1)}for(var It=gt;It>=Ct;It--)for(var Ot=0;Ot<tt.length;Ot++)if(tt[Ot]>=It){for(var ct=Ot;Ot+1<tt.length&&tt[Ot+1]>=It;)Ot++;Ot>ct&&je.push([ct+ze,Ot+ze])}}}),je}function st(Me,lt,He,Ee){var xt=et(Me,lt,He,Ee),je=[].concat(Me);return xt.forEach(function(Qe,ze){je[ze]=(lt.levels[Qe]&1?ht(Me[Qe]):null)||Me[Qe]}),je.join("")}function et(Me,lt,He,Ee){for(var xt=Ve(Me,lt,He,Ee),je=[],Qe=0;Qe<Me.length;Qe++)je[Qe]=Qe;return xt.forEach(function(ze){for(var Zt=ze[0],tt=ze[1],nt=je.slice(Zt,tt+1),gt=nt.length;gt--;)je[tt-gt]=nt[gt]}),je}return e.closingToOpeningBracket=D,e.getBidiCharType=x,e.getBidiCharTypeName=S,e.getCanonicalBracket=G,e.getEmbeddingLevels=Oe,e.getMirroredCharacter=ht,e.getMirroredCharactersMap=ot,e.getReorderSegments=Ve,e.getReorderedIndices=et,e.getReorderedString=st,e.openingToClosingBracket=F,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const vv=/\bvoid\s+main\s*\(\s*\)\s*{/g;function tp(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function l(u,a){let o=i2[a];return o?tp(o):u}return t.replace(e,l)}const jr=[];for(let t=0;t<256;t++)jr[t]=(t<16?"0":"")+t.toString(16);function nE(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,l=Math.random()*4294967295|0,u=Math.random()*4294967295|0;return(jr[t&255]+jr[t>>8&255]+jr[t>>16&255]+jr[t>>24&255]+"-"+jr[e&255]+jr[e>>8&255]+"-"+jr[e>>16&15|64]+jr[e>>24&255]+"-"+jr[l&63|128]+jr[l>>8&255]+"-"+jr[l>>16&255]+jr[l>>24&255]+jr[u&255]+jr[u>>8&255]+jr[u>>16&255]+jr[u>>24&255]).toUpperCase()}const js=Object.assign||function(){let t=arguments[0];for(let e=1,l=arguments.length;e<l;e++){let u=arguments[e];if(u)for(let a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a])}return t},rE=Date.now(),Pg=new WeakMap,Lg=new Map;let iE=1e10;function np(t,e){const l=lE(e);let u=Pg.get(t);if(u||Pg.set(t,u=Object.create(null)),u[l])return new u[l];const a=`_onBeforeCompile${l}`,o=function(g,m){t.onBeforeCompile.call(this,g,m);const y=this.customProgramCacheKey()+"|"+g.vertexShader+"|"+g.fragmentShader;let x=Lg[y];if(!x){const S=oE(this,g,e,l);x=Lg[y]=S}g.vertexShader=x.vertexShader,g.fragmentShader=x.fragmentShader,js(g.uniforms,this.uniforms),e.timeUniform&&(g.uniforms[e.timeUniform]={get value(){return Date.now()-rE}}),this[a]&&this[a](g)},c=function(){return h(e.chained?t:t.clone())},h=function(g){const m=Object.create(g,d);return Object.defineProperty(m,"baseMaterial",{value:t}),Object.defineProperty(m,"id",{value:iE++}),m.uuid=nE(),m.uniforms=js({},g.uniforms,e.uniforms),m.defines=js({},g.defines,e.defines),m.defines[`TROIKA_DERIVED_MATERIAL_${l}`]="",m.extensions=js({},g.extensions,e.extensions),m._listeners=void 0,m},d={constructor:{value:c},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:g=>{t.type=g}},isDerivedFrom:{writable:!0,configurable:!0,value:function(g){const m=this.baseMaterial;return g===m||m.isDerivedMaterial&&m.isDerivedFrom(g)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+l}},onBeforeCompile:{get(){return o},set(g){this[a]=g}},copy:{writable:!0,configurable:!0,value:function(g){return t.copy.call(this,g),!t.isShaderMaterial&&!t.isDerivedMaterial&&(js(this.extensions,g.extensions),js(this.defines,g.defines),js(this.uniforms,Bh.clone(g.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const g=new t.constructor;return h(g).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let g=this._depthMaterial;return g||(g=this._depthMaterial=np(t.isDerivedMaterial?t.getDepthMaterial():new t2({depthPacking:n2}),e),g.defines.IS_DEPTH_MATERIAL="",g.uniforms=this.uniforms),g}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let g=this._distanceMaterial;return g||(g=this._distanceMaterial=np(t.isDerivedMaterial?t.getDistanceMaterial():new r2,e),g.defines.IS_DISTANCE_MATERIAL="",g.uniforms=this.uniforms),g}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:g,_distanceMaterial:m}=this;g&&g.dispose(),m&&m.dispose(),t.dispose.call(this)}}};return u[l]=c,new c}function oE(t,{vertexShader:e,fragmentShader:l},u,a){let{vertexDefs:o,vertexMainIntro:c,vertexMainOutro:h,vertexTransform:d,fragmentDefs:g,fragmentMainIntro:m,fragmentMainOutro:y,fragmentColorTransform:x,customRewriter:S,timeUniform:E}=u;if(o=o||"",c=c||"",h=h||"",g=g||"",m=m||"",y=y||"",(d||S)&&(e=tp(e)),(x||S)&&(l=l.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),l=tp(l)),S){let P=S({vertexShader:e,fragmentShader:l});e=P.vertexShader,l=P.fragmentShader}if(x){let P=[];l=l.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,R=>(P.push(R),"")),y=`${x}
${P.join(`
`)}
${y}`}if(E){const P=`
uniform float ${E};
`;o=P+o,g=P+g}return d&&(e=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${e}
`,o=`${o}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${d}
}
`,c=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${c}
`,e=e.replace(/\b(position|normal|uv)\b/g,(P,R,A,I)=>/\battribute\s+vec[23]\s+$/.test(I.substr(0,A))?R:`troika_${R}_${a}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),e=Ig(e,a,o,c,h),l=Ig(l,a,g,m,y),{vertexShader:e,fragmentShader:l}}function Ig(t,e,l,u,a){return(u||a||l)&&(t=t.replace(vv,`
${l}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${u}
  troikaOrigMain${e}();
  ${a}
}`),t}function aE(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let sE=0;const Og=new Map;function lE(t){const e=JSON.stringify(t,aE);let l=Og.get(e);return l==null&&Og.set(e,l=++sE),l}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function uE(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(a){var o=e._bin,c=new Uint8Array(a);if(o.readASCII(c,0,4)=="ttcf"){var h=4;o.readUshort(c,h),h+=2,o.readUshort(c,h),h+=2;var d=o.readUint(c,h);h+=4;for(var g=[],m=0;m<d;m++){var y=o.readUint(c,h);h+=4,g.push(e._readFont(c,y))}return g}return[e._readFont(c,0)]},_readFont:function(a,o){var c=e._bin,h=o;c.readFixed(a,o),o+=4;var d=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2;for(var g=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],m={_data:a,_offset:h},y={},x=0;x<d;x++){var S=c.readASCII(a,o,4);o+=4,c.readUint(a,o),o+=4;var E=c.readUint(a,o);o+=4;var P=c.readUint(a,o);o+=4,y[S]={offset:E,length:P}}for(x=0;x<g.length;x++){var R=g[x];y[R]&&(m[R.trim()]=e[R.trim()].parse(a,y[R].offset,y[R].length,m))}return m},_tabOffset:function(a,o,c){for(var h=e._bin,d=h.readUshort(a,c+4),g=c+12,m=0;m<d;m++){var y=h.readASCII(a,g,4);g+=4,h.readUint(a,g),g+=4;var x=h.readUint(a,g);if(g+=4,h.readUint(a,g),g+=4,y==o)return x}return 0}};e._bin={readFixed:function(a,o){return(a[o]<<8|a[o+1])+(a[o+2]<<8|a[o+3])/65540},readF2dot14:function(a,o){return e._bin.readShort(a,o)/16384},readInt:function(a,o){return e._bin._view(a).getInt32(o)},readInt8:function(a,o){return e._bin._view(a).getInt8(o)},readShort:function(a,o){return e._bin._view(a).getInt16(o)},readUshort:function(a,o){return e._bin._view(a).getUint16(o)},readUshorts:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(e._bin.readUshort(a,o+2*d));return h},readUint:function(a,o){return e._bin._view(a).getUint32(o)},readUint64:function(a,o){return 4294967296*e._bin.readUint(a,o)+e._bin.readUint(a,o+4)},readASCII:function(a,o,c){for(var h="",d=0;d<c;d++)h+=String.fromCharCode(a[o+d]);return h},readUnicode:function(a,o,c){for(var h="",d=0;d<c;d++){var g=a[o++]<<8|a[o++];h+=String.fromCharCode(g)}return h},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(a,o,c){var h=e._bin._tdec;return h&&o==0&&c==a.length?h.decode(a):e._bin.readASCII(a,o,c)},readBytes:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(a[o+d]);return h},readASCIIArray:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(String.fromCharCode(a[o+d]));return h},_view:function(a){return a._dataView||(a._dataView=a.buffer?new DataView(a.buffer,a.byteOffset,a.byteLength):new DataView(new Uint8Array(a).buffer))}},e._lctf={},e._lctf.parse=function(a,o,c,h,d){var g=e._bin,m={},y=o;g.readFixed(a,o),o+=4;var x=g.readUshort(a,o);o+=2;var S=g.readUshort(a,o);o+=2;var E=g.readUshort(a,o);return o+=2,m.scriptList=e._lctf.readScriptList(a,y+x),m.featureList=e._lctf.readFeatureList(a,y+S),m.lookupList=e._lctf.readLookupList(a,y+E,d),m},e._lctf.readLookupList=function(a,o,c){var h=e._bin,d=o,g=[],m=h.readUshort(a,o);o+=2;for(var y=0;y<m;y++){var x=h.readUshort(a,o);o+=2;var S=e._lctf.readLookupTable(a,d+x,c);g.push(S)}return g},e._lctf.readLookupTable=function(a,o,c){var h=e._bin,d=o,g={tabs:[]};g.ltype=h.readUshort(a,o),o+=2,g.flag=h.readUshort(a,o),o+=2;var m=h.readUshort(a,o);o+=2;for(var y=g.ltype,x=0;x<m;x++){var S=h.readUshort(a,o);o+=2;var E=c(a,y,d+S,g);g.tabs.push(E)}return g},e._lctf.numOfOnes=function(a){for(var o=0,c=0;c<32;c++)a>>>c&1&&o++;return o},e._lctf.readClassDef=function(a,o){var c=e._bin,h=[],d=c.readUshort(a,o);if(o+=2,d==1){var g=c.readUshort(a,o);o+=2;var m=c.readUshort(a,o);o+=2;for(var y=0;y<m;y++)h.push(g+y),h.push(g+y),h.push(c.readUshort(a,o)),o+=2}if(d==2){var x=c.readUshort(a,o);for(o+=2,y=0;y<x;y++)h.push(c.readUshort(a,o)),o+=2,h.push(c.readUshort(a,o)),o+=2,h.push(c.readUshort(a,o)),o+=2}return h},e._lctf.getInterval=function(a,o){for(var c=0;c<a.length;c+=3){var h=a[c],d=a[c+1];if(a[c+2],h<=o&&o<=d)return c}return-1},e._lctf.readCoverage=function(a,o){var c=e._bin,h={};h.fmt=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);return o+=2,h.fmt==1&&(h.tab=c.readUshorts(a,o,d)),h.fmt==2&&(h.tab=c.readUshorts(a,o,3*d)),h},e._lctf.coverageIndex=function(a,o){var c=a.tab;if(a.fmt==1)return c.indexOf(o);if(a.fmt==2){var h=e._lctf.getInterval(c,o);if(h!=-1)return c[h+2]+(o-c[h])}return-1},e._lctf.readFeatureList=function(a,o){var c=e._bin,h=o,d=[],g=c.readUshort(a,o);o+=2;for(var m=0;m<g;m++){var y=c.readASCII(a,o,4);o+=4;var x=c.readUshort(a,o);o+=2;var S=e._lctf.readFeatureTable(a,h+x);S.tag=y.trim(),d.push(S)}return d},e._lctf.readFeatureTable=function(a,o){var c=e._bin,h=o,d={},g=c.readUshort(a,o);o+=2,g>0&&(d.featureParams=h+g);var m=c.readUshort(a,o);o+=2,d.tab=[];for(var y=0;y<m;y++)d.tab.push(c.readUshort(a,o+2*y));return d},e._lctf.readScriptList=function(a,o){var c=e._bin,h=o,d={},g=c.readUshort(a,o);o+=2;for(var m=0;m<g;m++){var y=c.readASCII(a,o,4);o+=4;var x=c.readUshort(a,o);o+=2,d[y.trim()]=e._lctf.readScriptTable(a,h+x)}return d},e._lctf.readScriptTable=function(a,o){var c=e._bin,h=o,d={},g=c.readUshort(a,o);o+=2,g>0&&(d.default=e._lctf.readLangSysTable(a,h+g));var m=c.readUshort(a,o);o+=2;for(var y=0;y<m;y++){var x=c.readASCII(a,o,4);o+=4;var S=c.readUshort(a,o);o+=2,d[x.trim()]=e._lctf.readLangSysTable(a,h+S)}return d},e._lctf.readLangSysTable=function(a,o){var c=e._bin,h={};c.readUshort(a,o),o+=2,h.reqFeature=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);return o+=2,h.features=c.readUshorts(a,o,d),h},e.CFF={},e.CFF.parse=function(a,o,c){var h=e._bin;(a=new Uint8Array(a.buffer,o,c))[o=0],a[++o],a[++o],a[++o],o++;var d=[];o=e.CFF.readIndex(a,o,d);for(var g=[],m=0;m<d.length-1;m++)g.push(h.readASCII(a,o+d[m],d[m+1]-d[m]));o+=d[d.length-1];var y=[];o=e.CFF.readIndex(a,o,y);var x=[];for(m=0;m<y.length-1;m++)x.push(e.CFF.readDict(a,o+y[m],o+y[m+1]));o+=y[y.length-1];var S=x[0],E=[];o=e.CFF.readIndex(a,o,E);var P=[];for(m=0;m<E.length-1;m++)P.push(h.readASCII(a,o+E[m],E[m+1]-E[m]));if(o+=E[E.length-1],e.CFF.readSubrs(a,o,S),S.CharStrings){o=S.CharStrings,E=[],o=e.CFF.readIndex(a,o,E);var R=[];for(m=0;m<E.length-1;m++)R.push(h.readBytes(a,o+E[m],E[m+1]-E[m]));S.CharStrings=R}if(S.ROS){o=S.FDArray;var A=[];for(o=e.CFF.readIndex(a,o,A),S.FDArray=[],m=0;m<A.length-1;m++){var I=e.CFF.readDict(a,o+A[m],o+A[m+1]);e.CFF._readFDict(a,I,P),S.FDArray.push(I)}o+=A[A.length-1],o=S.FDSelect,S.FDSelect=[];var L=a[o];if(o++,L!=3)throw L;var F=h.readUshort(a,o);for(o+=2,m=0;m<F+1;m++)S.FDSelect.push(h.readUshort(a,o),a[o+2]),o+=3}return S.Encoding&&(S.Encoding=e.CFF.readEncoding(a,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=e.CFF.readCharset(a,S.charset,S.CharStrings.length)),e.CFF._readFDict(a,S,P),S},e.CFF._readFDict=function(a,o,c){var h;for(var d in o.Private&&(h=o.Private[1],o.Private=e.CFF.readDict(a,h,h+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(a,h+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(d)!=-1&&(o[d]=c[o[d]-426+35])},e.CFF.readSubrs=function(a,o,c){var h=e._bin,d=[];o=e.CFF.readIndex(a,o,d);var g,m=d.length;g=m<1240?107:m<33900?1131:32768,c.Bias=g,c.Subrs=[];for(var y=0;y<d.length-1;y++)c.Subrs.push(h.readBytes(a,o+d[y],d[y+1]-d[y]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(a,o){for(var c=0;c<a.charset.length;c++)if(a.charset[c]==o)return c;return-1},e.CFF.glyphBySE=function(a,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(a,e.CFF.tableSE[o])},e.CFF.readEncoding=function(a,o,c){e._bin;var h=[".notdef"],d=a[o];if(o++,d!=0)throw"error: unknown encoding format: "+d;var g=a[o];o++;for(var m=0;m<g;m++)h.push(a[o+m]);return h},e.CFF.readCharset=function(a,o,c){var h=e._bin,d=[".notdef"],g=a[o];if(o++,g==0)for(var m=0;m<c;m++){var y=h.readUshort(a,o);o+=2,d.push(y)}else{if(g!=1&&g!=2)throw"error: format: "+g;for(;d.length<c;){y=h.readUshort(a,o),o+=2;var x=0;for(g==1?(x=a[o],o++):(x=h.readUshort(a,o),o+=2),m=0;m<=x;m++)d.push(y),y++}}return d},e.CFF.readIndex=function(a,o,c){var h=e._bin,d=h.readUshort(a,o)+1,g=a[o+=2];if(o++,g==1)for(var m=0;m<d;m++)c.push(a[o+m]);else if(g==2)for(m=0;m<d;m++)c.push(h.readUshort(a,o+2*m));else if(g==3)for(m=0;m<d;m++)c.push(16777215&h.readUint(a,o+3*m-1));else if(d!=1)throw"unsupported offset size: "+g+", count: "+d;return(o+=d*g)-1},e.CFF.getCharString=function(a,o,c){var h=e._bin,d=a[o],g=a[o+1];a[o+2],a[o+3],a[o+4];var m=1,y=null,x=null;d<=20&&(y=d,m=1),d==12&&(y=100*d+g,m=2),21<=d&&d<=27&&(y=d,m=1),d==28&&(x=h.readShort(a,o+1),m=3),29<=d&&d<=31&&(y=d,m=1),32<=d&&d<=246&&(x=d-139,m=1),247<=d&&d<=250&&(x=256*(d-247)+g+108,m=2),251<=d&&d<=254&&(x=256*-(d-251)-g-108,m=2),d==255&&(x=h.readInt(a,o+1)/65535,m=5),c.val=x??"o"+y,c.size=m},e.CFF.readCharString=function(a,o,c){for(var h=o+c,d=e._bin,g=[];o<h;){var m=a[o],y=a[o+1];a[o+2],a[o+3],a[o+4];var x=1,S=null,E=null;m<=20&&(S=m,x=1),m==12&&(S=100*m+y,x=2),m!=19&&m!=20||(S=m,x=2),21<=m&&m<=27&&(S=m,x=1),m==28&&(E=d.readShort(a,o+1),x=3),29<=m&&m<=31&&(S=m,x=1),32<=m&&m<=246&&(E=m-139,x=1),247<=m&&m<=250&&(E=256*(m-247)+y+108,x=2),251<=m&&m<=254&&(E=256*-(m-251)-y-108,x=2),m==255&&(E=d.readInt(a,o+1)/65535,x=5),g.push(E??"o"+S),o+=x}return g},e.CFF.readDict=function(a,o,c){for(var h=e._bin,d={},g=[];o<c;){var m=a[o],y=a[o+1];a[o+2],a[o+3],a[o+4];var x=1,S=null,E=null;if(m==28&&(E=h.readShort(a,o+1),x=3),m==29&&(E=h.readInt(a,o+1),x=5),32<=m&&m<=246&&(E=m-139,x=1),247<=m&&m<=250&&(E=256*(m-247)+y+108,x=2),251<=m&&m<=254&&(E=256*-(m-251)-y-108,x=2),m==255)throw E=h.readInt(a,o+1)/65535,x=5,"unknown number";if(m==30){var P=[];for(x=1;;){var R=a[o+x];x++;var A=R>>4,I=15&R;if(A!=15&&P.push(A),I!=15&&P.push(I),I==15)break}for(var L="",F=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],D=0;D<P.length;D++)L+=F[P[D]];E=parseFloat(L)}m<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][m],x=1,m==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][y],x=2)),S!=null?(d[S]=g.length==1?g[0]:g,g=[]):g.push(E),o+=x}return d},e.cmap={},e.cmap.parse=function(a,o,c){a=new Uint8Array(a.buffer,o,c),o=0;var h=e._bin,d={};h.readUshort(a,o),o+=2;var g=h.readUshort(a,o);o+=2;var m=[];d.tables=[];for(var y=0;y<g;y++){var x=h.readUshort(a,o);o+=2;var S=h.readUshort(a,o);o+=2;var E=h.readUint(a,o);o+=4;var P="p"+x+"e"+S,R=m.indexOf(E);if(R==-1){var A;R=d.tables.length,m.push(E);var I=h.readUshort(a,E);I==0?A=e.cmap.parse0(a,E):I==4?A=e.cmap.parse4(a,E):I==6?A=e.cmap.parse6(a,E):I==12?A=e.cmap.parse12(a,E):console.debug("unknown format: "+I,x,S,E),d.tables.push(A)}if(d[P]!=null)throw"multiple tables for one platform+encoding";d[P]=R}return d},e.cmap.parse0=function(a,o){var c=e._bin,h={};h.format=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2,h.map=[];for(var g=0;g<d-6;g++)h.map.push(a[o+g]);return h},e.cmap.parse4=function(a,o){var c=e._bin,h=o,d={};d.format=c.readUshort(a,o),o+=2;var g=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2;var m=c.readUshort(a,o);o+=2;var y=m/2;d.searchRange=c.readUshort(a,o),o+=2,d.entrySelector=c.readUshort(a,o),o+=2,d.rangeShift=c.readUshort(a,o),o+=2,d.endCount=c.readUshorts(a,o,y),o+=2*y,o+=2,d.startCount=c.readUshorts(a,o,y),o+=2*y,d.idDelta=[];for(var x=0;x<y;x++)d.idDelta.push(c.readShort(a,o)),o+=2;for(d.idRangeOffset=c.readUshorts(a,o,y),o+=2*y,d.glyphIdArray=[];o<h+g;)d.glyphIdArray.push(c.readUshort(a,o)),o+=2;return d},e.cmap.parse6=function(a,o){var c=e._bin,h={};h.format=c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,h.firstCode=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2,h.glyphIdArray=[];for(var g=0;g<d;g++)h.glyphIdArray.push(c.readUshort(a,o)),o+=2;return h},e.cmap.parse12=function(a,o){var c=e._bin,h={};h.format=c.readUshort(a,o),o+=2,o+=2,c.readUint(a,o),o+=4,c.readUint(a,o),o+=4;var d=c.readUint(a,o);o+=4,h.groups=[];for(var g=0;g<d;g++){var m=o+12*g,y=c.readUint(a,m+0),x=c.readUint(a,m+4),S=c.readUint(a,m+8);h.groups.push([y,x,S])}return h},e.glyf={},e.glyf.parse=function(a,o,c,h){for(var d=[],g=0;g<h.maxp.numGlyphs;g++)d.push(null);return d},e.glyf._parseGlyf=function(a,o){var c=e._bin,h=a._data,d=e._tabOffset(h,"glyf",a._offset)+a.loca[o];if(a.loca[o]==a.loca[o+1])return null;var g={};if(g.noc=c.readShort(h,d),d+=2,g.xMin=c.readShort(h,d),d+=2,g.yMin=c.readShort(h,d),d+=2,g.xMax=c.readShort(h,d),d+=2,g.yMax=c.readShort(h,d),d+=2,g.xMin>=g.xMax||g.yMin>=g.yMax)return null;if(g.noc>0){g.endPts=[];for(var m=0;m<g.noc;m++)g.endPts.push(c.readUshort(h,d)),d+=2;var y=c.readUshort(h,d);if(d+=2,h.length-d<y)return null;g.instructions=c.readBytes(h,d,y),d+=y;var x=g.endPts[g.noc-1]+1;for(g.flags=[],m=0;m<x;m++){var S=h[d];if(d++,g.flags.push(S),(8&S)!=0){var E=h[d];d++;for(var P=0;P<E;P++)g.flags.push(S),m++}}for(g.xs=[],m=0;m<x;m++){var R=(2&g.flags[m])!=0,A=(16&g.flags[m])!=0;R?(g.xs.push(A?h[d]:-h[d]),d++):A?g.xs.push(0):(g.xs.push(c.readShort(h,d)),d+=2)}for(g.ys=[],m=0;m<x;m++)R=(4&g.flags[m])!=0,A=(32&g.flags[m])!=0,R?(g.ys.push(A?h[d]:-h[d]),d++):A?g.ys.push(0):(g.ys.push(c.readShort(h,d)),d+=2);var I=0,L=0;for(m=0;m<x;m++)I+=g.xs[m],L+=g.ys[m],g.xs[m]=I,g.ys[m]=L}else{var F;g.parts=[];do{F=c.readUshort(h,d),d+=2;var D={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(g.parts.push(D),D.glyphIndex=c.readUshort(h,d),d+=2,1&F){var G=c.readShort(h,d);d+=2;var j=c.readShort(h,d);d+=2}else G=c.readInt8(h,d),d++,j=c.readInt8(h,d),d++;2&F?(D.m.tx=G,D.m.ty=j):(D.p1=G,D.p2=j),8&F?(D.m.a=D.m.d=c.readF2dot14(h,d),d+=2):64&F?(D.m.a=c.readF2dot14(h,d),d+=2,D.m.d=c.readF2dot14(h,d),d+=2):128&F&&(D.m.a=c.readF2dot14(h,d),d+=2,D.m.b=c.readF2dot14(h,d),d+=2,D.m.c=c.readF2dot14(h,d),d+=2,D.m.d=c.readF2dot14(h,d),d+=2)}while(32&F);if(256&F){var W=c.readUshort(h,d);for(d+=2,g.instr=[],m=0;m<W;m++)g.instr.push(h[d]),d++}}return g},e.GDEF={},e.GDEF.parse=function(a,o,c,h){var d=o;o+=4;var g=e._bin.readUshort(a,o);return{glyphClassDef:g===0?null:e._lctf.readClassDef(a,d+g)}},e.GPOS={},e.GPOS.parse=function(a,o,c,h){return e._lctf.parse(a,o,c,h,e.GPOS.subt)},e.GPOS.subt=function(a,o,c,h){var d=e._bin,g=c,m={};if(m.fmt=d.readUshort(a,c),c+=2,o==1||o==2||o==3||o==7||o==8&&m.fmt<=2){var y=d.readUshort(a,c);c+=2,m.coverage=e._lctf.readCoverage(a,y+g)}if(o==1&&m.fmt==1){var x=d.readUshort(a,c);c+=2,x!=0&&(m.pos=e.GPOS.readValueRecord(a,c,x))}else if(o==2&&m.fmt>=1&&m.fmt<=2){x=d.readUshort(a,c),c+=2;var S=d.readUshort(a,c);c+=2;var E=e._lctf.numOfOnes(x),P=e._lctf.numOfOnes(S);if(m.fmt==1){m.pairsets=[];var R=d.readUshort(a,c);c+=2;for(var A=0;A<R;A++){var I=g+d.readUshort(a,c);c+=2;var L=d.readUshort(a,I);I+=2;for(var F=[],D=0;D<L;D++){var G=d.readUshort(a,I);I+=2,x!=0&&(V=e.GPOS.readValueRecord(a,I,x),I+=2*E),S!=0&&(fe=e.GPOS.readValueRecord(a,I,S),I+=2*P),F.push({gid2:G,val1:V,val2:fe})}m.pairsets.push(F)}}if(m.fmt==2){var j=d.readUshort(a,c);c+=2;var W=d.readUshort(a,c);c+=2;var X=d.readUshort(a,c);c+=2;var K=d.readUshort(a,c);for(c+=2,m.classDef1=e._lctf.readClassDef(a,g+j),m.classDef2=e._lctf.readClassDef(a,g+W),m.matrix=[],A=0;A<X;A++){var ie=[];for(D=0;D<K;D++){var V=null,fe=null;x!=0&&(V=e.GPOS.readValueRecord(a,c,x),c+=2*E),S!=0&&(fe=e.GPOS.readValueRecord(a,c,S),c+=2*P),ie.push({val1:V,val2:fe})}m.matrix.push(ie)}}}else if(o==4&&m.fmt==1)m.markCoverage=e._lctf.readCoverage(a,d.readUshort(a,c)+g),m.baseCoverage=e._lctf.readCoverage(a,d.readUshort(a,c+2)+g),m.markClassCount=d.readUshort(a,c+4),m.markArray=e.GPOS.readMarkArray(a,d.readUshort(a,c+6)+g),m.baseArray=e.GPOS.readBaseArray(a,d.readUshort(a,c+8)+g,m.markClassCount);else if(o==6&&m.fmt==1)m.mark1Coverage=e._lctf.readCoverage(a,d.readUshort(a,c)+g),m.mark2Coverage=e._lctf.readCoverage(a,d.readUshort(a,c+2)+g),m.markClassCount=d.readUshort(a,c+4),m.mark1Array=e.GPOS.readMarkArray(a,d.readUshort(a,c+6)+g),m.mark2Array=e.GPOS.readBaseArray(a,d.readUshort(a,c+8)+g,m.markClassCount);else{if(o==9&&m.fmt==1){var pe=d.readUshort(a,c);c+=2;var be=d.readUint(a,c);if(c+=4,h.ltype==9)h.ltype=pe;else if(h.ltype!=pe)throw"invalid extension substitution";return e.GPOS.subt(a,h.ltype,g+be)}console.debug("unsupported GPOS table LookupType",o,"format",m.fmt)}return m},e.GPOS.readValueRecord=function(a,o,c){var h=e._bin,d=[];return d.push(1&c?h.readShort(a,o):0),o+=1&c?2:0,d.push(2&c?h.readShort(a,o):0),o+=2&c?2:0,d.push(4&c?h.readShort(a,o):0),o+=4&c?2:0,d.push(8&c?h.readShort(a,o):0),o+=8&c?2:0,d},e.GPOS.readBaseArray=function(a,o,c){var h=e._bin,d=[],g=o,m=h.readUshort(a,o);o+=2;for(var y=0;y<m;y++){for(var x=[],S=0;S<c;S++)x.push(e.GPOS.readAnchorRecord(a,g+h.readUshort(a,o))),o+=2;d.push(x)}return d},e.GPOS.readMarkArray=function(a,o){var c=e._bin,h=[],d=o,g=c.readUshort(a,o);o+=2;for(var m=0;m<g;m++){var y=e.GPOS.readAnchorRecord(a,c.readUshort(a,o+2)+d);y.markClass=c.readUshort(a,o),h.push(y),o+=4}return h},e.GPOS.readAnchorRecord=function(a,o){var c=e._bin,h={};return h.fmt=c.readUshort(a,o),h.x=c.readShort(a,o+2),h.y=c.readShort(a,o+4),h},e.GSUB={},e.GSUB.parse=function(a,o,c,h){return e._lctf.parse(a,o,c,h,e.GSUB.subt)},e.GSUB.subt=function(a,o,c,h){var d=e._bin,g=c,m={};if(m.fmt=d.readUshort(a,c),c+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&m.fmt<=2||o==6&&m.fmt<=2){var y=d.readUshort(a,c);c+=2,m.coverage=e._lctf.readCoverage(a,g+y)}if(o==1&&m.fmt>=1&&m.fmt<=2){if(m.fmt==1)m.delta=d.readShort(a,c),c+=2;else if(m.fmt==2){var x=d.readUshort(a,c);c+=2,m.newg=d.readUshorts(a,c,x),c+=2*m.newg.length}}else if(o==2&&m.fmt==1){x=d.readUshort(a,c),c+=2,m.seqs=[];for(var S=0;S<x;S++){var E=d.readUshort(a,c)+g;c+=2;var P=d.readUshort(a,E);m.seqs.push(d.readUshorts(a,E+2,P))}}else if(o==4)for(m.vals=[],x=d.readUshort(a,c),c+=2,S=0;S<x;S++){var R=d.readUshort(a,c);c+=2,m.vals.push(e.GSUB.readLigatureSet(a,g+R))}else if(o==5&&m.fmt==2){if(m.fmt==2){var A=d.readUshort(a,c);c+=2,m.cDef=e._lctf.readClassDef(a,g+A),m.scset=[];var I=d.readUshort(a,c);for(c+=2,S=0;S<I;S++){var L=d.readUshort(a,c);c+=2,m.scset.push(L==0?null:e.GSUB.readSubClassSet(a,g+L))}}}else if(o==6&&m.fmt==3){if(m.fmt==3){for(S=0;S<3;S++){x=d.readUshort(a,c),c+=2;for(var F=[],D=0;D<x;D++)F.push(e._lctf.readCoverage(a,g+d.readUshort(a,c+2*D)));c+=2*x,S==0&&(m.backCvg=F),S==1&&(m.inptCvg=F),S==2&&(m.ahedCvg=F)}x=d.readUshort(a,c),c+=2,m.lookupRec=e.GSUB.readSubstLookupRecords(a,c,x)}}else{if(o==7&&m.fmt==1){var G=d.readUshort(a,c);c+=2;var j=d.readUint(a,c);if(c+=4,h.ltype==9)h.ltype=G;else if(h.ltype!=G)throw"invalid extension substitution";return e.GSUB.subt(a,h.ltype,g+j)}console.debug("unsupported GSUB table LookupType",o,"format",m.fmt)}return m},e.GSUB.readSubClassSet=function(a,o){var c=e._bin.readUshort,h=o,d=[],g=c(a,o);o+=2;for(var m=0;m<g;m++){var y=c(a,o);o+=2,d.push(e.GSUB.readSubClassRule(a,h+y))}return d},e.GSUB.readSubClassRule=function(a,o){var c=e._bin.readUshort,h={},d=c(a,o),g=c(a,o+=2);o+=2,h.input=[];for(var m=0;m<d-1;m++)h.input.push(c(a,o)),o+=2;return h.substLookupRecords=e.GSUB.readSubstLookupRecords(a,o,g),h},e.GSUB.readSubstLookupRecords=function(a,o,c){for(var h=e._bin.readUshort,d=[],g=0;g<c;g++)d.push(h(a,o),h(a,o+2)),o+=4;return d},e.GSUB.readChainSubClassSet=function(a,o){var c=e._bin,h=o,d=[],g=c.readUshort(a,o);o+=2;for(var m=0;m<g;m++){var y=c.readUshort(a,o);o+=2,d.push(e.GSUB.readChainSubClassRule(a,h+y))}return d},e.GSUB.readChainSubClassRule=function(a,o){for(var c=e._bin,h={},d=["backtrack","input","lookahead"],g=0;g<d.length;g++){var m=c.readUshort(a,o);o+=2,g==1&&m--,h[d[g]]=c.readUshorts(a,o,m),o+=2*h[d[g]].length}return m=c.readUshort(a,o),o+=2,h.subst=c.readUshorts(a,o,2*m),o+=2*h.subst.length,h},e.GSUB.readLigatureSet=function(a,o){var c=e._bin,h=o,d=[],g=c.readUshort(a,o);o+=2;for(var m=0;m<g;m++){var y=c.readUshort(a,o);o+=2,d.push(e.GSUB.readLigature(a,h+y))}return d},e.GSUB.readLigature=function(a,o){var c=e._bin,h={chain:[]};h.nglyph=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2;for(var g=0;g<d-1;g++)h.chain.push(c.readUshort(a,o)),o+=2;return h},e.head={},e.head.parse=function(a,o,c){var h=e._bin,d={};return h.readFixed(a,o),o+=4,d.fontRevision=h.readFixed(a,o),o+=4,h.readUint(a,o),o+=4,h.readUint(a,o),o+=4,d.flags=h.readUshort(a,o),o+=2,d.unitsPerEm=h.readUshort(a,o),o+=2,d.created=h.readUint64(a,o),o+=8,d.modified=h.readUint64(a,o),o+=8,d.xMin=h.readShort(a,o),o+=2,d.yMin=h.readShort(a,o),o+=2,d.xMax=h.readShort(a,o),o+=2,d.yMax=h.readShort(a,o),o+=2,d.macStyle=h.readUshort(a,o),o+=2,d.lowestRecPPEM=h.readUshort(a,o),o+=2,d.fontDirectionHint=h.readShort(a,o),o+=2,d.indexToLocFormat=h.readShort(a,o),o+=2,d.glyphDataFormat=h.readShort(a,o),o+=2,d},e.hhea={},e.hhea.parse=function(a,o,c){var h=e._bin,d={};return h.readFixed(a,o),o+=4,d.ascender=h.readShort(a,o),o+=2,d.descender=h.readShort(a,o),o+=2,d.lineGap=h.readShort(a,o),o+=2,d.advanceWidthMax=h.readUshort(a,o),o+=2,d.minLeftSideBearing=h.readShort(a,o),o+=2,d.minRightSideBearing=h.readShort(a,o),o+=2,d.xMaxExtent=h.readShort(a,o),o+=2,d.caretSlopeRise=h.readShort(a,o),o+=2,d.caretSlopeRun=h.readShort(a,o),o+=2,d.caretOffset=h.readShort(a,o),o+=2,o+=8,d.metricDataFormat=h.readShort(a,o),o+=2,d.numberOfHMetrics=h.readUshort(a,o),o+=2,d},e.hmtx={},e.hmtx.parse=function(a,o,c,h){for(var d=e._bin,g={aWidth:[],lsBearing:[]},m=0,y=0,x=0;x<h.maxp.numGlyphs;x++)x<h.hhea.numberOfHMetrics&&(m=d.readUshort(a,o),o+=2,y=d.readShort(a,o),o+=2),g.aWidth.push(m),g.lsBearing.push(y);return g},e.kern={},e.kern.parse=function(a,o,c,h){var d=e._bin,g=d.readUshort(a,o);if(o+=2,g==1)return e.kern.parseV1(a,o-2,c,h);var m=d.readUshort(a,o);o+=2;for(var y={glyph1:[],rval:[]},x=0;x<m;x++){o+=2,c=d.readUshort(a,o),o+=2;var S=d.readUshort(a,o);o+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;o=e.kern.readFormat0(a,o,y)}return y},e.kern.parseV1=function(a,o,c,h){var d=e._bin;d.readFixed(a,o),o+=4;var g=d.readUint(a,o);o+=4;for(var m={glyph1:[],rval:[]},y=0;y<g;y++){d.readUint(a,o),o+=4;var x=d.readUshort(a,o);o+=2,d.readUshort(a,o),o+=2;var S=x>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;o=e.kern.readFormat0(a,o,m)}return m},e.kern.readFormat0=function(a,o,c){var h=e._bin,d=-1,g=h.readUshort(a,o);o+=2,h.readUshort(a,o),o+=2,h.readUshort(a,o),o+=2,h.readUshort(a,o),o+=2;for(var m=0;m<g;m++){var y=h.readUshort(a,o);o+=2;var x=h.readUshort(a,o);o+=2;var S=h.readShort(a,o);o+=2,y!=d&&(c.glyph1.push(y),c.rval.push({glyph2:[],vals:[]}));var E=c.rval[c.rval.length-1];E.glyph2.push(x),E.vals.push(S),d=y}return o},e.loca={},e.loca.parse=function(a,o,c,h){var d=e._bin,g=[],m=h.head.indexToLocFormat,y=h.maxp.numGlyphs+1;if(m==0)for(var x=0;x<y;x++)g.push(d.readUshort(a,o+(x<<1))<<1);if(m==1)for(x=0;x<y;x++)g.push(d.readUint(a,o+(x<<2)));return g},e.maxp={},e.maxp.parse=function(a,o,c){var h=e._bin,d={},g=h.readUint(a,o);return o+=4,d.numGlyphs=h.readUshort(a,o),o+=2,g==65536&&(d.maxPoints=h.readUshort(a,o),o+=2,d.maxContours=h.readUshort(a,o),o+=2,d.maxCompositePoints=h.readUshort(a,o),o+=2,d.maxCompositeContours=h.readUshort(a,o),o+=2,d.maxZones=h.readUshort(a,o),o+=2,d.maxTwilightPoints=h.readUshort(a,o),o+=2,d.maxStorage=h.readUshort(a,o),o+=2,d.maxFunctionDefs=h.readUshort(a,o),o+=2,d.maxInstructionDefs=h.readUshort(a,o),o+=2,d.maxStackElements=h.readUshort(a,o),o+=2,d.maxSizeOfInstructions=h.readUshort(a,o),o+=2,d.maxComponentElements=h.readUshort(a,o),o+=2,d.maxComponentDepth=h.readUshort(a,o),o+=2),d},e.name={},e.name.parse=function(a,o,c){var h=e._bin,d={};h.readUshort(a,o),o+=2;var g=h.readUshort(a,o);o+=2,h.readUshort(a,o);for(var m,y=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],x=o+=2,S=0;S<g;S++){var E=h.readUshort(a,o);o+=2;var P=h.readUshort(a,o);o+=2;var R=h.readUshort(a,o);o+=2;var A=h.readUshort(a,o);o+=2;var I=h.readUshort(a,o);o+=2;var L=h.readUshort(a,o);o+=2;var F,D=y[A],G=x+12*g+L;if(E==0)F=h.readUnicode(a,G,I/2);else if(E==3&&P==0)F=h.readUnicode(a,G,I/2);else if(P==0)F=h.readASCII(a,G,I);else if(P==1)F=h.readUnicode(a,G,I/2);else if(P==3)F=h.readUnicode(a,G,I/2);else{if(E!=1)throw"unknown encoding "+P+", platformID: "+E;F=h.readASCII(a,G,I),console.debug("reading unknown MAC encoding "+P+" as ASCII")}var j="p"+E+","+R.toString(16);d[j]==null&&(d[j]={}),d[j][D!==void 0?D:A]=F,d[j]._lang=R}for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==1033)return d[W];for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==0)return d[W];for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==3084)return d[W];for(var W in d)if(d[W].postScriptName!=null)return d[W];for(var W in d){m=W;break}return console.debug("returning name table with languageID "+d[m]._lang),d[m]},e["OS/2"]={},e["OS/2"].parse=function(a,o,c){var h=e._bin.readUshort(a,o);o+=2;var d={};if(h==0)e["OS/2"].version0(a,o,d);else if(h==1)e["OS/2"].version1(a,o,d);else if(h==2||h==3||h==4)e["OS/2"].version2(a,o,d);else{if(h!=5)throw"unknown OS/2 table version: "+h;e["OS/2"].version5(a,o,d)}return d},e["OS/2"].version0=function(a,o,c){var h=e._bin;return c.xAvgCharWidth=h.readShort(a,o),o+=2,c.usWeightClass=h.readUshort(a,o),o+=2,c.usWidthClass=h.readUshort(a,o),o+=2,c.fsType=h.readUshort(a,o),o+=2,c.ySubscriptXSize=h.readShort(a,o),o+=2,c.ySubscriptYSize=h.readShort(a,o),o+=2,c.ySubscriptXOffset=h.readShort(a,o),o+=2,c.ySubscriptYOffset=h.readShort(a,o),o+=2,c.ySuperscriptXSize=h.readShort(a,o),o+=2,c.ySuperscriptYSize=h.readShort(a,o),o+=2,c.ySuperscriptXOffset=h.readShort(a,o),o+=2,c.ySuperscriptYOffset=h.readShort(a,o),o+=2,c.yStrikeoutSize=h.readShort(a,o),o+=2,c.yStrikeoutPosition=h.readShort(a,o),o+=2,c.sFamilyClass=h.readShort(a,o),o+=2,c.panose=h.readBytes(a,o,10),o+=10,c.ulUnicodeRange1=h.readUint(a,o),o+=4,c.ulUnicodeRange2=h.readUint(a,o),o+=4,c.ulUnicodeRange3=h.readUint(a,o),o+=4,c.ulUnicodeRange4=h.readUint(a,o),o+=4,c.achVendID=[h.readInt8(a,o),h.readInt8(a,o+1),h.readInt8(a,o+2),h.readInt8(a,o+3)],o+=4,c.fsSelection=h.readUshort(a,o),o+=2,c.usFirstCharIndex=h.readUshort(a,o),o+=2,c.usLastCharIndex=h.readUshort(a,o),o+=2,c.sTypoAscender=h.readShort(a,o),o+=2,c.sTypoDescender=h.readShort(a,o),o+=2,c.sTypoLineGap=h.readShort(a,o),o+=2,c.usWinAscent=h.readUshort(a,o),o+=2,c.usWinDescent=h.readUshort(a,o),o+=2},e["OS/2"].version1=function(a,o,c){var h=e._bin;return o=e["OS/2"].version0(a,o,c),c.ulCodePageRange1=h.readUint(a,o),o+=4,c.ulCodePageRange2=h.readUint(a,o),o+=4},e["OS/2"].version2=function(a,o,c){var h=e._bin;return o=e["OS/2"].version1(a,o,c),c.sxHeight=h.readShort(a,o),o+=2,c.sCapHeight=h.readShort(a,o),o+=2,c.usDefault=h.readUshort(a,o),o+=2,c.usBreak=h.readUshort(a,o),o+=2,c.usMaxContext=h.readUshort(a,o),o+=2},e["OS/2"].version5=function(a,o,c){var h=e._bin;return o=e["OS/2"].version2(a,o,c),c.usLowerOpticalPointSize=h.readUshort(a,o),o+=2,c.usUpperOpticalPointSize=h.readUshort(a,o),o+=2},e.post={},e.post.parse=function(a,o,c){var h=e._bin,d={};return d.version=h.readFixed(a,o),o+=4,d.italicAngle=h.readFixed(a,o),o+=4,d.underlinePosition=h.readShort(a,o),o+=2,d.underlineThickness=h.readShort(a,o),o+=2,d},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(a,o){var c=a.cmap,h=-1;if(c.p0e4!=null?h=c.p0e4:c.p3e1!=null?h=c.p3e1:c.p1e0!=null?h=c.p1e0:c.p0e3!=null&&(h=c.p0e3),h==-1)throw"no familiar platform and encoding!";var d=c.tables[h];if(d.format==0)return o>=d.map.length?0:d.map[o];if(d.format==4){for(var g=-1,m=0;m<d.endCount.length;m++)if(o<=d.endCount[m]){g=m;break}return g==-1||d.startCount[g]>o?0:65535&(d.idRangeOffset[g]!=0?d.glyphIdArray[o-d.startCount[g]+(d.idRangeOffset[g]>>1)-(d.idRangeOffset.length-g)]:o+d.idDelta[g])}if(d.format==12){if(o>d.groups[d.groups.length-1][1])return 0;for(m=0;m<d.groups.length;m++){var y=d.groups[m];if(y[0]<=o&&o<=y[1])return y[2]+(o-y[0])}return 0}throw"unknown cmap table format "+d.format},e.U.glyphToPath=function(a,o){var c={cmds:[],crds:[]};if(a.SVG&&a.SVG.entries[o]){var h=a.SVG.entries[o];return h==null?c:(typeof h=="string"&&(h=e.SVG.toPath(h),a.SVG.entries[o]=h),h)}if(a.CFF){var d={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:a.CFF.Private?a.CFF.Private.defaultWidthX:0,open:!1},g=a.CFF,m=a.CFF.Private;if(g.ROS){for(var y=0;g.FDSelect[y+2]<=o;)y+=2;m=g.FDArray[g.FDSelect[y+1]].Private}e.U._drawCFF(a.CFF.CharStrings[o],d,g,m,c)}else a.glyf&&e.U._drawGlyf(o,a,c);return c},e.U._drawGlyf=function(a,o,c){var h=o.glyf[a];h==null&&(h=o.glyf[a]=e.glyf._parseGlyf(o,a)),h!=null&&(h.noc>-1?e.U._simpleGlyph(h,c):e.U._compoGlyph(h,o,c))},e.U._simpleGlyph=function(a,o){for(var c=0;c<a.noc;c++){for(var h=c==0?0:a.endPts[c-1]+1,d=a.endPts[c],g=h;g<=d;g++){var m=g==h?d:g-1,y=g==d?h:g+1,x=1&a.flags[g],S=1&a.flags[m],E=1&a.flags[y],P=a.xs[g],R=a.ys[g];if(g==h)if(x){if(!S){e.U.P.moveTo(o,P,R);continue}e.U.P.moveTo(o,a.xs[m],a.ys[m])}else S?e.U.P.moveTo(o,a.xs[m],a.ys[m]):e.U.P.moveTo(o,(a.xs[m]+P)/2,(a.ys[m]+R)/2);x?S&&e.U.P.lineTo(o,P,R):E?e.U.P.qcurveTo(o,P,R,a.xs[y],a.ys[y]):e.U.P.qcurveTo(o,P,R,(P+a.xs[y])/2,(R+a.ys[y])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(a,o,c){for(var h=0;h<a.parts.length;h++){var d={cmds:[],crds:[]},g=a.parts[h];e.U._drawGlyf(g.glyphIndex,o,d);for(var m=g.m,y=0;y<d.crds.length;y+=2){var x=d.crds[y],S=d.crds[y+1];c.crds.push(x*m.a+S*m.b+m.tx),c.crds.push(x*m.c+S*m.d+m.ty)}for(y=0;y<d.cmds.length;y++)c.cmds.push(d.cmds[y])}},e.U._getGlyphClass=function(a,o){var c=e._lctf.getInterval(o,a);return c==-1?0:o[c+2]},e.U._applySubs=function(a,o,c,h){for(var d=a.length-o-1,g=0;g<c.tabs.length;g++)if(c.tabs[g]!=null){var m,y=c.tabs[g];if(!y.coverage||(m=e._lctf.coverageIndex(y.coverage,a[o]))!=-1){if(c.ltype==1)a[o],y.fmt==1?a[o]=a[o]+y.delta:a[o]=y.newg[m];else if(c.ltype==4)for(var x=y.vals[m],S=0;S<x.length;S++){var E=x[S],P=E.chain.length;if(!(P>d)){for(var R=!0,A=0,I=0;I<P;I++){for(;a[o+A+(1+I)]==-1;)A++;E.chain[I]!=a[o+A+(1+I)]&&(R=!1)}if(R){for(a[o]=E.nglyph,I=0;I<P+A;I++)a[o+I+1]=-1;break}}}else if(c.ltype==5&&y.fmt==2)for(var L=e._lctf.getInterval(y.cDef,a[o]),F=y.cDef[L+2],D=y.scset[F],G=0;G<D.length;G++){var j=D[G],W=j.input;if(!(W.length>d)){for(R=!0,I=0;I<W.length;I++){var X=e._lctf.getInterval(y.cDef,a[o+1+I]);if(L==-1&&y.cDef[X+2]!=W[I]){R=!1;break}}if(R){var K=j.substLookupRecords;for(S=0;S<K.length;S+=2)K[S],K[S+1]}}}else if(c.ltype==6&&y.fmt==3){if(!e.U._glsCovered(a,y.backCvg,o-y.backCvg.length)||!e.U._glsCovered(a,y.inptCvg,o)||!e.U._glsCovered(a,y.ahedCvg,o+y.inptCvg.length))continue;var ie=y.lookupRec;for(G=0;G<ie.length;G+=2){L=ie[G];var V=h[ie[G+1]];e.U._applySubs(a,o+L,V,h)}}}}},e.U._glsCovered=function(a,o,c){for(var h=0;h<o.length;h++)if(e._lctf.coverageIndex(o[h],a[c+h])==-1)return!1;return!0},e.U.glyphsToPath=function(a,o,c){for(var h={cmds:[],crds:[]},d=0,g=0;g<o.length;g++){var m=o[g];if(m!=-1){for(var y=g<o.length-1&&o[g+1]!=-1?o[g+1]:0,x=e.U.glyphToPath(a,m),S=0;S<x.crds.length;S+=2)h.crds.push(x.crds[S]+d),h.crds.push(x.crds[S+1]);for(c&&h.cmds.push(c),S=0;S<x.cmds.length;S++)h.cmds.push(x.cmds[S]);c&&h.cmds.push("X"),d+=a.hmtx.aWidth[m],g<o.length-1&&(d+=e.U.getPairAdjustment(a,m,y))}}return h},e.U.P={},e.U.P.moveTo=function(a,o,c){a.cmds.push("M"),a.crds.push(o,c)},e.U.P.lineTo=function(a,o,c){a.cmds.push("L"),a.crds.push(o,c)},e.U.P.curveTo=function(a,o,c,h,d,g,m){a.cmds.push("C"),a.crds.push(o,c,h,d,g,m)},e.U.P.qcurveTo=function(a,o,c,h,d){a.cmds.push("Q"),a.crds.push(o,c,h,d)},e.U.P.closePath=function(a){a.cmds.push("Z")},e.U._drawCFF=function(a,o,c,h,d){for(var g=o.stack,m=o.nStems,y=o.haveWidth,x=o.width,S=o.open,E=0,P=o.x,R=o.y,A=0,I=0,L=0,F=0,D=0,G=0,j=0,W=0,X=0,K=0,ie={val:0,size:0};E<a.length;){e.CFF.getCharString(a,E,ie);var V=ie.val;if(E+=ie.size,V=="o1"||V=="o18")g.length%2!=0&&!y&&(x=g.shift()+h.nominalWidthX),m+=g.length>>1,g.length=0,y=!0;else if(V=="o3"||V=="o23")g.length%2!=0&&!y&&(x=g.shift()+h.nominalWidthX),m+=g.length>>1,g.length=0,y=!0;else if(V=="o4")g.length>1&&!y&&(x=g.shift()+h.nominalWidthX,y=!0),S&&e.U.P.closePath(d),R+=g.pop(),e.U.P.moveTo(d,P,R),S=!0;else if(V=="o5")for(;g.length>0;)P+=g.shift(),R+=g.shift(),e.U.P.lineTo(d,P,R);else if(V=="o6"||V=="o7")for(var fe=g.length,pe=V=="o6",be=0;be<fe;be++){var le=g.shift();pe?P+=le:R+=le,pe=!pe,e.U.P.lineTo(d,P,R)}else if(V=="o8"||V=="o24"){fe=g.length;for(var Te=0;Te+6<=fe;)A=P+g.shift(),I=R+g.shift(),L=A+g.shift(),F=I+g.shift(),P=L+g.shift(),R=F+g.shift(),e.U.P.curveTo(d,A,I,L,F,P,R),Te+=6;V=="o24"&&(P+=g.shift(),R+=g.shift(),e.U.P.lineTo(d,P,R))}else{if(V=="o11")break;if(V=="o1234"||V=="o1235"||V=="o1236"||V=="o1237")V=="o1234"&&(I=R,L=(A=P+g.shift())+g.shift(),K=F=I+g.shift(),G=F,W=R,P=(j=(D=(X=L+g.shift())+g.shift())+g.shift())+g.shift(),e.U.P.curveTo(d,A,I,L,F,X,K),e.U.P.curveTo(d,D,G,j,W,P,R)),V=="o1235"&&(A=P+g.shift(),I=R+g.shift(),L=A+g.shift(),F=I+g.shift(),X=L+g.shift(),K=F+g.shift(),D=X+g.shift(),G=K+g.shift(),j=D+g.shift(),W=G+g.shift(),P=j+g.shift(),R=W+g.shift(),g.shift(),e.U.P.curveTo(d,A,I,L,F,X,K),e.U.P.curveTo(d,D,G,j,W,P,R)),V=="o1236"&&(A=P+g.shift(),I=R+g.shift(),L=A+g.shift(),K=F=I+g.shift(),G=F,j=(D=(X=L+g.shift())+g.shift())+g.shift(),W=G+g.shift(),P=j+g.shift(),e.U.P.curveTo(d,A,I,L,F,X,K),e.U.P.curveTo(d,D,G,j,W,P,R)),V=="o1237"&&(A=P+g.shift(),I=R+g.shift(),L=A+g.shift(),F=I+g.shift(),X=L+g.shift(),K=F+g.shift(),D=X+g.shift(),G=K+g.shift(),j=D+g.shift(),W=G+g.shift(),Math.abs(j-P)>Math.abs(W-R)?P=j+g.shift():R=W+g.shift(),e.U.P.curveTo(d,A,I,L,F,X,K),e.U.P.curveTo(d,D,G,j,W,P,R));else if(V=="o14"){if(g.length>0&&!y&&(x=g.shift()+c.nominalWidthX,y=!0),g.length==4){var Y=g.shift(),Q=g.shift(),J=g.shift(),B=g.shift(),Z=e.CFF.glyphBySE(c,J),ee=e.CFF.glyphBySE(c,B);e.U._drawCFF(c.CharStrings[Z],o,c,h,d),o.x=Y,o.y=Q,e.U._drawCFF(c.CharStrings[ee],o,c,h,d)}S&&(e.U.P.closePath(d),S=!1)}else if(V=="o19"||V=="o20")g.length%2!=0&&!y&&(x=g.shift()+h.nominalWidthX),m+=g.length>>1,g.length=0,y=!0,E+=m+7>>3;else if(V=="o21")g.length>2&&!y&&(x=g.shift()+h.nominalWidthX,y=!0),R+=g.pop(),P+=g.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,P,R),S=!0;else if(V=="o22")g.length>1&&!y&&(x=g.shift()+h.nominalWidthX,y=!0),P+=g.pop(),S&&e.U.P.closePath(d),e.U.P.moveTo(d,P,R),S=!0;else if(V=="o25"){for(;g.length>6;)P+=g.shift(),R+=g.shift(),e.U.P.lineTo(d,P,R);A=P+g.shift(),I=R+g.shift(),L=A+g.shift(),F=I+g.shift(),P=L+g.shift(),R=F+g.shift(),e.U.P.curveTo(d,A,I,L,F,P,R)}else if(V=="o26")for(g.length%2&&(P+=g.shift());g.length>0;)A=P,I=R+g.shift(),P=L=A+g.shift(),R=(F=I+g.shift())+g.shift(),e.U.P.curveTo(d,A,I,L,F,P,R);else if(V=="o27")for(g.length%2&&(R+=g.shift());g.length>0;)I=R,L=(A=P+g.shift())+g.shift(),F=I+g.shift(),P=L+g.shift(),R=F,e.U.P.curveTo(d,A,I,L,F,P,R);else if(V=="o10"||V=="o29"){var se=V=="o10"?h:c;if(g.length==0)console.debug("error: empty stack");else{var $=g.pop(),ae=se.Subrs[$+se.Bias];o.x=P,o.y=R,o.nStems=m,o.haveWidth=y,o.width=x,o.open=S,e.U._drawCFF(ae,o,c,h,d),P=o.x,R=o.y,m=o.nStems,y=o.haveWidth,x=o.width,S=o.open}}else if(V=="o30"||V=="o31"){var ce=g.length,_e=(Te=0,V=="o31");for(Te+=ce-(fe=-3&ce);Te<fe;)_e?(I=R,L=(A=P+g.shift())+g.shift(),R=(F=I+g.shift())+g.shift(),fe-Te==5?(P=L+g.shift(),Te++):P=L,_e=!1):(A=P,I=R+g.shift(),L=A+g.shift(),F=I+g.shift(),P=L+g.shift(),fe-Te==5?(R=F+g.shift(),Te++):R=F,_e=!0),e.U.P.curveTo(d,A,I,L,F,P,R),Te+=4}else{if((V+"").charAt(0)=="o")throw console.debug("Unknown operation: "+V,a),V;g.push(V)}}}o.x=P,o.y=R,o.nStems=m,o.haveWidth=y,o.width=x,o.open=S};var l=e,u={Typr:l};return t.Typr=l,t.default=u,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function cE(){return function(t){var e=Uint8Array,l=Uint16Array,u=Uint32Array,a=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(V,fe){for(var pe=new l(31),be=0;be<31;++be)pe[be]=fe+=1<<V[be-1];var le=new u(pe[30]);for(be=1;be<30;++be)for(var Te=pe[be];Te<pe[be+1];++Te)le[Te]=Te-pe[be]<<5|be;return[pe,le]},d=h(a,2),g=d[0],m=d[1];g[28]=258,m[258]=28;for(var y=h(o,0)[0],x=new l(32768),S=0;S<32768;++S){var E=(43690&S)>>>1|(21845&S)<<1;E=(61680&(E=(52428&E)>>>2|(13107&E)<<2))>>>4|(3855&E)<<4,x[S]=((65280&E)>>>8|(255&E)<<8)>>>1}var P=function(V,fe,pe){for(var be=V.length,le=0,Te=new l(fe);le<be;++le)++Te[V[le]-1];var Y,Q=new l(fe);for(le=0;le<fe;++le)Q[le]=Q[le-1]+Te[le-1]<<1;{Y=new l(1<<fe);var J=15-fe;for(le=0;le<be;++le)if(V[le])for(var B=le<<4|V[le],Z=fe-V[le],ee=Q[V[le]-1]++<<Z,se=ee|(1<<Z)-1;ee<=se;++ee)Y[x[ee]>>>J]=B}return Y},R=new e(288);for(S=0;S<144;++S)R[S]=8;for(S=144;S<256;++S)R[S]=9;for(S=256;S<280;++S)R[S]=7;for(S=280;S<288;++S)R[S]=8;var A=new e(32);for(S=0;S<32;++S)A[S]=5;var I=P(R,9),L=P(A,5),F=function(V){for(var fe=V[0],pe=1;pe<V.length;++pe)V[pe]>fe&&(fe=V[pe]);return fe},D=function(V,fe,pe){var be=fe/8|0;return(V[be]|V[be+1]<<8)>>(7&fe)&pe},G=function(V,fe){var pe=fe/8|0;return(V[pe]|V[pe+1]<<8|V[pe+2]<<16)>>(7&fe)},j=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],W=function(V,fe,pe){var be=new Error(fe||j[V]);if(be.code=V,Error.captureStackTrace&&Error.captureStackTrace(be,W),!pe)throw be;return be},X=function(V,fe,pe){var be=V.length;if(!be||pe&&!pe.l&&be<5)return fe||new e(0);var le=!fe||pe,Te=!pe||pe.i;pe||(pe={}),fe||(fe=new e(3*be));var Y,Q=function(ct){var oe=fe.length;if(ct>oe){var Re=new e(Math.max(2*oe,ct));Re.set(fe),fe=Re}},J=pe.f||0,B=pe.p||0,Z=pe.b||0,ee=pe.l,se=pe.d,$=pe.m,ae=pe.n,ce=8*be;do{if(!ee){pe.f=J=D(V,B,1);var _e=D(V,B+1,3);if(B+=3,!_e){var Oe=V[(He=((Y=B)/8|0)+(7&Y&&1)+4)-4]|V[He-3]<<8,Be=He+Oe;if(Be>be){Te&&W(0);break}le&&Q(Z+Oe),fe.set(V.subarray(He,Be),Z),pe.b=Z+=Oe,pe.p=B=8*Be;continue}if(_e==1)ee=I,se=L,$=9,ae=5;else if(_e==2){var Pe=D(V,B,31)+257,Ce=D(V,B+10,15)+4,ht=Pe+D(V,B+5,31)+1;B+=14;for(var ot=new e(ht),Ve=new e(19),st=0;st<Ce;++st)Ve[c[st]]=D(V,B+3*st,7);B+=3*Ce;var et=F(Ve),Me=(1<<et)-1,lt=P(Ve,et);for(st=0;st<ht;){var He,Ee=lt[D(V,B,Me)];if(B+=15&Ee,(He=Ee>>>4)<16)ot[st++]=He;else{var xt=0,je=0;for(He==16?(je=3+D(V,B,3),B+=2,xt=ot[st-1]):He==17?(je=3+D(V,B,7),B+=3):He==18&&(je=11+D(V,B,127),B+=7);je--;)ot[st++]=xt}}var Qe=ot.subarray(0,Pe),ze=ot.subarray(Pe);$=F(Qe),ae=F(ze),ee=P(Qe,$),se=P(ze,ae)}else W(1);if(B>ce){Te&&W(0);break}}le&&Q(Z+131072);for(var Zt=(1<<$)-1,tt=(1<<ae)-1,nt=B;;nt=B){var gt=(xt=ee[G(V,B)&Zt])>>>4;if((B+=15&xt)>ce){Te&&W(0);break}if(xt||W(2),gt<256)fe[Z++]=gt;else{if(gt==256){nt=B,ee=null;break}var Ct=gt-254;if(gt>264){var en=a[st=gt-257];Ct=D(V,B,(1<<en)-1)+g[st],B+=en}var un=se[G(V,B)&tt],It=un>>>4;if(un||W(3),B+=15&un,ze=y[It],It>3&&(en=o[It],ze+=G(V,B)&(1<<en)-1,B+=en),B>ce){Te&&W(0);break}le&&Q(Z+131072);for(var Ot=Z+Ct;Z<Ot;Z+=4)fe[Z]=fe[Z-ze],fe[Z+1]=fe[Z+1-ze],fe[Z+2]=fe[Z+2-ze],fe[Z+3]=fe[Z+3-ze];Z=Ot}}pe.l=ee,pe.p=nt,pe.b=Z,ee&&(J=1,pe.m=$,pe.d=se,pe.n=ae)}while(!J);return Z==fe.length?fe:function(ct,oe,Re){(Re==null||Re>ct.length)&&(Re=ct.length);var rt=new(ct instanceof l?l:ct instanceof u?u:e)(Re-oe);return rt.set(ct.subarray(oe,Re)),rt}(fe,0,Z)},K=new e(0),ie=typeof TextDecoder<"u"&&new TextDecoder;try{ie.decode(K,{stream:!0})}catch{}return t.convert_streams=function(V){var fe=new DataView(V),pe=0;function be(){var Pe=fe.getUint16(pe);return pe+=2,Pe}function le(){var Pe=fe.getUint32(pe);return pe+=4,Pe}function Te(Pe){Oe.setUint16(Be,Pe),Be+=2}function Y(Pe){Oe.setUint32(Be,Pe),Be+=4}for(var Q={signature:le(),flavor:le(),length:le(),numTables:be(),reserved:be(),totalSfntSize:le(),majorVersion:be(),minorVersion:be(),metaOffset:le(),metaLength:le(),metaOrigLength:le(),privOffset:le(),privLength:le()},J=0;Math.pow(2,J)<=Q.numTables;)J++;J--;for(var B=16*Math.pow(2,J),Z=16*Q.numTables-B,ee=12,se=[],$=0;$<Q.numTables;$++)se.push({tag:le(),offset:le(),compLength:le(),origLength:le(),origChecksum:le()}),ee+=16;var ae,ce=new Uint8Array(12+16*se.length+se.reduce(function(Pe,Ce){return Pe+Ce.origLength+4},0)),_e=ce.buffer,Oe=new DataView(_e),Be=0;return Y(Q.flavor),Te(Q.numTables),Te(B),Te(J),Te(Z),se.forEach(function(Pe){Y(Pe.tag),Y(Pe.origChecksum),Y(ee),Y(Pe.origLength),Pe.outOffset=ee,(ee+=Pe.origLength)%4!=0&&(ee+=4-ee%4)}),se.forEach(function(Pe){var Ce,ht=V.slice(Pe.offset,Pe.offset+Pe.compLength);if(Pe.compLength!=Pe.origLength){var ot=new Uint8Array(Pe.origLength);Ce=new Uint8Array(ht,2),X(Ce,ot)}else ot=new Uint8Array(ht);ce.set(ot,Pe.outOffset);var Ve=0;(ee=Pe.outOffset+Pe.origLength)%4!=0&&(Ve=4-ee%4),ce.set(new Uint8Array(Ve).buffer,Pe.outOffset+Pe.origLength),ae=ee+Ve}),_e.slice(0,ae)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function fE(t,e){const l={M:2,L:2,Q:4,C:6,Z:0},u={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=1,o=2,c=4,h=8,d=16,g=32;let m;function y(j){if(!m){const W={R:o,L:a,D:c,C:d,U:g,T:h};m=new Map;for(let X in u){let K=0;u[X].split(",").forEach(ie=>{let[V,fe]=ie.split("+");V=parseInt(V,36),fe=fe?parseInt(fe,36):0,m.set(K+=V,W[X]);for(let pe=fe;pe--;)m.set(++K,W[X])})}}return m.get(j)||g}const x=1,S=2,E=3,P=4,R=[null,"isol","init","fina","medi"];function A(j){const W=new Uint8Array(j.length);let X=g,K=x,ie=-1;for(let V=0;V<j.length;V++){const fe=j.codePointAt(V);let pe=y(fe)|0,be=x;pe&h||(X&(a|c|d)?pe&(o|c|d)?(be=E,(K===x||K===E)&&W[ie]++):pe&(a|g)&&(K===S||K===P)&&W[ie]--:X&(o|g)&&(K===S||K===P)&&W[ie]--,K=W[V]=be,X=pe,ie=V,fe>65535&&V++)}return W}function I(j,W){const X=[];for(let ie=0;ie<W.length;ie++){const V=W.codePointAt(ie);V>65535&&ie++,X.push(t.U.codeToGlyph(j,V))}const K=j.GSUB;if(K){const{lookupList:ie,featureList:V}=K;let fe;const pe=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,be=[];V.forEach(le=>{if(pe.test(le.tag))for(let Te=0;Te<le.tab.length;Te++){if(be[le.tab[Te]])continue;be[le.tab[Te]]=!0;const Y=ie[le.tab[Te]],Q=/^(isol|init|fina|medi)$/.test(le.tag);Q&&!fe&&(fe=A(W));for(let J=0;J<X.length;J++)(!fe||!Q||R[fe[J]]===le.tag)&&t.U._applySubs(X,J,Y,ie)}})}return X}function L(j,W){const X=new Int16Array(W.length*3);let K=0;for(;K<W.length;K++){const pe=W[K];if(pe===-1)continue;X[K*3+2]=j.hmtx.aWidth[pe];const be=j.GPOS;if(be){const le=be.lookupList;for(let Te=0;Te<le.length;Te++){const Y=le[Te];for(let Q=0;Q<Y.tabs.length;Q++){const J=Y.tabs[Q];if(Y.ltype===1){if(t._lctf.coverageIndex(J.coverage,pe)!==-1&&J.pos){fe(J.pos,K);break}}else if(Y.ltype===2){let B=null,Z=ie();if(Z!==-1){const ee=t._lctf.coverageIndex(J.coverage,W[Z]);if(ee!==-1){if(J.fmt===1){const se=J.pairsets[ee];for(let $=0;$<se.length;$++)se[$].gid2===pe&&(B=se[$])}else if(J.fmt===2){const se=t.U._getGlyphClass(W[Z],J.classDef1),$=t.U._getGlyphClass(pe,J.classDef2);B=J.matrix[se][$]}if(B){B.val1&&fe(B.val1,Z),B.val2&&fe(B.val2,K);break}}}}else if(Y.ltype===4){const B=t._lctf.coverageIndex(J.markCoverage,pe);if(B!==-1){const Z=ie(V),ee=Z===-1?-1:t._lctf.coverageIndex(J.baseCoverage,W[Z]);if(ee!==-1){const se=J.markArray[B],$=J.baseArray[ee][se.markClass];X[K*3]=$.x-se.x+X[Z*3]-X[Z*3+2],X[K*3+1]=$.y-se.y+X[Z*3+1];break}}}else if(Y.ltype===6){const B=t._lctf.coverageIndex(J.mark1Coverage,pe);if(B!==-1){const Z=ie();if(Z!==-1){const ee=W[Z];if(F(j,ee)===3){const se=t._lctf.coverageIndex(J.mark2Coverage,ee);if(se!==-1){const $=J.mark1Array[B],ae=J.mark2Array[se][$.markClass];X[K*3]=ae.x-$.x+X[Z*3]-X[Z*3+2],X[K*3+1]=ae.y-$.y+X[Z*3+1];break}}}}}}}}else if(j.kern&&!j.cff){const le=ie();if(le!==-1){const Te=j.kern.glyph1.indexOf(W[le]);if(Te!==-1){const Y=j.kern.rval[Te].glyph2.indexOf(pe);Y!==-1&&(X[le*3+2]+=j.kern.rval[Te].vals[Y])}}}}return X;function ie(pe){for(let be=K-1;be>=0;be--)if(W[be]!==-1&&(!pe||pe(W[be])))return be;return-1}function V(pe){return F(j,pe)===1}function fe(pe,be){for(let le=0;le<3;le++)X[be*3+le]+=pe[le]||0}}function F(j,W){const X=j.GDEF&&j.GDEF.glyphClassDef;return X?t.U._getGlyphClass(W,X):0}function D(...j){for(let W=0;W<j.length;W++)if(typeof j[W]=="number")return j[W]}function G(j){const W=Object.create(null),X=j["OS/2"],K=j.hhea,ie=j.head.unitsPerEm,V=D(X&&X.sTypoAscender,K&&K.ascender,ie),fe={unitsPerEm:ie,ascender:V,descender:D(X&&X.sTypoDescender,K&&K.descender,0),capHeight:D(X&&X.sCapHeight,V),xHeight:D(X&&X.sxHeight,V),lineGap:D(X&&X.sTypoLineGap,K&&K.lineGap),supportsCodePoint(pe){return t.U.codeToGlyph(j,pe)>0},forEachGlyph(pe,be,le,Te){let Y=0;const Q=1/fe.unitsPerEm*be,J=I(j,pe);let B=0;const Z=L(j,J);return J.forEach((ee,se)=>{if(ee!==-1){let $=W[ee];if(!$){const{cmds:ae,crds:ce}=t.U.glyphToPath(j,ee);let _e="",Oe=0;for(let ot=0,Ve=ae.length;ot<Ve;ot++){const st=l[ae[ot]];_e+=ae[ot];for(let et=1;et<=st;et++)_e+=(et>1?",":"")+ce[Oe++]}let Be,Pe,Ce,ht;if(ce.length){Be=Pe=1/0,Ce=ht=-1/0;for(let ot=0,Ve=ce.length;ot<Ve;ot+=2){let st=ce[ot],et=ce[ot+1];st<Be&&(Be=st),et<Pe&&(Pe=et),st>Ce&&(Ce=st),et>ht&&(ht=et)}}else Be=Ce=Pe=ht=0;$=W[ee]={index:ee,advanceWidth:j.hmtx.aWidth[ee],xMin:Be,yMin:Pe,xMax:Ce,yMax:ht,path:_e}}Te.call(null,$,Y+Z[se*3]*Q,Z[se*3+1]*Q,B),Y+=Z[se*3+2]*Q,le&&(Y+=le*be)}B+=pe.codePointAt(B)>65535?2:1}),Y}};return fe}return function(W){const X=new Uint8Array(W,0,4),K=t._bin.readASCII(X,0,4);if(K==="wOFF")W=e(W);else if(K==="wOF2")throw new Error("woff2 fonts not supported");return G(t.parse(W)[0])}}const dE=Xl({name:"Typr Font Parser",dependencies:[uE,cE,fE],init(t,e,l){const u=t(),a=e();return l(u,a)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function hE(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(L){var F=L>>5;this.buckets.set(F,(this.buckets.get(F)||0)|1<<(31&L))},e.prototype.has=function(L){var F=this.buckets.get(L>>5);return F!==void 0&&(F&1<<(31&L))!=0},e.prototype.serialize=function(){var L=[];return this.buckets.forEach(function(F,D){L.push((+D).toString(36)+":"+F.toString(36))}),L.join(",")},e.prototype.deserialize=function(L){var F=this;this.buckets.clear(),L.split(",").forEach(function(D){var G=D.split(":");F.buckets.set(parseInt(G[0],36),parseInt(G[1],36))})};var l=Math.pow(2,8),u=l-1,a=~u;function o(L){var F=function(G){return G&a}(L).toString(16),D=function(G){return(G&a)+l-1}(L).toString(16);return"codepoint-index/plane"+(L>>16)+"/"+F+"-"+D+".json"}function c(L,F){var D=L&u,G=F.codePointAt(D/6|0);return((G=(G||48)-48)&1<<D%6)!=0}function h(L,F){var D;(D=L,D.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(G){return G.split("-").map(function(j){return parseInt(j.trim(),16)})})).forEach(function(G){var j=G[0],W=G[1];W===void 0&&(W=j),F(j,W)})}function d(L,F){h(L,function(D,G){for(var j=D;j<=G;j++)F(j)})}var g={},m={},y=new WeakMap,x="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(L){var F=y.get(L);return F||(F=new e,d(L.ranges,function(D){return F.add(D)}),y.set(L,F)),F}var E,P=new Map;function R(L,F,D){return L[F]?F:L[D]?D:function(G){for(var j in G)return j}(L)}function A(L,F){var D=F;if(!L.includes(D)){D=1/0;for(var G=0;G<L.length;G++)Math.abs(L[G]-F)<Math.abs(D-F)&&(D=L[G])}return D}function I(L){return E||(E=new Set,d("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(F){E.add(F)})),E.has(L)}return t.CodePointSet=e,t.clearCache=function(){g={},m={}},t.getFontsForString=function(L,F){F===void 0&&(F={});var D,G=F.lang;G===void 0&&(G=new RegExp("\\p{Script=Hangul}","u").test(D=L)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(D)?"ja":"en");var j=F.category;j===void 0&&(j="sans-serif");var W=F.style;W===void 0&&(W="normal");var X=F.weight;X===void 0&&(X=400);var K=(F.dataUrl||x).replace(/\/$/g,""),ie=new Map,V=new Uint8Array(L.length),fe={},pe={},be=new Array(L.length),le=new Map,Te=!1;function Y(B){var Z=P.get(B);return Z||(Z=fetch(K+"/"+B).then(function(ee){if(!ee.ok)throw new Error(ee.statusText);return ee.json().then(function(se){if(!Array.isArray(se)||se[0]!==1)throw new Error("Incorrect schema version; need 1, got "+se[0]);return se[1]})}).catch(function(ee){if(K!==x)return Te||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+K+'", trying default CDN. '+ee.message),Te=!0),K=x,P.delete(B),Y(B);throw ee}),P.set(B,Z)),Z}for(var Q=function(B){var Z=L.codePointAt(B),ee=o(Z);be[B]=ee,g[ee]||le.has(ee)||le.set(ee,Y(ee).then(function(se){g[ee]=se})),Z>65535&&(B++,J=B)},J=0;J<L.length;J++)Q(J);return Promise.all(le.values()).then(function(){le.clear();for(var B=function(ee){var se=L.codePointAt(ee),$=null,ae=g[be[ee]],ce=void 0;for(var _e in ae){var Oe=pe[_e];if(Oe===void 0&&(Oe=pe[_e]=new RegExp(_e).test(G||"en")),Oe){for(var Be in ce=_e,ae[_e])if(c(se,ae[_e][Be])){$=Be;break}break}}if(!$){e:for(var Pe in ae)if(Pe!==ce){for(var Ce in ae[Pe])if(c(se,ae[Pe][Ce])){$=Ce;break e}}}$||(console.debug("No font coverage for U+"+se.toString(16)),$="latin"),be[ee]=$,m[$]||le.has($)||le.set($,Y("font-meta/"+$+".json").then(function(ht){m[$]=ht})),se>65535&&(ee++,Z=ee)},Z=0;Z<L.length;Z++)B(Z);return Promise.all(le.values())}).then(function(){for(var B,Z=null,ee=0;ee<L.length;ee++){var se=L.codePointAt(ee);if(Z&&(I(se)||S(Z).has(se)))V[ee]=V[ee-1];else{Z=m[be[ee]];var $=fe[Z.id];if(!$){var ae=Z.typeforms,ce=R(ae,j,"sans-serif"),_e=R(ae[ce],W,"normal"),Oe=A((B=ae[ce])===null||B===void 0?void 0:B[_e],X);$=fe[Z.id]=K+"/font-files/"+Z.id+"/"+ce+"."+_e+"."+Oe+".woff"}var Be=ie.get($);Be==null&&(Be=ie.size,ie.set($,Be)),V[ee]=Be}se>65535&&(ee++,V[ee]=V[ee-1])}return{fontUrls:Array.from(ie.keys()),chars:V}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function pE(t,e){const l=Object.create(null),u=Object.create(null);function a(c,h){const d=g=>{console.error(`Failure loading font ${c}`,g)};try{const g=new XMLHttpRequest;g.open("get",c,!0),g.responseType="arraybuffer",g.onload=function(){if(g.status>=400)d(new Error(g.statusText));else if(g.status>0)try{const m=t(g.response);m.src=c,h(m)}catch(m){d(m)}},g.onerror=d,g.send()}catch(g){d(g)}}function o(c,h){let d=l[c];d?h(d):u[c]?u[c].push(h):(u[c]=[h],a(c,g=>{g.src=c,l[c]=g,u[c].forEach(m=>m(g)),delete u[c]}))}return function(c,h,{lang:d,fonts:g=[],style:m="normal",weight:y="normal",unicodeFontsURL:x}={}){const S=new Uint8Array(c.length),E=[];c.length||I();const P=new Map,R=[];if(m!=="italic"&&(m="normal"),typeof y!="number"&&(y=y==="bold"?700:400),g&&!Array.isArray(g)&&(g=[g]),g=g.slice().filter(F=>!F.lang||F.lang.test(d)).reverse(),g.length){let j=0;(function W(X=0){for(let K=X,ie=c.length;K<ie;K++){const V=c.codePointAt(K);if(j===1&&E[S[K-1]].supportsCodePoint(V)||K>0&&/\s/.test(c[K]))S[K]=S[K-1],j===2&&(R[R.length-1][1]=K);else for(let fe=S[K],pe=g.length;fe<=pe;fe++)if(fe===pe){const be=j===2?R[R.length-1]:R[R.length]=[K,K];be[1]=K,j=2}else{S[K]=fe;const{src:be,unicodeRange:le}=g[fe];if(!le||L(V,le)){const Te=l[be];if(!Te){o(be,()=>{W(K)});return}if(Te.supportsCodePoint(V)){let Y=P.get(Te);typeof Y!="number"&&(Y=E.length,E.push(Te),P.set(Te,Y)),S[K]=Y,j=1;break}}}V>65535&&K+1<ie&&(S[K+1]=S[K],K++,j===2&&(R[R.length-1][1]=K))}A()})()}else R.push([0,c.length-1]),A();function A(){if(R.length){const F=R.map(D=>c.substring(D[0],D[1]+1)).join(`
`);e.getFontsForString(F,{lang:d||void 0,style:m,weight:y,dataUrl:x}).then(({fontUrls:D,chars:G})=>{const j=E.length;let W=0;R.forEach(K=>{for(let ie=0,V=K[1]-K[0];ie<=V;ie++)S[K[0]+ie]=G[W++]+j;W++});let X=0;D.forEach((K,ie)=>{o(K,V=>{E[ie+j]=V,++X===D.length&&I()})})})}else I()}function I(){h({chars:S,fonts:E})}function L(F,D){for(let G=0;G<D.length;G++){const[j,W=j]=D[G];if(j<=F&&F<=W)return!0}return!1}}}const mE=Xl({name:"FontResolver",dependencies:[pE,dE,hE],init(t,e,l){return t(e,l())}});function gE(t,e){const u=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",o=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c({text:E,lang:P,fonts:R,style:A,weight:I,preResolvedFonts:L,unicodeFontsURL:F},D){const G=({chars:j,fonts:W})=>{let X,K;const ie=[];for(let V=0;V<j.length;V++)j[V]!==K?(K=j[V],ie.push(X={start:V,end:V,fontObj:W[j[V]]})):X.end=V;D(ie)};L?G(L):t(E,G,{lang:P,fonts:R,style:A,weight:I,unicodeFontsURL:F})}function h({text:E="",font:P,lang:R,sdfGlyphSize:A=64,fontSize:I=400,fontWeight:L=1,fontStyle:F="normal",letterSpacing:D=0,lineHeight:G="normal",maxWidth:j=1/0,direction:W,textAlign:X="left",textIndent:K=0,whiteSpace:ie="normal",overflowWrap:V="normal",anchorX:fe=0,anchorY:pe=0,metricsOnly:be=!1,unicodeFontsURL:le,preResolvedFonts:Te=null,includeCaretPositions:Y=!1,chunkedBoundsSize:Q=8192,colorRanges:J=null},B){const Z=y(),ee={fontLoad:0,typesetting:0};E.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),E=E.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),I=+I,D=+D,j=+j,G=G||"normal",K=+K,c({text:E,lang:R,style:F,weight:L,fonts:typeof P=="string"?[{src:P}]:P,unicodeFontsURL:le,preResolvedFonts:Te},se=>{ee.fontLoad=y()-Z;const $=isFinite(j);let ae=null,ce=null,_e=null,Oe=null,Be=null,Pe=null,Ce=null,ht=null,ot=0,Ve=0,st=ie!=="nowrap";const et=new Map,Me=y();let lt=K,He=0,Ee=new x;const xt=[Ee];se.forEach(tt=>{const{fontObj:nt}=tt,{ascender:gt,descender:Ct,unitsPerEm:en,lineGap:un,capHeight:It,xHeight:Ot}=nt;let ct=et.get(nt);if(!ct){const Ze=I/en,Mt=G==="normal"?(gt-Ct+un)*Ze:G*I,Pn=(Mt-(gt-Ct)*Ze)/2,on=Math.min(Mt,(gt-Ct)*Ze),Ft=(gt+Ct)/2*Ze+on/2;ct={index:et.size,src:nt.src,fontObj:nt,fontSizeMult:Ze,unitsPerEm:en,ascender:gt*Ze,descender:Ct*Ze,capHeight:It*Ze,xHeight:Ot*Ze,lineHeight:Mt,baseline:-Pn-gt*Ze,caretTop:Ft,caretBottom:Ft-on},et.set(nt,ct)}const{fontSizeMult:oe}=ct,Re=E.slice(tt.start,tt.end+1);let rt,ft;nt.forEachGlyph(Re,I,D,(Ze,Mt,Pn,on)=>{Mt+=He,on+=tt.start,rt=Mt,ft=Ze;const Ft=E.charAt(on),tn=Ze.advanceWidth*oe,Yt=Ee.count;let St;if("isEmpty"in Ze||(Ze.isWhitespace=!!Ft&&new RegExp(a).test(Ft),Ze.canBreakAfter=!!Ft&&o.test(Ft),Ze.isEmpty=Ze.xMin===Ze.xMax||Ze.yMin===Ze.yMax||u.test(Ft)),!Ze.isWhitespace&&!Ze.isEmpty&&Ve++,st&&$&&!Ze.isWhitespace&&Mt+tn+lt>j&&Yt){if(Ee.glyphAt(Yt-1).glyphObj.canBreakAfter)St=new x,lt=-Mt;else for(let gn=Yt;gn--;)if(gn===0&&V==="break-word"){St=new x,lt=-Mt;break}else if(Ee.glyphAt(gn).glyphObj.canBreakAfter){St=Ee.splitAt(gn+1);const _n=St.glyphAt(0).x;lt-=_n;for(let wn=St.count;wn--;)St.glyphAt(wn).x-=_n;break}St&&(Ee.isSoftWrapped=!0,Ee=St,xt.push(Ee),ot=j)}let Dt=Ee.glyphAt(Ee.count);Dt.glyphObj=Ze,Dt.x=Mt+lt,Dt.y=Pn,Dt.width=tn,Dt.charIndex=on,Dt.fontData=ct,Ft===`
`&&(Ee=new x,xt.push(Ee),lt=-(Mt+tn+D*I)+K)}),He=rt+ft.advanceWidth*oe+D*I});let je=0;xt.forEach(tt=>{let nt=!0;for(let gt=tt.count;gt--;){const Ct=tt.glyphAt(gt);nt&&!Ct.glyphObj.isWhitespace&&(tt.width=Ct.x+Ct.width,tt.width>ot&&(ot=tt.width),nt=!1);let{lineHeight:en,capHeight:un,xHeight:It,baseline:Ot}=Ct.fontData;en>tt.lineHeight&&(tt.lineHeight=en);const ct=Ot-tt.baseline;ct<0&&(tt.baseline+=ct,tt.cap+=ct,tt.ex+=ct),tt.cap=Math.max(tt.cap,tt.baseline+un),tt.ex=Math.max(tt.ex,tt.baseline+It)}tt.baseline-=je,tt.cap-=je,tt.ex-=je,je+=tt.lineHeight});let Qe=0,ze=0;if(fe&&(typeof fe=="number"?Qe=-fe:typeof fe=="string"&&(Qe=-ot*(fe==="left"?0:fe==="center"?.5:fe==="right"?1:g(fe)))),pe&&(typeof pe=="number"?ze=-pe:typeof pe=="string"&&(ze=pe==="top"?0:pe==="top-baseline"?-xt[0].baseline:pe==="top-cap"?-xt[0].cap:pe==="top-ex"?-xt[0].ex:pe==="middle"?je/2:pe==="bottom"?je:pe==="bottom-baseline"?-xt[xt.length-1].baseline:g(pe)*je)),!be){const tt=e.getEmbeddingLevels(E,W);ae=new Uint16Array(Ve),ce=new Uint8Array(Ve),_e=new Float32Array(Ve*2),Oe={},Ce=[1/0,1/0,-1/0,-1/0],ht=[],Y&&(Pe=new Float32Array(E.length*4)),J&&(Be=new Uint8Array(Ve*3));let nt=0,gt=-1,Ct=-1,en,un;if(xt.forEach((It,Ot)=>{let{count:ct,width:oe}=It;if(ct>0){let Re=0;for(let on=ct;on--&&It.glyphAt(on).glyphObj.isWhitespace;)Re++;let rt=0,ft=0;if(X==="center")rt=(ot-oe)/2;else if(X==="right")rt=ot-oe;else if(X==="justify"&&It.isSoftWrapped){let on=0;for(let Ft=ct-Re;Ft--;)It.glyphAt(Ft).glyphObj.isWhitespace&&on++;ft=(ot-oe)/on}if(ft||rt){let on=0;for(let Ft=0;Ft<ct;Ft++){let tn=It.glyphAt(Ft);const Yt=tn.glyphObj;tn.x+=rt+on,ft!==0&&Yt.isWhitespace&&Ft<ct-Re&&(on+=ft,tn.width+=ft)}}const Ze=e.getReorderSegments(E,tt,It.glyphAt(0).charIndex,It.glyphAt(It.count-1).charIndex);for(let on=0;on<Ze.length;on++){const[Ft,tn]=Ze[on];let Yt=1/0,St=-1/0;for(let Dt=0;Dt<ct;Dt++)if(It.glyphAt(Dt).charIndex>=Ft){let gn=Dt,_n=Dt;for(;_n<ct;_n++){let wn=It.glyphAt(_n);if(wn.charIndex>tn)break;_n<ct-Re&&(Yt=Math.min(Yt,wn.x),St=Math.max(St,wn.x+wn.width))}for(let wn=gn;wn<_n;wn++){const Pr=It.glyphAt(wn);Pr.x=St-(Pr.x+Pr.width-Yt)}break}}let Mt;const Pn=on=>Mt=on;for(let on=0;on<ct;on++){const Ft=It.glyphAt(on);Mt=Ft.glyphObj;const tn=Mt.index,Yt=tt.levels[Ft.charIndex]&1;if(Yt){const St=e.getMirroredCharacter(E[Ft.charIndex]);St&&Ft.fontData.fontObj.forEachGlyph(St,0,0,Pn)}if(Y){const{charIndex:St,fontData:Dt}=Ft,gn=Ft.x+Qe,_n=Ft.x+Ft.width+Qe;Pe[St*4]=Yt?_n:gn,Pe[St*4+1]=Yt?gn:_n,Pe[St*4+2]=It.baseline+Dt.caretBottom+ze,Pe[St*4+3]=It.baseline+Dt.caretTop+ze;const wn=St-gt;wn>1&&m(Pe,gt,wn),gt=St}if(J){const{charIndex:St}=Ft;for(;St>Ct;)Ct++,J.hasOwnProperty(Ct)&&(un=J[Ct])}if(!Mt.isWhitespace&&!Mt.isEmpty){const St=nt++,{fontSizeMult:Dt,src:gn,index:_n}=Ft.fontData,wn=Oe[gn]||(Oe[gn]={});wn[tn]||(wn[tn]={path:Mt.path,pathBounds:[Mt.xMin,Mt.yMin,Mt.xMax,Mt.yMax]});const Pr=Ft.x+Qe,Lr=Ft.y+It.baseline+ze;_e[St*2]=Pr,_e[St*2+1]=Lr;const Ir=Pr+Mt.xMin*Dt,ci=Lr+Mt.yMin*Dt,fr=Pr+Mt.xMax*Dt,Qr=Lr+Mt.yMax*Dt;Ir<Ce[0]&&(Ce[0]=Ir),ci<Ce[1]&&(Ce[1]=ci),fr>Ce[2]&&(Ce[2]=fr),Qr>Ce[3]&&(Ce[3]=Qr),St%Q===0&&(en={start:St,end:St,rect:[1/0,1/0,-1/0,-1/0]},ht.push(en)),en.end++;const Gn=en.rect;if(Ir<Gn[0]&&(Gn[0]=Ir),ci<Gn[1]&&(Gn[1]=ci),fr>Gn[2]&&(Gn[2]=fr),Qr>Gn[3]&&(Gn[3]=Qr),ae[St]=tn,ce[St]=_n,J){const Si=St*3;Be[Si]=un>>16&255,Be[Si+1]=un>>8&255,Be[Si+2]=un&255}}}}}),Pe){const It=E.length-gt;It>1&&m(Pe,gt,It)}}const Zt=[];et.forEach(({index:tt,src:nt,unitsPerEm:gt,ascender:Ct,descender:en,lineHeight:un,capHeight:It,xHeight:Ot})=>{Zt[tt]={src:nt,unitsPerEm:gt,ascender:Ct,descender:en,lineHeight:un,capHeight:It,xHeight:Ot}}),ee.typesetting=y()-Me,B({glyphIds:ae,glyphFontIndices:ce,glyphPositions:_e,glyphData:Oe,fontData:Zt,caretPositions:Pe,glyphColors:Be,chunkedBounds:ht,fontSize:I,topBaseline:ze+xt[0].baseline,blockBounds:[Qe,ze-je,Qe+ot,ze],visibleBounds:Ce,timings:ee})})}function d(E,P){h({...E,metricsOnly:!0},R=>{const[A,I,L,F]=R.blockBounds;P({width:L-A,height:F-I})})}function g(E){let P=E.match(/^([\d.]+)%$/),R=P?parseFloat(P[1]):NaN;return isNaN(R)?0:R/100}function m(E,P,R){const A=E[P*4],I=E[P*4+1],L=E[P*4+2],F=E[P*4+3],D=(I-A)/R;for(let G=0;G<R;G++){const j=(P+G)*4;E[j]=A+D*G,E[j+1]=A+D*(G+1),E[j+2]=L,E[j+3]=F}}function y(){return(self.performance||Date).now()}function x(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return x.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(E){let P=x.flyweight;return P.data=this.data,P.index=E,P},splitAt(E){let P=new x;return P.data=this.data.splice(E*S.length),P}},x.flyweight=S.reduce((E,P,R,A)=>(Object.defineProperty(E,P,{get(){return this.data[this.index*S.length+R]},set(I){this.data[this.index*S.length+R]=I}}),E),{data:null,index:0}),{typeset:h,measure:d}}const Ys=()=>(self.performance||Date).now(),ud=gv();let Mg;function vE(t,e,l,u,a,o,c,h,d,g,m=!0){return m?_E(t,e,l,u,a,o,c,h,d,g).then(null,y=>(Mg||(console.warn("WebGL SDF generation failed, falling back to JS",y),Mg=!0),Ng(t,e,l,u,a,o,c,h,d,g))):Ng(t,e,l,u,a,o,c,h,d,g)}const jf=[],yE=5;let rp=0;function yv(){const t=Ys();for(;jf.length&&Ys()-t<yE;)jf.shift()();rp=jf.length?setTimeout(yv,0):0}const _E=(...t)=>new Promise((e,l)=>{jf.push(()=>{const u=Ys();try{ud.webgl.generateIntoCanvas(...t),e({timing:Ys()-u})}catch(a){l(a)}}),rp||(rp=setTimeout(yv,0))}),wE=4,xE=2e3,Ug={};let SE=0;function Ng(t,e,l,u,a,o,c,h,d,g){const m="TroikaTextSDFGenerator_JS_"+SE++%wE;let y=Ug[m];return y||(y=Ug[m]={workerModule:Xl({name:m,workerId:m,dependencies:[gv,Ys],init(x,S){const E=x().javascript.generate;return function(...P){const R=S();return{textureData:E(...P),timing:S()-R}}},getTransferables(x){return[x.textureData.buffer]}}),requests:0,idleTimer:null}),y.requests++,clearTimeout(y.idleTimer),y.workerModule(t,e,l,u,a,o).then(({textureData:x,timing:S})=>{const E=Ys(),P=new Uint8Array(x.length*4);for(let R=0;R<x.length;R++)P[R*4+g]=x[R];return ud.webglUtils.renderImageData(c,P,h,d,t,e,1<<3-g),S+=Ys()-E,--y.requests===0&&(y.idleTimer=setTimeout(()=>{$b(m)},xE)),{timing:S}})}function bE(t){t._warm||(ud.webgl.isSupported(t),t._warm=!0)}const EE=ud.webglUtils.resizeWebGLCanvasWithoutClearing,Nl={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},TE=new _a;function Ll(){return(self.performance||Date).now()}const Dg=Object.create(null);function _v(t,e){t=AE({},t);const l=Ll(),{defaultFontURL:u}=Nl,a=[];if(u&&a.push({label:"default",src:Fg(u)}),t.font&&a.push({label:"user",src:Fg(t.font)}),t.font=a,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Nl.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Nl.unicodeFontsURL,t.colorRanges!=null){let S={};for(let E in t.colorRanges)if(t.colorRanges.hasOwnProperty(E)){let P=t.colorRanges[E];typeof P!="number"&&(P=TE.set(P).getHex()),S[E]=P}t.colorRanges=S}Object.freeze(t);const{textureWidth:o,sdfExponent:c}=Nl,{sdfGlyphSize:h}=t,d=o/h*4;let g=Dg[h];if(!g){const S=document.createElement("canvas");S.width=o,S.height=h*256/d,g=Dg[h]={glyphCount:0,sdfGlyphSize:h,sdfCanvas:S,sdfTexture:new g0(S,void 0,void 0,void 0,Rm,Rm),contextLost:!1,glyphsByFont:new Map},g.sdfTexture.generateMipmaps=!1,CE(g)}const{sdfTexture:m,sdfCanvas:y}=g;Sv(t).then(S=>{const{glyphIds:E,glyphFontIndices:P,fontData:R,glyphPositions:A,fontSize:I,timings:L}=S,F=[],D=new Float32Array(E.length*4);let G=0,j=0;const W=Ll(),X=R.map(pe=>{let be=g.glyphsByFont.get(pe.src);return be||g.glyphsByFont.set(pe.src,be=new Map),be});E.forEach((pe,be)=>{const le=P[be],{src:Te,unitsPerEm:Y}=R[le];let Q=X[le].get(pe);if(!Q){const{path:se,pathBounds:$}=S.glyphData[Te][pe],ae=Math.max($[2]-$[0],$[3]-$[1])/h*(Nl.sdfMargin*h+.5),ce=g.glyphCount++,_e=[$[0]-ae,$[1]-ae,$[2]+ae,$[3]+ae];X[le].set(pe,Q={path:se,atlasIndex:ce,sdfViewBox:_e}),F.push(Q)}const{sdfViewBox:J}=Q,B=A[j++],Z=A[j++],ee=I/Y;D[G++]=B+J[0]*ee,D[G++]=Z+J[1]*ee,D[G++]=B+J[2]*ee,D[G++]=Z+J[3]*ee,E[be]=Q.atlasIndex}),L.quads=(L.quads||0)+(Ll()-W);const K=Ll();L.sdf={};const ie=y.height,V=Math.ceil(g.glyphCount/d),fe=Math.pow(2,Math.ceil(Math.log2(V*h)));fe>ie&&(console.info(`Increasing SDF texture size ${ie}->${fe}`),EE(y,o,fe),m.dispose()),Promise.all(F.map(pe=>wv(pe,g,t.gpuAccelerateSDF).then(({timing:be})=>{L.sdf[pe.atlasIndex]=be}))).then(()=>{F.length&&!g.contextLost&&(xv(g),m.needsUpdate=!0),L.sdfTotal=Ll()-K,L.total=Ll()-l,e(Object.freeze({parameters:t,sdfTexture:m,sdfGlyphSize:h,sdfExponent:c,glyphBounds:D,glyphAtlasIndices:E,glyphColors:S.glyphColors,caretPositions:S.caretPositions,chunkedBounds:S.chunkedBounds,ascender:S.ascender,descender:S.descender,lineHeight:S.lineHeight,capHeight:S.capHeight,xHeight:S.xHeight,topBaseline:S.topBaseline,blockBounds:S.blockBounds,visibleBounds:S.visibleBounds,timings:S.timings}))})}),Promise.resolve().then(()=>{g.contextLost||bE(y)})}function wv({path:t,atlasIndex:e,sdfViewBox:l},{sdfGlyphSize:u,sdfCanvas:a,contextLost:o},c){if(o)return Promise.resolve({timing:-1});const{textureWidth:h,sdfExponent:d}=Nl,g=Math.max(l[2]-l[0],l[3]-l[1]),m=Math.floor(e/4),y=m%(h/u)*u,x=Math.floor(m/(h/u))*u,S=e%4;return vE(u,u,t,l,g,d,a,y,x,S,c)}function CE(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",l=>{console.log("Context Lost",l),l.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",l=>{console.log("Context Restored",l),t.contextLost=!1;const u=[];t.glyphsByFont.forEach(a=>{a.forEach(o=>{u.push(wv(o,t,!0))})}),Promise.all(u).then(()=>{xv(t),t.sdfTexture.needsUpdate=!0})})}function kE({font:t,characters:e,sdfGlyphSize:l},u){let a=Array.isArray(e)?e.join(`
`):""+e;_v({font:t,sdfGlyphSize:l,text:a},u)}function AE(t,e){for(let l in e)e.hasOwnProperty(l)&&(t[l]=e[l]);return t}let Tf;function Fg(t){return Tf||(Tf=typeof document>"u"?{}:document.createElement("a")),Tf.href=t,Tf.href}function xv(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:l}=t,{width:u,height:a}=e,o=t.sdfCanvas.getContext("webgl");let c=l.image.data;(!c||c.length!==u*a*4)&&(c=new Uint8Array(u*a*4),l.image={width:u,height:a,data:c},l.flipY=!1,l.isDataTexture=!0),o.readPixels(0,0,u,a,o.RGBA,o.UNSIGNED_BYTE,c)}}const RE=Xl({name:"Typesetter",dependencies:[gE,mE,tE],init(t,e,l){return t(e,l())}}),Sv=Xl({name:"Typesetter",dependencies:[RE],init(t){return function(e){return new Promise(l=>{t.typeset(e,l)})}},getTransferables(t){const e=[];for(let l in t)t[l]&&t[l].buffer&&e.push(t[l].buffer);return e}});Sv.onMainThread;const zg={};function PE(t){let e=zg[t];return e||(e=zg[t]=new hp(1,1,t,t).translate(.5,.5,0)),e}const LE="aTroikaGlyphBounds",Bg="aTroikaGlyphIndex",IE="aTroikaGlyphColor";class OE extends y0{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new dp,this.boundingBox=new oc}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let l=PE(e);["position","normal","uv"].forEach(u=>{this.attributes[u]=l.attributes[u].clone()}),this.setIndex(l.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,l,u,a,o){this.updateAttributeData(LE,e,4),this.updateAttributeData(Bg,l,1),this.updateAttributeData(IE,o,3),this._blockBounds=u,this._chunkedBounds=a,this.instanceCount=l.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:l,boundingBox:u}=this;if(l){const{PI:a,floor:o,min:c,max:h,sin:d,cos:g}=Math,m=a/2,y=a*2,x=Math.abs(l),S=e[0]/x,E=e[2]/x,P=o((S+m)/y)!==o((E+m)/y)?-x:c(d(S)*x,d(E)*x),R=o((S-m)/y)!==o((E-m)/y)?x:h(d(S)*x,d(E)*x),A=o((S+a)/y)!==o((E+a)/y)?x*2:h(x-g(S)*x,x-g(E)*x);u.min.set(P,e[1],l<0?-A:0),u.max.set(R,e[3],l<0?0:A)}else u.min.set(e[0],e[1],0),u.max.set(e[2],e[3],0);u.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let l=this.getAttribute(Bg).count,u=this._chunkedBounds;if(u)for(let a=u.length;a--;){l=u[a].end;let o=u[a].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=l}updateAttributeData(e,l,u){const a=this.getAttribute(e);l?a&&a.array.length===l.length?(a.array.set(l),a.needsUpdate=!0):(this.setAttribute(e,new o2(l,u)),delete this._maxInstanceCount,this.dispose()):a&&this.deleteAttribute(e)}}const ME=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,UE=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,NE=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,DE=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function FE(t){const e=np(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ur},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new rs(0,0,0,0)},uTroikaClipRect:{value:new rs(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ur},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new _a},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new a2},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:ME,vertexTransform:UE,fragmentDefs:NE,fragmentColorTransform:DE,customRewriter({vertexShader:l,fragmentShader:u}){let a=/\buniform\s+vec3\s+diffuse\b/;return a.test(u)&&(u=u.replace(a,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),a.test(l)||(l=l.replace(vv,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:l,fragmentShader:u}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const bp=new jh({color:16777215,side:_0,transparent:!0}),jg=8421504,Gg=new Bi,Cf=new Nt,Eh=new Nt,Bu=[],zE=new Nt,Th="+x+y";function Wg(t){return Array.isArray(t)?t[0]:t}let bv=()=>{const t=new Vo(new hp(1,1),bp);return bv=()=>t,t},Ev=()=>{const t=new Vo(new hp(1,1,32,1),bp);return Ev=()=>t,t};const BE={type:"syncstart"},jE={type:"synccomplete"},Tv=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],GE=Tv.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Cv=class extends Vo{constructor(){const e=new OE;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=jg,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Th,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(BE),_v({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},l=>{this._isSyncing=!1,this._textRenderInfo=l,this.geometry.updateGlyphs(l.glyphBounds,l.glyphAtlasIndices,l.blockBounds,l.chunkedBounds,l.glyphColors);const u=this._queuedSyncs;u&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{u.forEach(a=>a&&a())})),this.dispatchEvent(jE),e&&e()})))}onBeforeRender(e,l,u,a,o,c){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return FE(e)}get material(){let e=this._derivedMaterial;const l=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=bp.clone());if((!e||!e.isDerivedFrom(l))&&(e=this._derivedMaterial=this.createDerivedMaterial(l),l.addEventListener("dispose",function u(){l.removeEventListener("dispose",u),e.dispose()})),this.hasOutline()){let u=e._outlineMtl;return u||(u=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),u.isTextOutlineMaterial=!0,u.depthWrite=!1,u.map=null,e.addEventListener("dispose",function a(){e.removeEventListener("dispose",a),u.dispose()})),[u,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Wg(this.material).getDepthMaterial()}get customDistanceMaterial(){return Wg(this.material).getDistanceMaterial()}_prepareForRender(e){const l=e.isTextOutlineMaterial,u=e.uniforms,a=this.textRenderInfo;if(a){const{sdfTexture:h,blockBounds:d}=a;u.uTroikaSDFTexture.value=h,u.uTroikaSDFTextureSize.value.set(h.image.width,h.image.height),u.uTroikaSDFGlyphSize.value=a.sdfGlyphSize,u.uTroikaSDFExponent.value=a.sdfExponent,u.uTroikaTotalBounds.value.fromArray(d),u.uTroikaUseGlyphColors.value=!l&&!!a.glyphColors;let g=0,m=0,y=0,x,S,E,P=0,R=0;if(l){let{outlineWidth:I,outlineOffsetX:L,outlineOffsetY:F,outlineBlur:D,outlineOpacity:G}=this;g=this._parsePercent(I)||0,m=Math.max(0,this._parsePercent(D)||0),x=G,P=this._parsePercent(L)||0,R=this._parsePercent(F)||0}else y=Math.max(0,this._parsePercent(this.strokeWidth)||0),y&&(E=this.strokeColor,u.uTroikaStrokeColor.value.set(E??jg),S=this.strokeOpacity,S==null&&(S=1)),x=this.fillOpacity;u.uTroikaEdgeOffset.value=g,u.uTroikaPositionOffset.value.set(P,R),u.uTroikaBlurRadius.value=m,u.uTroikaStrokeWidth.value=y,u.uTroikaStrokeOpacity.value=S,u.uTroikaFillOpacity.value=x??1,u.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)u.uTroikaClipRect.value.fromArray(A);else{const I=(this.fontSize||.1)*100;u.uTroikaClipRect.value.set(d[0]-I,d[1]-I,d[2]+I,d[3]+I)}this.geometry.applyClipRect(u.uTroikaClipRect.value)}u.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=l?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const h=e.hasOwnProperty("color")?e.color:e.color=new _a;(o!==h._input||typeof o=="object")&&h.set(h._input=o)}let c=this.orientation||Th;if(c!==e._orientation){let h=u.uTroikaOrient.value;c=c.replace(/[^-+xyz]/g,"");let d=c!==Th&&c.match(/^([-+])([xyz])([-+])([xyz])$/);if(d){let[,g,m,y,x]=d;Cf.set(0,0,0)[m]=g==="-"?1:-1,Eh.set(0,0,0)[x]=y==="-"?-1:1,Gg.lookAt(zE,Cf.cross(Eh),Eh),h.setFromMatrix4(Gg)}else h.identity();e._orientation=c}}_parsePercent(e){if(typeof e=="string"){let l=e.match(/^(-?[\d.]+)%$/),u=l?parseFloat(l[1]):NaN;e=(isNaN(u)?0:u/100)*this.fontSize}return e}localPositionToTextCoords(e,l=new ur){l.copy(e);const u=this.curveRadius;return u&&(l.x=Math.atan2(e.x,Math.abs(u)-Math.abs(e.z))*Math.abs(u)),l}worldPositionToTextCoords(e,l=new ur){return Cf.copy(e),this.localPositionToTextCoords(this.worldToLocal(Cf),l)}raycast(e,l){const{textRenderInfo:u,curveRadius:a}=this;if(u){const o=u.blockBounds,c=a?Ev():bv(),h=c.geometry,{position:d,uv:g}=h.attributes;for(let m=0;m<g.count;m++){let y=o[0]+g.getX(m)*(o[2]-o[0]);const x=o[1]+g.getY(m)*(o[3]-o[1]);let S=0;a&&(S=a-Math.cos(y/a)*a,y=Math.sin(y/a)*a),d.setXYZ(m,y,x,S)}h.boundingSphere=this.geometry.boundingSphere,h.boundingBox=this.geometry.boundingBox,c.matrixWorld=this.matrixWorld,c.material.side=this.material.side,Bu.length=0,c.raycast(e,Bu);for(let m=0;m<Bu.length;m++)Bu[m].object=this,l.push(Bu[m])}}copy(e){const l=this.geometry;return super.copy(e),this.geometry=l,GE.forEach(u=>{this[u]=e[u]}),this}clone(){return new this.constructor().copy(this)}};Tv.forEach(t=>{const e="_private_"+t;Object.defineProperty(Cv.prototype,t,{get(){return this[e]},set(l){l!==this[e]&&(this[e]=l,this._needsSync=!0)}})});new oc;new _a;const Ch=ne.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:l="middle",font:u,fontSize:a=1,children:o,characters:c,onSync:h,...d},g)=>{const m=no(({invalidate:E})=>E),[y]=ne.useState(()=>new Cv),[x,S]=ne.useMemo(()=>{const E=[];let P="";return ne.Children.forEach(o,R=>{typeof R=="string"||typeof R=="number"?P+=R:E.push(R)}),[E,P]},[o]);return GS(()=>new Promise(E=>kE({font:u,characters:c},E)),["troika-text",u,c]),ne.useLayoutEffect(()=>void y.sync(()=>{m(),h&&h(y)})),ne.useEffect(()=>()=>y.dispose(),[y]),ne.createElement("primitive",Vl({object:y,ref:g,font:u,text:S,anchorX:e,anchorY:l,fontSize:a,sdfGlyphSize:t},d),x)}),WE=ne.forwardRef(({makeDefault:t,camera:e,regress:l,domElement:u,enableDamping:a=!0,keyEvents:o=!1,onChange:c,onStart:h,onEnd:d,...g},m)=>{const y=no(G=>G.invalidate),x=no(G=>G.camera),S=no(G=>G.gl),E=no(G=>G.events),P=no(G=>G.setEvents),R=no(G=>G.set),A=no(G=>G.get),I=no(G=>G.performance),L=e||x,F=u||E.connected||S.domElement,D=ne.useMemo(()=>new Hb(L),[L]);return db(()=>{D.enabled&&D.update()},-1),ne.useEffect(()=>(o&&D.connect(o===!0?F:o),D.connect(F),()=>void D.dispose()),[o,F,l,D,y]),ne.useEffect(()=>{const G=X=>{y(),l&&I.regress(),c&&c(X)},j=X=>{h&&h(X)},W=X=>{d&&d(X)};return D.addEventListener("change",G),D.addEventListener("start",j),D.addEventListener("end",W),()=>{D.removeEventListener("start",j),D.removeEventListener("end",W),D.removeEventListener("change",G)}},[c,h,d,D,y,P]),ne.useEffect(()=>{if(t){const G=A().controls;return R({controls:D}),()=>R({controls:G})}},[t,D]),ne.createElement("primitive",Vl({ref:m,object:D,enableDamping:a},g))});class HE extends Gh{constructor(e){super(e)}load(e,l,u,a){const o=this,c=new w0(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){try{l(o.parse(h))}catch(d){a?a(d):console.error(d),o.manager.itemError(e)}},u,a)}parse(e){function l(g){const m=new DataView(g),y=32/8*3+32/8*3*3+16/8,x=m.getUint32(80,!0);if(80+32/8+x*y===m.byteLength)return!0;const E=[115,111,108,105,100];for(let P=0;P<5;P++)if(u(E,m,P))return!1;return!0}function u(g,m,y){for(let x=0,S=g.length;x<S;x++)if(g[x]!==m.getUint8(y+x))return!1;return!0}function a(g){const m=new DataView(g),y=m.getUint32(80,!0);let x,S,E,P=!1,R,A,I,L,F;for(let ie=0;ie<70;ie++)m.getUint32(ie,!1)==1129270351&&m.getUint8(ie+4)==82&&m.getUint8(ie+5)==61&&(P=!0,R=new Float32Array(y*3*3),A=m.getUint8(ie+6)/255,I=m.getUint8(ie+7)/255,L=m.getUint8(ie+8)/255,F=m.getUint8(ie+9)/255);const D=84,G=12*4+2,j=new Hf,W=new Float32Array(y*3*3),X=new Float32Array(y*3*3),K=new _a;for(let ie=0;ie<y;ie++){const V=D+ie*G,fe=m.getFloat32(V,!0),pe=m.getFloat32(V+4,!0),be=m.getFloat32(V+8,!0);if(P){const le=m.getUint16(V+48,!0);le&32768?(x=A,S=I,E=L):(x=(le&31)/31,S=(le>>5&31)/31,E=(le>>10&31)/31)}for(let le=1;le<=3;le++){const Te=V+le*12,Y=ie*3*3+(le-1)*3;W[Y]=m.getFloat32(Te,!0),W[Y+1]=m.getFloat32(Te+4,!0),W[Y+2]=m.getFloat32(Te+8,!0),X[Y]=fe,X[Y+1]=pe,X[Y+2]=be,P&&(K.setRGB(x,S,E,Wo),R[Y]=K.r,R[Y+1]=K.g,R[Y+2]=K.b)}}return j.setAttribute("position",new Zd(W,3)),j.setAttribute("normal",new Zd(X,3)),P&&(j.setAttribute("color",new Zd(R,3)),j.hasColors=!0,j.alpha=F),j}function o(g){const m=new Hf,y=/solid([\s\S]*?)endsolid/g,x=/facet([\s\S]*?)endfacet/g,S=/solid\s(.+)/;let E=0;const P=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,R=new RegExp("vertex"+P+P+P,"g"),A=new RegExp("normal"+P+P+P,"g"),I=[],L=[],F=[],D=new Nt;let G,j=0,W=0,X=0;for(;(G=y.exec(g))!==null;){W=X;const K=G[0],ie=(G=S.exec(K))!==null?G[1]:"";for(F.push(ie);(G=x.exec(K))!==null;){let pe=0,be=0;const le=G[0];for(;(G=A.exec(le))!==null;)D.x=parseFloat(G[1]),D.y=parseFloat(G[2]),D.z=parseFloat(G[3]),be++;for(;(G=R.exec(le))!==null;)I.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),L.push(D.x,D.y,D.z),pe++,X++;be!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+E),pe!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+E),E++}const V=W,fe=X-W;m.userData.groupNames=F,m.addGroup(V,fe,j),j++}return m.setAttribute("position",new wo(I,3)),m.setAttribute("normal",new wo(L,3)),m}function c(g){return typeof g!="string"?new TextDecoder().decode(g):g}function h(g){if(typeof g=="string"){const m=new Uint8Array(g.length);for(let y=0;y<g.length;y++)m[y]=g.charCodeAt(y)&255;return m.buffer||m}else return g}const d=h(e);return l(d)?a(d):o(c(e))}}class VE extends s2{constructor(e){super(e)}parse(e){function l(le){switch(le.image_type){case x:case P:if(le.colormap_length>256||le.colormap_size!==24||le.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case S:case E:case R:case A:if(le.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case y:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+le.image_type)}if(le.width<=0||le.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(le.pixel_size!==8&&le.pixel_size!==16&&le.pixel_size!==24&&le.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+le.pixel_size)}function u(le,Te,Y,Q,J){let B,Z;const ee=Y.pixel_size>>3,se=Y.width*Y.height*ee;if(Te&&(Z=J.subarray(Q,Q+=Y.colormap_length*(Y.colormap_size>>3))),le){B=new Uint8Array(se);let $,ae,ce,_e=0;const Oe=new Uint8Array(ee);for(;_e<se;)if($=J[Q++],ae=($&127)+1,$&128){for(ce=0;ce<ee;++ce)Oe[ce]=J[Q++];for(ce=0;ce<ae;++ce)B.set(Oe,_e+ce*ee);_e+=ee*ae}else{for(ae*=ee,ce=0;ce<ae;++ce)B[_e+ce]=J[Q++];_e+=ae}}else B=J.subarray(Q,Q+=Te?Y.width*Y.height:se);return{pixel_data:B,palettes:Z}}function a(le,Te,Y,Q,J,B,Z,ee,se){const $=se;let ae,ce=0,_e,Oe;const Be=K.width;for(Oe=Te;Oe!==Q;Oe+=Y)for(_e=J;_e!==Z;_e+=B,ce++)ae=ee[ce],le[(_e+Be*Oe)*4+3]=255,le[(_e+Be*Oe)*4+2]=$[ae*3+0],le[(_e+Be*Oe)*4+1]=$[ae*3+1],le[(_e+Be*Oe)*4+0]=$[ae*3+2];return le}function o(le,Te,Y,Q,J,B,Z,ee){let se,$=0,ae,ce;const _e=K.width;for(ce=Te;ce!==Q;ce+=Y)for(ae=J;ae!==Z;ae+=B,$+=2)se=ee[$+0]+(ee[$+1]<<8),le[(ae+_e*ce)*4+0]=(se&31744)>>7,le[(ae+_e*ce)*4+1]=(se&992)>>2,le[(ae+_e*ce)*4+2]=(se&31)<<3,le[(ae+_e*ce)*4+3]=se&32768?0:255;return le}function c(le,Te,Y,Q,J,B,Z,ee){let se=0,$,ae;const ce=K.width;for(ae=Te;ae!==Q;ae+=Y)for($=J;$!==Z;$+=B,se+=3)le[($+ce*ae)*4+3]=255,le[($+ce*ae)*4+2]=ee[se+0],le[($+ce*ae)*4+1]=ee[se+1],le[($+ce*ae)*4+0]=ee[se+2];return le}function h(le,Te,Y,Q,J,B,Z,ee){let se=0,$,ae;const ce=K.width;for(ae=Te;ae!==Q;ae+=Y)for($=J;$!==Z;$+=B,se+=4)le[($+ce*ae)*4+2]=ee[se+0],le[($+ce*ae)*4+1]=ee[se+1],le[($+ce*ae)*4+0]=ee[se+2],le[($+ce*ae)*4+3]=ee[se+3];return le}function d(le,Te,Y,Q,J,B,Z,ee){let se,$=0,ae,ce;const _e=K.width;for(ce=Te;ce!==Q;ce+=Y)for(ae=J;ae!==Z;ae+=B,$++)se=ee[$],le[(ae+_e*ce)*4+0]=se,le[(ae+_e*ce)*4+1]=se,le[(ae+_e*ce)*4+2]=se,le[(ae+_e*ce)*4+3]=255;return le}function g(le,Te,Y,Q,J,B,Z,ee){let se=0,$,ae;const ce=K.width;for(ae=Te;ae!==Q;ae+=Y)for($=J;$!==Z;$+=B,se+=2)le[($+ce*ae)*4+0]=ee[se+0],le[($+ce*ae)*4+1]=ee[se+0],le[($+ce*ae)*4+2]=ee[se+0],le[($+ce*ae)*4+3]=ee[se+1];return le}function m(le,Te,Y,Q,J){let B,Z,ee,se,$,ae;switch((K.flags&I)>>L){default:case G:B=0,ee=1,$=Te,Z=0,se=1,ae=Y;break;case F:B=0,ee=1,$=Te,Z=Y-1,se=-1,ae=-1;break;case j:B=Te-1,ee=-1,$=-1,Z=0,se=1,ae=Y;break;case D:B=Te-1,ee=-1,$=-1,Z=Y-1,se=-1,ae=-1;break}if(fe)switch(K.pixel_size){case 8:d(le,Z,se,ae,B,ee,$,Q);break;case 16:g(le,Z,se,ae,B,ee,$,Q);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(K.pixel_size){case 8:a(le,Z,se,ae,B,ee,$,Q,J);break;case 16:o(le,Z,se,ae,B,ee,$,Q);break;case 24:c(le,Z,se,ae,B,ee,$,Q);break;case 32:h(le,Z,se,ae,B,ee,$,Q);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return le}const y=0,x=1,S=2,E=3,P=9,R=10,A=11,I=48,L=4,F=0,D=1,G=2,j=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let W=0;const X=new Uint8Array(e),K={id_length:X[W++],colormap_type:X[W++],image_type:X[W++],colormap_index:X[W++]|X[W++]<<8,colormap_length:X[W++]|X[W++]<<8,colormap_size:X[W++],origin:[X[W++]|X[W++]<<8,X[W++]|X[W++]<<8],width:X[W++]|X[W++]<<8,height:X[W++]|X[W++]<<8,pixel_size:X[W++],flags:X[W++]};if(l(K),K.id_length+W>e.length)throw new Error("THREE.TGALoader: No data.");W+=K.id_length;let ie=!1,V=!1,fe=!1;switch(K.image_type){case P:ie=!0,V=!0;break;case x:V=!0;break;case R:ie=!0;break;case S:break;case A:ie=!0,fe=!0;break;case E:fe=!0;break}const pe=new Uint8Array(K.width*K.height*4),be=u(ie,V,K,W,X);return m(pe,K.width,K.height,be.pixel_data,be.palettes),{data:pe,width:K.width,height:K.height,flipY:!0,generateMipmaps:!0,minFilter:l2}}}class YE extends Gh{load(e,l,u,a){const o=this,c=o.path===""?x0.extractUrlBase(e):o.path,h=new w0(o.manager);h.setPath(o.path),h.setRequestHeader(o.requestHeader),h.setWithCredentials(o.withCredentials),h.load(e,function(d){try{l(o.parse(d,c))}catch(g){a?a(g):console.error(g),o.manager.itemError(e)}},u,a)}parse(e,l){function u(C,T){const U=[],O=C.childNodes;for(let N=0,ve=O.length;N<ve;N++){const me=O[N];me.nodeName===T&&U.push(me)}return U}function a(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let O=0,N=T.length;O<N;O++)U[O]=T[O];return U}function o(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let O=0,N=T.length;O<N;O++)U[O]=parseFloat(T[O]);return U}function c(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let O=0,N=T.length;O<N;O++)U[O]=parseInt(T[O]);return U}function h(C){return C.substring(1)}function d(){return"three_default_"+gr++}function g(C){return Object.keys(C).length===0}function m(C){return{unit:y(u(C,"unit")[0]),upAxis:x(u(C,"up_axis")[0])}}function y(C){return C!==void 0&&C.hasAttribute("meter")===!0?parseFloat(C.getAttribute("meter")):1}function x(C){return C!==void 0?C.textContent:"Y_UP"}function S(C,T,U,O){const N=u(C,T)[0];if(N!==void 0){const ve=u(N,U);for(let me=0;me<ve.length;me++)O(ve[me])}}function E(C,T){for(const U in C){const O=C[U];O.build=T(C[U])}}function P(C,T){return C.build!==void 0||(C.build=T(C)),C.build}function R(C){const T={sources:{},samplers:{},channels:{}};let U=!1;for(let O=0,N=C.childNodes.length;O<N;O++){const ve=C.childNodes[O];if(ve.nodeType!==1)continue;let me;switch(ve.nodeName){case"source":me=ve.getAttribute("id"),T.sources[me]=Mt(ve);break;case"sampler":me=ve.getAttribute("id"),T.samplers[me]=A(ve);break;case"channel":me=ve.getAttribute("target"),T.channels[me]=I(ve);break;case"animation":R(ve),U=!0;break;default:console.log(ve)}}U===!1&&(vt.animations[C.getAttribute("id")||Ol.generateUUID()]=T)}function A(C){const T={inputs:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=h(N.getAttribute("source")),me=N.getAttribute("semantic");T.inputs[me]=ve;break}}return T}function I(C){const T={};let O=C.getAttribute("target").split("/");const N=O.shift();let ve=O.shift();const me=ve.indexOf("(")!==-1,Ye=ve.indexOf(".")!==-1;if(Ye)O=ve.split("."),ve=O.shift(),T.member=O.shift();else if(me){const Ue=ve.split("(");ve=Ue.shift();for(let Fe=0;Fe<Ue.length;Fe++)Ue[Fe]=parseInt(Ue[Fe].replace(/\)/,""));T.indices=Ue}return T.id=N,T.sid=ve,T.arraySyntax=me,T.memberSyntax=Ye,T.sampler=h(C.getAttribute("source")),T}function L(C){const T=[],U=C.channels,O=C.samplers,N=C.sources;for(const ve in U)if(U.hasOwnProperty(ve)){const me=U[ve],Ye=O[me.sampler],Ue=Ye.inputs.INPUT,Fe=Ye.inputs.OUTPUT,ut=N[Ue],Le=N[Fe],De=D(me,ut,Le);K(De,T)}return T}function F(C){return P(vt.animations[C],L)}function D(C,T,U){const O=vt.nodes[C.id],N=$t(O.id),ve=O.transforms[C.sid],me=O.matrix.clone().transpose();let Ye,Ue,Fe,ut,Le,De;const Je={};switch(ve){case"matrix":for(Fe=0,ut=T.array.length;Fe<ut;Fe++)if(Ye=T.array[Fe],Ue=Fe*U.stride,Je[Ye]===void 0&&(Je[Ye]={}),C.arraySyntax===!0){const fn=U.array[Ue],Qt=C.indices[0]+4*C.indices[1];Je[Ye][Qt]=fn}else for(Le=0,De=U.stride;Le<De;Le++)Je[Ye][Le]=U.array[Ue+Le];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break}const _t=G(Je,me);return{name:N.uuid,keyframes:_t}}function G(C,T){const U=[];for(const N in C)U.push({time:parseFloat(N),value:C[N]});U.sort(O);for(let N=0;N<16;N++)ie(U,N,T.elements[N]);return U;function O(N,ve){return N.time-ve.time}}const j=new Nt,W=new Nt,X=new Zu;function K(C,T){const U=C.keyframes,O=C.name,N=[],ve=[],me=[],Ye=[];for(let Ue=0,Fe=U.length;Ue<Fe;Ue++){const ut=U[Ue],Le=ut.time,De=ut.value;Ln.fromArray(De).transpose(),Ln.decompose(j,X,W),N.push(Le),ve.push(j.x,j.y,j.z),me.push(X.x,X.y,X.z,X.w),Ye.push(W.x,W.y,W.z)}return ve.length>0&&T.push(new Lm(O+".position",N,ve)),me.length>0&&T.push(new u2(O+".quaternion",N,me)),Ye.length>0&&T.push(new Lm(O+".scale",N,Ye)),T}function ie(C,T,U){let O,N=!0,ve,me;for(ve=0,me=C.length;ve<me;ve++)O=C[ve],O.value[T]===void 0?O.value[T]=null:N=!1;if(N===!0)for(ve=0,me=C.length;ve<me;ve++)O=C[ve],O.value[T]=U;else V(C,T)}function V(C,T){let U,O;for(let N=0,ve=C.length;N<ve;N++){const me=C[N];if(me.value[T]===null){if(U=fe(C,N,T),O=pe(C,N,T),U===null){me.value[T]=O.value[T];continue}if(O===null){me.value[T]=U.value[T];continue}be(me,U,O,T)}}}function fe(C,T,U){for(;T>=0;){const O=C[T];if(O.value[U]!==null)return O;T--}return null}function pe(C,T,U){for(;T<C.length;){const O=C[T];if(O.value[U]!==null)return O;T++}return null}function be(C,T,U,O){if(U.time-T.time===0){C.value[O]=T.value[O];return}C.value[O]=(C.time-T.time)*(U.value[O]-T.value[O])/(U.time-T.time)+T.value[O]}function le(C){const T={name:C.getAttribute("id")||"default",start:parseFloat(C.getAttribute("start")||0),end:parseFloat(C.getAttribute("end")||0),animations:[]};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"instance_animation":T.animations.push(h(N.getAttribute("url")));break}}vt.clips[C.getAttribute("id")]=T}function Te(C){const T=[],U=C.name,O=C.end-C.start||-1,N=C.animations;for(let ve=0,me=N.length;ve<me;ve++){const Ye=F(N[ve]);for(let Ue=0,Fe=Ye.length;Ue<Fe;Ue++)T.push(Ye[Ue])}return new Pm(U,O,T)}function Y(C){return P(vt.clips[C],Te)}function Q(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"skin":T.id=h(N.getAttribute("source")),T.skin=J(N);break;case"morph":T.id=h(N.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}vt.controllers[C.getAttribute("id")]=T}function J(C){const T={sources:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"bind_shape_matrix":T.bindShapeMatrix=o(N.textContent);break;case"source":const ve=N.getAttribute("id");T.sources[ve]=Mt(N);break;case"joints":T.joints=B(N);break;case"vertex_weights":T.vertexWeights=Z(N);break}}return T}function B(C){const T={inputs:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=N.getAttribute("semantic"),me=h(N.getAttribute("source"));T.inputs[ve]=me;break}}return T}function Z(C){const T={inputs:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=N.getAttribute("semantic"),me=h(N.getAttribute("source")),Ye=parseInt(N.getAttribute("offset"));T.inputs[ve]={id:me,offset:Ye};break;case"vcount":T.vcount=c(N.textContent);break;case"v":T.v=c(N.textContent);break}}return T}function ee(C){const T={id:C.id},U=vt.geometries[T.id];return C.skin!==void 0&&(T.skin=se(C.skin),U.sources.skinIndices=T.skin.indices,U.sources.skinWeights=T.skin.weights),T}function se(C){const U={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},O=C.sources,N=C.vertexWeights,ve=N.vcount,me=N.v,Ye=N.inputs.JOINT.offset,Ue=N.inputs.WEIGHT.offset,Fe=C.sources[C.joints.inputs.JOINT],ut=C.sources[C.joints.inputs.INV_BIND_MATRIX],Le=O[N.inputs.WEIGHT.id].array;let De=0,Je,_t,Ke;for(Je=0,Ke=ve.length;Je<Ke;Je++){const Qt=ve[Je],Ut=[];for(_t=0;_t<Qt;_t++){const dt=me[De+Ye],Jt=me[De+Ue],dn=Le[Jt];Ut.push({index:dt,weight:dn}),De+=2}for(Ut.sort(fn),_t=0;_t<4;_t++){const dt=Ut[_t];dt!==void 0?(U.indices.array.push(dt.index),U.weights.array.push(dt.weight)):(U.indices.array.push(0),U.weights.array.push(0))}}for(C.bindShapeMatrix?U.bindMatrix=new Bi().fromArray(C.bindShapeMatrix).transpose():U.bindMatrix=new Bi().identity(),Je=0,Ke=Fe.array.length;Je<Ke;Je++){const Qt=Fe.array[Je],Ut=new Bi().fromArray(ut.array,Je*ut.stride).transpose();U.joints.push({name:Qt,boneInverse:Ut})}return U;function fn(Qt,Ut){return Ut.weight-Qt.weight}}function $(C){return P(vt.controllers[C],ee)}function ae(C){const T={init_from:u(C,"init_from")[0].textContent};vt.images[C.getAttribute("id")]=T}function ce(C){return C.build!==void 0?C.build:C.init_from}function _e(C){const T=vt.images[C];return T!==void 0?P(T,ce):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",C),null)}function Oe(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"profile_COMMON":T.profile=Be(N);break}}vt.effects[C.getAttribute("id")]=T}function Be(C){const T={surfaces:{},samplers:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"newparam":Pe(N,T);break;case"technique":T.technique=ot(N);break;case"extra":T.extra=He(N);break}}return T}function Pe(C,T){const U=C.getAttribute("sid");for(let O=0,N=C.childNodes.length;O<N;O++){const ve=C.childNodes[O];if(ve.nodeType===1)switch(ve.nodeName){case"surface":T.surfaces[U]=Ce(ve);break;case"sampler2D":T.samplers[U]=ht(ve);break}}}function Ce(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"init_from":T.init_from=N.textContent;break}}return T}function ht(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"source":T.source=N.textContent;break}}return T}function ot(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"constant":case"lambert":case"blinn":case"phong":T.type=N.nodeName,T.parameters=Ve(N);break;case"extra":T.extra=He(N);break}}return T}function Ve(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":T[N.nodeName]=st(N);break;case"transparent":T[N.nodeName]={opaque:N.hasAttribute("opaque")?N.getAttribute("opaque"):"A_ONE",data:st(N)};break}}return T}function st(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"color":T[N.nodeName]=o(N.textContent);break;case"float":T[N.nodeName]=parseFloat(N.textContent);break;case"texture":T[N.nodeName]={id:N.getAttribute("texture"),extra:et(N)};break}}return T}function et(C){const T={technique:{}};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"extra":Me(N,T);break}}return T}function Me(C,T){for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique":lt(N,T);break}}}function lt(C,T){for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":T.technique[N.nodeName]=parseFloat(N.textContent);break;case"wrapU":case"wrapV":N.textContent.toUpperCase()==="TRUE"?T.technique[N.nodeName]=1:N.textContent.toUpperCase()==="FALSE"?T.technique[N.nodeName]=0:T.technique[N.nodeName]=parseInt(N.textContent);break;case"bump":T[N.nodeName]=xt(N);break}}}function He(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique":T.technique=Ee(N);break}}return T}function Ee(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"double_sided":T[N.nodeName]=parseInt(N.textContent);break;case"bump":T[N.nodeName]=xt(N);break}}return T}function xt(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"texture":T[N.nodeName]={id:N.getAttribute("texture"),texcoord:N.getAttribute("texcoord"),extra:et(N)};break}}return T}function je(C){return C}function Qe(C){return P(vt.effects[C],je)}function ze(C){const T={name:C.getAttribute("name")};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"instance_effect":T.url=h(N.getAttribute("url"));break}}vt.materials[C.getAttribute("id")]=T}function Zt(C){let T,U=C.slice((C.lastIndexOf(".")-1>>>0)+2);switch(U=U.toLowerCase(),U){case"tga":T=Ei;break;default:T=bi}return T}function tt(C){const T=Qe(C.url),U=T.profile.technique;let O;switch(U.type){case"phong":case"blinn":O=new Xu;break;case"lambert":O=new c2;break;default:O=new jh;break}O.name=C.name||"";function N(Ue,Fe=null){const ut=T.profile.samplers[Ue.id];let Le=null;if(ut!==void 0){const De=T.profile.surfaces[ut.source];Le=_e(De.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),Le=_e(Ue.id);if(Le!==null){const De=Zt(Le);if(De!==void 0){const Je=De.load(Le),_t=Ue.extra;if(_t!==void 0&&_t.technique!==void 0&&g(_t.technique)===!1){const Ke=_t.technique;Je.wrapS=Ke.wrapU?pf:Mm,Je.wrapT=Ke.wrapV?pf:Mm,Je.offset.set(Ke.offsetU||0,Ke.offsetV||0),Je.repeat.set(Ke.repeatU||1,Ke.repeatV||1)}else Je.wrapS=pf,Je.wrapT=pf;return Fe!==null&&(Je.colorSpace=Fe),Je}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",Le),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",Ue.id),null}const ve=U.parameters;for(const Ue in ve){const Fe=ve[Ue];switch(Ue){case"diffuse":Fe.color&&O.color.fromArray(Fe.color),Fe.texture&&(O.map=N(Fe.texture,Wo));break;case"specular":Fe.color&&O.specular&&O.specular.fromArray(Fe.color),Fe.texture&&(O.specularMap=N(Fe.texture));break;case"bump":Fe.texture&&(O.normalMap=N(Fe.texture));break;case"ambient":Fe.texture&&(O.lightMap=N(Fe.texture,Wo));break;case"shininess":Fe.float&&O.shininess&&(O.shininess=Fe.float);break;case"emission":Fe.color&&O.emissive&&O.emissive.fromArray(Fe.color),Fe.texture&&(O.emissiveMap=N(Fe.texture,Wo));break}}hf.toWorkingColorSpace(O.color,Wo),O.specular&&hf.toWorkingColorSpace(O.specular,Wo),O.emissive&&hf.toWorkingColorSpace(O.emissive,Wo);let me=ve.transparent,Ye=ve.transparency;if(Ye===void 0&&me&&(Ye={float:1}),me===void 0&&Ye&&(me={opaque:"A_ONE",data:{color:[1,1,1,1]}}),me&&Ye)if(me.data.texture)O.transparent=!0;else{const Ue=me.data.color;switch(me.opaque){case"A_ONE":O.opacity=Ue[3]*Ye.float;break;case"RGB_ZERO":O.opacity=1-Ue[0]*Ye.float;break;case"A_ZERO":O.opacity=1-Ue[3]*Ye.float;break;case"RGB_ONE":O.opacity=Ue[0]*Ye.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',me.opaque)}O.opacity<1&&(O.transparent=!0)}if(U.extra!==void 0&&U.extra.technique!==void 0){const Ue=U.extra.technique;for(const Fe in Ue){const ut=Ue[Fe];switch(Fe){case"double_sided":O.side=ut===1?_0:f2;break;case"bump":O.normalMap=N(ut.texture),O.normalScale=new ur(1,1);break}}}return O}function nt(C){return P(vt.materials[C],tt)}function gt(C){const T={name:C.getAttribute("name")};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"optics":T.optics=Ct(N);break}}vt.cameras[C.getAttribute("id")]=T}function Ct(C){for(let T=0;T<C.childNodes.length;T++){const U=C.childNodes[T];switch(U.nodeName){case"technique_common":return en(U)}}return{}}function en(C){const T={};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];switch(O.nodeName){case"perspective":case"orthographic":T.technique=O.nodeName,T.parameters=un(O);break}}return T}function un(C){const T={};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];switch(O.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":T[O.nodeName]=parseFloat(O.textContent);break}}return T}function It(C){let T;switch(C.optics.technique){case"perspective":T=new zl(C.optics.parameters.yfov,C.optics.parameters.aspect_ratio,C.optics.parameters.znear,C.optics.parameters.zfar);break;case"orthographic":let U=C.optics.parameters.ymag,O=C.optics.parameters.xmag;const N=C.optics.parameters.aspect_ratio;O=O===void 0?U*N:O,U=U===void 0?O/N:U,O*=.5,U*=.5,T=new Ju(-O,O,U,-U,C.optics.parameters.znear,C.optics.parameters.zfar);break;default:T=new zl;break}return T.name=C.name||"",T}function Ot(C){const T=vt.cameras[C];return T!==void 0?P(T,It):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",C),null)}function ct(C){let T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique_common":T=oe(N);break}}vt.lights[C.getAttribute("id")]=T}function oe(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"directional":case"point":case"spot":case"ambient":T.technique=N.nodeName,T.parameters=Re(N)}}return T}function Re(C){const T={};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"color":const ve=o(N.textContent);T.color=new _a().fromArray(ve),hf.toWorkingColorSpace(T.color,Wo);break;case"falloff_angle":T.falloffAngle=parseFloat(N.textContent);break;case"quadratic_attenuation":const me=parseFloat(N.textContent);T.distance=me?Math.sqrt(1/me):0;break}}return T}function rt(C){let T;switch(C.technique){case"directional":T=new m2;break;case"point":T=new p2;break;case"spot":T=new h2;break;case"ambient":T=new d2;break}return C.parameters.color&&T.color.copy(C.parameters.color),C.parameters.distance&&(T.distance=C.parameters.distance),T}function ft(C){const T=vt.lights[C];return T!==void 0?P(T,rt):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",C),null)}function Ze(C){const T={name:C.getAttribute("name"),sources:{},vertices:{},primitives:[]},U=u(C,"mesh")[0];if(U!==void 0){for(let O=0;O<U.childNodes.length;O++){const N=U.childNodes[O];if(N.nodeType!==1)continue;const ve=N.getAttribute("id");switch(N.nodeName){case"source":T.sources[ve]=Mt(N);break;case"vertices":T.vertices=Pn(N);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",N.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":T.primitives.push(on(N));break;default:console.log(N)}}vt.geometries[C.getAttribute("id")]=T}}function Mt(C){const T={array:[],stride:3};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"float_array":T.array=o(O.textContent);break;case"Name_array":T.array=a(O.textContent);break;case"technique_common":const N=u(O,"accessor")[0];N!==void 0&&(T.stride=parseInt(N.getAttribute("stride")));break}}return T}function Pn(C){const T={};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];O.nodeType===1&&(T[O.getAttribute("semantic")]=h(O.getAttribute("source")))}return T}function on(C){const T={type:C.nodeName,material:C.getAttribute("material"),count:parseInt(C.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let U=0,O=C.childNodes.length;U<O;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=h(N.getAttribute("source")),me=N.getAttribute("semantic"),Ye=parseInt(N.getAttribute("offset")),Ue=parseInt(N.getAttribute("set")),Fe=Ue>0?me+Ue:me;T.inputs[Fe]={id:ve,offset:Ye},T.stride=Math.max(T.stride,Ye+1),me==="TEXCOORD"&&(T.hasUV=!0);break;case"vcount":T.vcount=c(N.textContent);break;case"p":T.p=c(N.textContent);break}}return T}function Ft(C){const T={};for(let U=0;U<C.length;U++){const O=C[U];T[O.type]===void 0&&(T[O.type]=[]),T[O.type].push(O)}return T}function tn(C){let T=0;for(let U=0,O=C.length;U<O;U++)C[U].hasUV===!0&&T++;T>0&&T<C.length&&(C.uvsNeedsFix=!0)}function Yt(C){const T={},U=C.sources,O=C.vertices,N=C.primitives;if(N.length===0)return{};const ve=Ft(N);for(const me in ve){const Ye=ve[me];tn(Ye),T[me]=St(Ye,U,O)}return T}function St(C,T,U){const O={},N={array:[],stride:0},ve={array:[],stride:0},me={array:[],stride:0},Ye={array:[],stride:0},Ue={array:[],stride:0},Fe={array:[],stride:4},ut={array:[],stride:4},Le=new Hf,De=[];let Je=0;for(let _t=0;_t<C.length;_t++){const Ke=C[_t],fn=Ke.inputs;let Qt=0;switch(Ke.type){case"lines":case"linestrips":Qt=Ke.count*2;break;case"triangles":Qt=Ke.count*3;break;case"polylist":for(let Ut=0;Ut<Ke.count;Ut++){const dt=Ke.vcount[Ut];switch(dt){case 3:Qt+=3;break;case 4:Qt+=6;break;default:Qt+=(dt-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Ke.type)}Le.addGroup(Je,Qt,_t),Je+=Qt,Ke.material&&De.push(Ke.material);for(const Ut in fn){const dt=fn[Ut];switch(Ut){case"VERTEX":for(const Jt in U){const dn=U[Jt];switch(Jt){case"POSITION":const In=N.array.length;if(Dt(Ke,T[dn],dt.offset,N.array),N.stride=T[dn].stride,T.skinWeights&&T.skinIndices&&(Dt(Ke,T.skinIndices,dt.offset,Fe.array),Dt(Ke,T.skinWeights,dt.offset,ut.array)),Ke.hasUV===!1&&C.uvsNeedsFix===!0){const pi=(N.array.length-In)/N.stride;for(let Mr=0;Mr<pi;Mr++)me.array.push(0,0)}break;case"NORMAL":Dt(Ke,T[dn],dt.offset,ve.array),ve.stride=T[dn].stride;break;case"COLOR":Dt(Ke,T[dn],dt.offset,Ue.array),Ue.stride=T[dn].stride;break;case"TEXCOORD":Dt(Ke,T[dn],dt.offset,me.array),me.stride=T[dn].stride;break;case"TEXCOORD1":Dt(Ke,T[dn],dt.offset,Ye.array),me.stride=T[dn].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Jt)}}break;case"NORMAL":Dt(Ke,T[dt.id],dt.offset,ve.array),ve.stride=T[dt.id].stride;break;case"COLOR":Dt(Ke,T[dt.id],dt.offset,Ue.array,!0),Ue.stride=T[dt.id].stride;break;case"TEXCOORD":Dt(Ke,T[dt.id],dt.offset,me.array),me.stride=T[dt.id].stride;break;case"TEXCOORD1":Dt(Ke,T[dt.id],dt.offset,Ye.array),Ye.stride=T[dt.id].stride;break}}}return N.array.length>0&&Le.setAttribute("position",new wo(N.array,N.stride)),ve.array.length>0&&Le.setAttribute("normal",new wo(ve.array,ve.stride)),Ue.array.length>0&&Le.setAttribute("color",new wo(Ue.array,Ue.stride)),me.array.length>0&&Le.setAttribute("uv",new wo(me.array,me.stride)),Ye.array.length>0&&Le.setAttribute("uv1",new wo(Ye.array,Ye.stride)),Fe.array.length>0&&Le.setAttribute("skinIndex",new wo(Fe.array,Fe.stride)),ut.array.length>0&&Le.setAttribute("skinWeight",new wo(ut.array,ut.stride)),O.data=Le,O.type=C[0].type,O.materialKeys=De,O}function Dt(C,T,U,O,N=!1){const ve=C.p,me=C.stride,Ye=C.vcount;function Ue(Le){let De=ve[Le+U]*ut;const Je=De+ut;for(;De<Je;De++)O.push(Fe[De]);if(N){const _t=O.length-ut-1;Wi.setRGB(O[_t+0],O[_t+1],O[_t+2],Wo),O[_t+0]=Wi.r,O[_t+1]=Wi.g,O[_t+2]=Wi.b}}const Fe=T.array,ut=T.stride;if(C.vcount!==void 0){let Le=0;for(let De=0,Je=Ye.length;De<Je;De++){const _t=Ye[De];if(_t===4){const Ke=Le+me*0,fn=Le+me*1,Qt=Le+me*2,Ut=Le+me*3;Ue(Ke),Ue(fn),Ue(Ut),Ue(fn),Ue(Qt),Ue(Ut)}else if(_t===3){const Ke=Le+me*0,fn=Le+me*1,Qt=Le+me*2;Ue(Ke),Ue(fn),Ue(Qt)}else if(_t>4)for(let Ke=1,fn=_t-2;Ke<=fn;Ke++){const Qt=Le+me*0,Ut=Le+me*Ke,dt=Le+me*(Ke+1);Ue(Qt),Ue(Ut),Ue(dt)}Le+=me*_t}}else for(let Le=0,De=ve.length;Le<De;Le+=me)Ue(Le)}function gn(C){return P(vt.geometries[C],Yt)}function _n(C){const T={name:C.getAttribute("name")||"",joints:{},links:[]};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"technique_common":Lr(O,T);break}}vt.kinematicsModels[C.getAttribute("id")]=T}function wn(C){return C.build!==void 0?C.build:C}function Pr(C){return P(vt.kinematicsModels[C],wn)}function Lr(C,T){for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"joint":T.joints[O.getAttribute("sid")]=Ir(O);break;case"link":T.links.push(fr(O));break}}}function Ir(C){let T;for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"prismatic":case"revolute":T=ci(O);break}}return T}function ci(C){const T={sid:C.getAttribute("sid"),name:C.getAttribute("name")||"",axis:new Nt,limits:{min:0,max:0},type:C.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"axis":const N=o(O.textContent);T.axis.fromArray(N);break;case"limits":const ve=O.getElementsByTagName("max")[0],me=O.getElementsByTagName("min")[0];T.limits.max=parseFloat(ve.textContent),T.limits.min=parseFloat(me.textContent);break}}return T.limits.min>=T.limits.max&&(T.static=!0),T.middlePosition=(T.limits.min+T.limits.max)/2,T}function fr(C){const T={sid:C.getAttribute("sid"),name:C.getAttribute("name")||"",attachments:[],transforms:[]};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"attachment_full":T.attachments.push(Qr(O));break;case"matrix":case"translate":case"rotate":T.transforms.push(Gn(O));break}}return T}function Qr(C){const T={joint:C.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"link":T.links.push(fr(O));break;case"matrix":case"translate":case"rotate":T.transforms.push(Gn(O));break}}return T}function Gn(C){const T={type:C.nodeName},U=o(C.textContent);switch(T.type){case"matrix":T.obj=new Bi,T.obj.fromArray(U).transpose();break;case"translate":T.obj=new Nt,T.obj.fromArray(U);break;case"rotate":T.obj=new Nt,T.obj.fromArray(U),T.angle=Ol.degToRad(U[3]);break}return T}function Si(C){const T={name:C.getAttribute("name")||"",rigidBodies:{}};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"rigid_body":T.rigidBodies[O.getAttribute("name")]={},Sa(O,T.rigidBodies[O.getAttribute("name")]);break}}vt.physicsModels[C.getAttribute("id")]=T}function Sa(C,T){for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"technique_common":qo(O,T);break}}}function qo(C,T){for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"inertia":T.inertia=o(O.textContent);break;case"mass":T.mass=o(O.textContent)[0];break}}}function ba(C){const T={bindJointAxis:[]};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"bind_joint_axis":T.bindJointAxis.push(Ea(O));break}}vt.kinematicsScenes[h(C.getAttribute("url"))]=T}function Ea(C){const T={target:C.getAttribute("target").split("/").pop()};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType===1)switch(O.nodeName){case"axis":const N=O.getElementsByTagName("param")[0];T.axis=N.textContent;const ve=T.axis.split("inst_").pop().split("axis")[0];T.jointIndex=ve.substring(0,ve.length-1);break}}return T}function oo(C){return C.build!==void 0?C.build:C}function Ko(C){return P(vt.kinematicsScenes[C],oo)}function as(){const C=Object.keys(vt.kinematicsModels)[0],T=Object.keys(vt.kinematicsScenes)[0],U=Object.keys(vt.visualScenes)[0];if(C===void 0||T===void 0)return;const O=Pr(C),N=Ko(T),ve=Vr(U),me=N.bindJointAxis,Ye={};for(let ut=0,Le=me.length;ut<Le;ut++){const De=me[ut],Je=vn.querySelector('[sid="'+De.target+'"]');if(Je){const _t=Je.parentElement;Ue(De.jointIndex,_t)}}function Ue(ut,Le){const De=Le.getAttribute("name"),Je=O.joints[ut];ve.traverse(function(_t){_t.name===De&&(Ye[ut]={object:_t,transforms:Ta(Le),joint:Je,position:Je.zeroPosition})})}const Fe=new Bi;Jr={joints:O&&O.joints,getJointValue:function(ut){const Le=Ye[ut];if(Le)return Le.position;console.warn("THREE.ColladaLoader: Joint "+ut+" doesn't exist.")},setJointValue:function(ut,Le){const De=Ye[ut];if(De){const Je=De.joint;if(Le>Je.limits.max||Le<Je.limits.min)console.warn("THREE.ColladaLoader: Joint "+ut+" value "+Le+" outside of limits (min: "+Je.limits.min+", max: "+Je.limits.max+").");else if(Je.static)console.warn("THREE.ColladaLoader: Joint "+ut+" is static.");else{const _t=De.object,Ke=Je.axis,fn=De.transforms;Ln.identity();for(let Qt=0;Qt<fn.length;Qt++){const Ut=fn[Qt];if(Ut.sid&&Ut.sid.indexOf(ut)!==-1)switch(Je.type){case"revolute":Ln.multiply(Fe.makeRotationAxis(Ke,Ol.degToRad(Le)));break;case"prismatic":Ln.multiply(Fe.makeTranslation(Ke.x*Le,Ke.y*Le,Ke.z*Le));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Je.type);break}else switch(Ut.type){case"matrix":Ln.multiply(Ut.obj);break;case"translate":Ln.multiply(Fe.makeTranslation(Ut.obj.x,Ut.obj.y,Ut.obj.z));break;case"scale":Ln.scale(Ut.obj);break;case"rotate":Ln.multiply(Fe.makeRotationAxis(Ut.obj,Ut.angle));break}}_t.matrix.copy(Ln),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale),Ye[ut].position=Le}}else console.log("THREE.ColladaLoader: "+ut+" does not exist.")}}}function Ta(C){const T=[],U=vn.querySelector('[id="'+C.id+'"]');for(let O=0;O<U.childNodes.length;O++){const N=U.childNodes[O];if(N.nodeType!==1)continue;let ve,me;switch(N.nodeName){case"matrix":ve=o(N.textContent);const Ye=new Bi().fromArray(ve).transpose();T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:Ye});break;case"translate":case"scale":ve=o(N.textContent),me=new Nt().fromArray(ve),T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:me});break;case"rotate":ve=o(N.textContent),me=new Nt().fromArray(ve);const Ue=Ol.degToRad(ve[3]);T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:me,angle:Ue});break}}return T}function bo(C){const T=C.getElementsByTagName("node");for(let U=0;U<T.length;U++){const O=T[U];O.hasAttribute("id")===!1&&O.setAttribute("id",d())}}const Ln=new Bi,fi=new Nt;function it(C){const T={name:C.getAttribute("name")||"",type:C.getAttribute("type"),id:C.getAttribute("id"),sid:C.getAttribute("sid"),matrix:new Bi,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];if(O.nodeType!==1)continue;let N;switch(O.nodeName){case"node":T.nodes.push(O.getAttribute("id")),it(O);break;case"instance_camera":T.instanceCameras.push(h(O.getAttribute("url")));break;case"instance_controller":T.instanceControllers.push(Hr(O));break;case"instance_light":T.instanceLights.push(h(O.getAttribute("url")));break;case"instance_geometry":T.instanceGeometries.push(Hr(O));break;case"instance_node":T.instanceNodes.push(h(O.getAttribute("url")));break;case"matrix":N=o(O.textContent),T.matrix.multiply(Ln.fromArray(N).transpose()),T.transforms[O.getAttribute("sid")]=O.nodeName;break;case"translate":N=o(O.textContent),fi.fromArray(N),T.matrix.multiply(Ln.makeTranslation(fi.x,fi.y,fi.z)),T.transforms[O.getAttribute("sid")]=O.nodeName;break;case"rotate":N=o(O.textContent);const ve=Ol.degToRad(N[3]);T.matrix.multiply(Ln.makeRotationAxis(fi.fromArray(N),ve)),T.transforms[O.getAttribute("sid")]=O.nodeName;break;case"scale":N=o(O.textContent),T.matrix.scale(fi.fromArray(N)),T.transforms[O.getAttribute("sid")]=O.nodeName;break;case"extra":break;default:console.log(O)}}return an(T.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",T.id):vt.nodes[T.id]=T,T}function Hr(C){const T={id:h(C.getAttribute("url")),materials:{},skeletons:[]};for(let U=0;U<C.childNodes.length;U++){const O=C.childNodes[U];switch(O.nodeName){case"bind_material":const N=O.getElementsByTagName("instance_material");for(let ve=0;ve<N.length;ve++){const me=N[ve],Ye=me.getAttribute("symbol"),Ue=me.getAttribute("target");T.materials[Ye]=h(Ue)}break;case"skeleton":T.skeletons.push(h(O.textContent));break}}return T}function Qo(C,T){const U=[],O=[];let N,ve,me;for(N=0;N<C.length;N++){const Fe=C[N];let ut;if(an(Fe))ut=$t(Fe),Zr(ut,T,U);else if(Nn(Fe)){const De=vt.visualScenes[Fe].children;for(let Je=0;Je<De.length;Je++){const _t=De[Je];if(_t.type==="JOINT"){const Ke=$t(_t.id);Zr(Ke,T,U)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",Fe)}for(N=0;N<T.length;N++)for(ve=0;ve<U.length;ve++)if(me=U[ve],me.bone.name===T[N].name){O[N]=me,me.processed=!0;break}for(N=0;N<U.length;N++)me=U[N],me.processed===!1&&(O.push(me),me.processed=!0);const Ye=[],Ue=[];for(N=0;N<O.length;N++)me=O[N],Ye.push(me.bone),Ue.push(me.boneInverse);return new w2(Ye,Ue)}function Zr(C,T,U){C.traverse(function(O){if(O.isBone===!0){let N;for(let ve=0;ve<T.length;ve++){const me=T[ve];if(me.name===O.name){N=me.boneInverse;break}}N===void 0&&(N=new Bi),U.push({bone:O,boneInverse:N,processed:!1})}})}function ao(C){const T=[],U=C.matrix,O=C.nodes,N=C.type,ve=C.instanceCameras,me=C.instanceControllers,Ye=C.instanceLights,Ue=C.instanceGeometries,Fe=C.instanceNodes;for(let Le=0,De=O.length;Le<De;Le++)T.push($t(O[Le]));for(let Le=0,De=ve.length;Le<De;Le++){const Je=Ot(ve[Le]);Je!==null&&T.push(Je.clone())}for(let Le=0,De=me.length;Le<De;Le++){const Je=me[Le],_t=$(Je.id),Ke=gn(_t.id),fn=dr(Ke,Je.materials),Qt=Je.skeletons,Ut=_t.skin.joints,dt=Qo(Qt,Ut);for(let Jt=0,dn=fn.length;Jt<dn;Jt++){const In=fn[Jt];In.isSkinnedMesh&&(In.bind(dt,_t.skin.bindMatrix),In.normalizeSkinWeights()),T.push(In)}}for(let Le=0,De=Ye.length;Le<De;Le++){const Je=ft(Ye[Le]);Je!==null&&T.push(Je.clone())}for(let Le=0,De=Ue.length;Le<De;Le++){const Je=Ue[Le],_t=gn(Je.id),Ke=dr(_t,Je.materials);for(let fn=0,Qt=Ke.length;fn<Qt;fn++)T.push(Ke[fn])}for(let Le=0,De=Fe.length;Le<De;Le++)T.push($t(Fe[Le]).clone());let ut;if(O.length===0&&T.length===1)ut=T[0];else{ut=N==="JOINT"?new g2:new Im;for(let Le=0;Le<T.length;Le++)ut.add(T[Le])}return ut.name=N==="JOINT"?C.sid:C.name,ut.matrix.copy(U),ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ut}const so=new jh({name:Gh.DEFAULT_MATERIAL_NAME,color:16711935});function $r(C,T){const U=[];for(let O=0,N=C.length;O<N;O++){const ve=T[C[O]];ve===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",C[O]),U.push(so)):U.push(nt(ve))}return U}function dr(C,T){const U=[];for(const O in C){const N=C[O],ve=$r(N.materialKeys,T);if(ve.length===0&&(O==="lines"||O==="linestrips"?ve.push(new Om):ve.push(new Xu)),O==="lines"||O==="linestrips")for(let Fe=0,ut=ve.length;Fe<ut;Fe++){const Le=ve[Fe];if(Le.isMeshPhongMaterial===!0||Le.isMeshLambertMaterial===!0){const De=new Om;De.color.copy(Le.color),De.opacity=Le.opacity,De.transparent=Le.transparent,ve[Fe]=De}}const me=N.data.attributes.skinIndex!==void 0,Ye=ve.length===1?ve[0]:ve;let Ue;switch(O){case"lines":Ue=new _2(N.data,Ye);break;case"linestrips":Ue=new y2(N.data,Ye);break;case"triangles":case"polylist":me?Ue=new v2(N.data,Ye):Ue=new Vo(N.data,Ye);break}U.push(Ue)}return U}function an(C){return vt.nodes[C]!==void 0}function $t(C){return P(vt.nodes[C],ao)}function Or(C){const T={name:C.getAttribute("name"),children:[]};bo(C);const U=u(C,"node");for(let O=0;O<U.length;O++)T.children.push(it(U[O]));vt.visualScenes[C.getAttribute("id")]=T}function Tn(C){const T=new Im;T.name=C.name;const U=C.children;for(let O=0;O<U.length;O++){const N=U[O];T.add($t(N.id))}return T}function Nn(C){return vt.visualScenes[C]!==void 0}function Vr(C){return P(vt.visualScenes[C],Tn)}function hr(C){const T=u(C,"instance_visual_scene")[0];return Vr(h(T.getAttribute("url")))}function Wn(){const C=vt.clips;if(g(C)===!0){if(g(vt.animations)===!1){const T=[];for(const U in vt.animations){const O=F(U);for(let N=0,ve=O.length;N<ve;N++)T.push(O[N])}mr.push(new Pm("default",-1,T))}}else for(const T in C)mr.push(Y(T))}function Yr(C){let T="";const U=[C];for(;U.length;){const O=U.shift();O.nodeType===Node.TEXT_NODE?T+=O.textContent:(T+=`
`,U.push.apply(U,O.childNodes))}return T.trim()}if(e.length===0)return{scene:new Fh};const di=new DOMParser().parseFromString(e,"application/xml"),vn=u(di,"COLLADA")[0],hi=di.getElementsByTagName("parsererror")[0];if(hi!==void 0){const C=u(hi,"div")[0];let T;return C?T=C.textContent:T=Yr(hi),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,T),null}const pr=vn.getAttribute("version");console.debug("THREE.ColladaLoader: File version",pr);const ar=m(u(vn,"asset")[0]),bi=new S0(this.manager);bi.setPath(this.resourcePath||l).setCrossOrigin(this.crossOrigin);let Ei;Ei=new VE(this.manager),Ei.setPath(this.resourcePath||l);const Wi=new _a,mr=[];let Jr={},gr=0;const vt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};S(vn,"library_animations","animation",R),S(vn,"library_animation_clips","animation_clip",le),S(vn,"library_controllers","controller",Q),S(vn,"library_images","image",ae),S(vn,"library_effects","effect",Oe),S(vn,"library_materials","material",ze),S(vn,"library_cameras","camera",gt),S(vn,"library_lights","light",ct),S(vn,"library_geometries","geometry",Ze),S(vn,"library_nodes","node",it),S(vn,"library_visual_scenes","visual_scene",Or),S(vn,"library_kinematics_models","kinematics_model",_n),S(vn,"library_physics_models","physics_model",Si),S(vn,"scene","instance_kinematics_scene",ba),E(vt.animations,L),E(vt.clips,Te),E(vt.controllers,ee),E(vt.images,ce),E(vt.effects,je),E(vt.materials,tt),E(vt.cameras,It),E(vt.lights,rt),E(vt.geometries,Yt),E(vt.visualScenes,Tn),Wn(),as();const Hi=hr(u(vn,"scene")[0]);return Hi.animations=mr,ar.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Hi.rotation.set(-Math.PI/2,0,0)),Hi.scale.multiplyScalar(ar.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),mr},kinematics:Jr,library:vt,scene:Hi}}}const Hg=new Nt,JE=new b0,kf=new Bi,$a=new Bi,Af=new Zu,Rf=new Nt(1,1,1),Pf=new Nt;class cd extends x2{constructor(...e){super(...e),this.urdfNode=null,this.urdfName=""}copy(e,l){return super.copy(e,l),this.urdfNode=e.urdfNode,this.urdfName=e.urdfName,this}}class XE extends cd{constructor(...e){super(...e),this.isURDFCollider=!0,this.type="URDFCollider"}}class qE extends cd{constructor(...e){super(...e),this.isURDFVisual=!0,this.type="URDFVisual"}}class kv extends cd{constructor(...e){super(...e),this.isURDFLink=!0,this.type="URDFLink"}}class Av extends cd{get jointType(){return this._jointType}set jointType(e){if(this.jointType!==e)switch(this._jointType=e,this.matrixWorldNeedsUpdate=!0,e){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(3).fill(0),this.axis=new Nt(0,0,1);break;case"floating":this.jointValue=new Array(6).fill(0);break}}get angle(){return this.jointValue[0]}constructor(...e){super(...e),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=new Nt(1,0,0),this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(e,l){return super.copy(e,l),this.jointType=e.jointType,this.axis=e.axis.clone(),this.limit.lower=e.limit.lower,this.limit.upper=e.limit.upper,this.ignoreLimits=!1,this.jointValue=[...e.jointValue],this.origPosition=e.origPosition?e.origPosition.clone():null,this.origQuaternion=e.origQuaternion?e.origQuaternion.clone():null,this.mimicJoints=[...e.mimicJoints],this}setJointValue(...e){e=e.map(u=>u===null?null:parseFloat(u)),(!this.origPosition||!this.origQuaternion)&&(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let l=!1;switch(this.mimicJoints.forEach(u=>{l=u.updateFromMimickedJoint(...e)||l}),this.jointType){case"fixed":return l;case"continuous":case"revolute":{let u=e[0];return u==null||u===this.jointValue[0]?l:(!this.ignoreLimits&&this.jointType==="revolute"&&(u=Math.min(this.limit.upper,u),u=Math.max(this.limit.lower,u)),this.quaternion.setFromAxisAngle(this.axis,u).premultiply(this.origQuaternion),this.jointValue[0]!==u?(this.jointValue[0]=u,this.matrixWorldNeedsUpdate=!0,!0):l)}case"prismatic":{let u=e[0];return u==null||u===this.jointValue[0]?l:(this.ignoreLimits||(u=Math.min(this.limit.upper,u),u=Math.max(this.limit.lower,u)),this.position.copy(this.origPosition),Hg.copy(this.axis).applyEuler(this.rotation),this.position.addScaledVector(Hg,u),this.jointValue[0]!==u?(this.jointValue[0]=u,this.matrixWorldNeedsUpdate=!0,!0):l)}case"floating":return this.jointValue.every((u,a)=>e[a]===u||e[a]===null)?l:(this.jointValue[0]=e[0]!==null?e[0]:this.jointValue[0],this.jointValue[1]=e[1]!==null?e[1]:this.jointValue[1],this.jointValue[2]=e[2]!==null?e[2]:this.jointValue[2],this.jointValue[3]=e[3]!==null?e[3]:this.jointValue[3],this.jointValue[4]=e[4]!==null?e[4]:this.jointValue[4],this.jointValue[5]=e[5]!==null?e[5]:this.jointValue[5],$a.compose(this.origPosition,this.origQuaternion,Rf),Af.setFromEuler(JE.set(this.jointValue[3],this.jointValue[4],this.jointValue[5],"XYZ")),Pf.set(this.jointValue[0],this.jointValue[1],this.jointValue[2]),kf.compose(Pf,Af,Rf),$a.premultiply(kf),this.position.setFromMatrixPosition($a),this.rotation.setFromRotationMatrix($a),this.matrixWorldNeedsUpdate=!0,!0);case"planar":return this.jointValue.every((u,a)=>e[a]===u||e[a]===null)?l:(this.jointValue[0]=e[0]!==null?e[0]:this.jointValue[0],this.jointValue[1]=e[1]!==null?e[1]:this.jointValue[1],this.jointValue[2]=e[2]!==null?e[2]:this.jointValue[2],$a.compose(this.origPosition,this.origQuaternion,Rf),Af.setFromAxisAngle(this.axis,this.jointValue[2]),Pf.set(this.jointValue[0],this.jointValue[1],0),kf.compose(Pf,Af,Rf),$a.premultiply(kf),this.position.setFromMatrixPosition($a),this.rotation.setFromRotationMatrix($a),this.matrixWorldNeedsUpdate=!0,!0)}return l}}class Vg extends Av{constructor(...e){super(...e),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...e){const l=e.map(u=>u*this.multiplier+this.offset);return super.setJointValue(...l)}copy(e,l){return super.copy(e,l),this.mimicJoint=e.mimicJoint,this.offset=e.offset,this.multiplier=e.multiplier,this}}class KE extends kv{constructor(...e){super(...e),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(e,l){super.copy(e,l),this.urdfRobotNode=e.urdfRobotNode,this.robotName=e.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse(u=>{u.isURDFJoint&&u.urdfName in e.joints&&(this.joints[u.urdfName]=u),u.isURDFLink&&u.urdfName in e.links&&(this.links[u.urdfName]=u),u.isURDFCollider&&u.urdfName in e.colliders&&(this.colliders[u.urdfName]=u),u.isURDFVisual&&u.urdfName in e.visual&&(this.visual[u.urdfName]=u)});for(const u in this.joints)this.joints[u].mimicJoints=this.joints[u].mimicJoints.map(a=>this.joints[a.name]);return this.frames={...this.colliders,...this.visual,...this.links,...this.joints},this}getFrame(e){return this.frames[e]}setJointValue(e,...l){const u=this.joints[e];return u?u.setJointValue(...l):!1}setJointValues(e){let l=!1;for(const u in e){const a=e[u];Array.isArray(a)?l=this.setJointValue(u,...a)||l:l=this.setJointValue(u,a)||l}return l}}const kh=new Zu,Yg=new b0;function Il(t){return t?t.trim().split(/\s+/g).map(e=>parseFloat(e)):[0,0,0]}function Jg(t,e,l=!1){l||t.rotation.set(0,0,0),Yg.set(e[0],e[1],e[2],"ZYX"),kh.setFromEuler(Yg),kh.multiply(t.quaternion),t.quaternion.copy(kh)}class QE{constructor(e){this.manager=e||S2,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(e){return new Promise((l,u)=>{this.load(e,l,null,u)})}load(e,l,u,a){const o=this.manager,c=x0.extractUrlBase(e),h=this.manager.resolveURL(e);o.itemStart(h),fetch(h,this.fetchOptions).then(d=>{if(d.ok)return u&&u(null),d.text();throw new Error(`URDFLoader: Failed to load url '${h}' with error code ${d.status} : ${d.statusText}.`)}).then(d=>{this.workingPath===""&&(this.workingPath=c);const g=this.parse(d);l(g),o.itemEnd(h)}).catch(d=>{a?a(d):console.error("URDFLoader: Error loading file.",d),o.itemError(h),o.itemEnd(h)})}parse(e){const l=this.packages,u=this.loadMeshCb,a=this.parseVisual,o=this.parseCollision,c=this.workingPath,h=this.manager,d={},g={},m={};function y(I){if(!/^package:\/\//.test(I))return c?c+I:I;const[L,F]=I.replace(/^package:\/\//,"").split(/\/(.+)/);if(typeof l=="string")return l.endsWith(L)?l+"/"+F:l+"/"+L+"/"+F;if(l instanceof Function)return l(L)+"/"+F;if(typeof l=="object")return L in l?l[L]+"/"+F:(console.error(`URDFLoader : ${L} not found in provided package list.`),null)}function x(I){let L;I instanceof Document?L=[...I.children]:I instanceof Element?L=[I]:L=[...new DOMParser().parseFromString(I,"text/xml").children];const F=L.filter(D=>D.nodeName==="robot").pop();return S(F)}function S(I){const L=[...I.children],F=L.filter(ie=>ie.nodeName.toLowerCase()==="link"),D=L.filter(ie=>ie.nodeName.toLowerCase()==="joint"),G=L.filter(ie=>ie.nodeName.toLowerCase()==="material"),j=new KE;j.robotName=I.getAttribute("name"),j.urdfRobotNode=I,G.forEach(ie=>{const V=ie.getAttribute("name");m[V]=R(ie)});const W={},X={};F.forEach(ie=>{const V=ie.getAttribute("name"),fe=I.querySelector(`child[link="${V}"]`)===null;d[V]=P(ie,W,X,fe?j:null)}),D.forEach(ie=>{const V=ie.getAttribute("name");g[V]=E(ie)}),j.joints=g,j.links=d,j.colliders=X,j.visual=W;const K=Object.values(g);return K.forEach(ie=>{ie instanceof Vg&&g[ie.mimicJoint].mimicJoints.push(ie)}),K.forEach(ie=>{const V=new Set,fe=pe=>{if(V.has(pe))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");V.add(pe),pe.mimicJoints.forEach(be=>{fe(be)})};fe(ie)}),j.frames={...X,...W,...d,...g},j}function E(I){const L=[...I.children],F=I.getAttribute("type");let D;const G=L.find(V=>V.nodeName.toLowerCase()==="mimic");G?(D=new Vg,D.mimicJoint=G.getAttribute("joint"),D.multiplier=parseFloat(G.getAttribute("multiplier")||1),D.offset=parseFloat(G.getAttribute("offset")||0)):D=new Av,D.urdfNode=I,D.name=I.getAttribute("name"),D.urdfName=D.name,D.jointType=F;let j=null,W=null,X=[0,0,0],K=[0,0,0];L.forEach(V=>{const fe=V.nodeName.toLowerCase();fe==="origin"?(X=Il(V.getAttribute("xyz")),K=Il(V.getAttribute("rpy"))):fe==="child"?W=d[V.getAttribute("link")]:fe==="parent"?j=d[V.getAttribute("link")]:fe==="limit"&&(D.limit.lower=parseFloat(V.getAttribute("lower")||D.limit.lower),D.limit.upper=parseFloat(V.getAttribute("upper")||D.limit.upper))}),j.add(D),D.add(W),Jg(D,K),D.position.set(X[0],X[1],X[2]);const ie=L.filter(V=>V.nodeName.toLowerCase()==="axis")[0];if(ie){const V=ie.getAttribute("xyz").split(/\s+/g).map(fe=>parseFloat(fe));D.axis=new Nt(V[0],V[1],V[2]),D.axis.normalize()}return D}function P(I,L,F,D=null){D===null&&(D=new kv);const G=[...I.children];return D.name=I.getAttribute("name"),D.urdfName=D.name,D.urdfNode=I,a&&G.filter(W=>W.nodeName.toLowerCase()==="visual").forEach(W=>{const X=A(W,m);if(D.add(X),W.hasAttribute("name")){const K=W.getAttribute("name");X.name=K,X.urdfName=K,L[K]=X}}),o&&G.filter(W=>W.nodeName.toLowerCase()==="collision").forEach(W=>{const X=A(W);if(D.add(X),W.hasAttribute("name")){const K=W.getAttribute("name");X.name=K,X.urdfName=K,F[K]=X}}),D}function R(I){const L=[...I.children],F=new Xu;return F.name=I.getAttribute("name")||"",L.forEach(D=>{const G=D.nodeName.toLowerCase();if(G==="color"){const j=D.getAttribute("rgba").split(/\s/g).map(W=>parseFloat(W));F.color.setRGB(j[0],j[1],j[2]),F.opacity=j[3],F.transparent=j[3]<1,F.depthWrite=!F.transparent}else if(G==="texture"){const j=D.getAttribute("filename");if(j){const W=new S0(h),X=y(j);F.map=W.load(X),F.map.colorSpace=Wo}}}),F}function A(I,L={}){const F=I.nodeName.toLowerCase()==="collision",D=[...I.children];let G=null;const j=D.filter(X=>X.nodeName.toLowerCase()==="material")[0];if(j){const X=j.getAttribute("name");X&&X in L?G=L[X]:G=R(j)}else G=new Xu;const W=F?new XE:new qE;return W.urdfNode=I,D.forEach(X=>{const K=X.nodeName.toLowerCase();if(K==="geometry"){const ie=X.children[0].nodeName.toLowerCase();if(ie==="mesh"){const V=X.children[0].getAttribute("filename"),fe=y(V);if(fe!==null){const pe=X.children[0].getAttribute("scale");if(pe){const be=Il(pe);W.scale.set(be[0],be[1],be[2])}u(fe,h,(be,le)=>{le?console.error("URDFLoader: Error loading mesh.",le):be&&(be instanceof Vo&&(be.material=G),be.position.set(0,0,0),be.quaternion.identity(),W.add(be))})}}else if(ie==="box"){const V=new Vo;V.geometry=new b2(1,1,1),V.material=G;const fe=Il(X.children[0].getAttribute("size"));V.scale.set(fe[0],fe[1],fe[2]),W.add(V)}else if(ie==="sphere"){const V=new Vo;V.geometry=new E2(1,30,30),V.material=G;const fe=parseFloat(X.children[0].getAttribute("radius"))||0;V.scale.set(fe,fe,fe),W.add(V)}else if(ie==="cylinder"){const V=new Vo;V.geometry=new T2(1,1,1,30),V.material=G;const fe=parseFloat(X.children[0].getAttribute("radius"))||0,pe=parseFloat(X.children[0].getAttribute("length"))||0;V.scale.set(fe,pe,fe),V.rotation.set(Math.PI/2,0,0),W.add(V)}}else if(K==="origin"){const ie=Il(X.getAttribute("xyz")),V=Il(X.getAttribute("rpy"));W.position.set(ie[0],ie[1],ie[2]),W.rotation.set(0,0,0),Jg(W,V)}}),W}return x(e)}defaultMeshLoader(e,l,u){/\.stl$/i.test(e)?new HE(l).load(e,o=>{const c=new Vo(o,new Xu);u(c)}):/\.dae$/i.test(e)?new YE(l).load(e,o=>u(o.scene)):console.warn(`URDFLoader: Could not load model at ${e}.
No loader available`)}}var Vu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var ZE=Vu.exports,Xg;function $E(){return Xg||(Xg=1,function(t,e){(function(){var l,u="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",g=500,m="__lodash_placeholder__",y=1,x=2,S=4,E=1,P=2,R=1,A=2,I=4,L=8,F=16,D=32,G=64,j=128,W=256,X=512,K=30,ie="...",V=800,fe=16,pe=1,be=2,le=3,Te=1/0,Y=9007199254740991,Q=17976931348623157e292,J=NaN,B=4294967295,Z=B-1,ee=B>>>1,se=[["ary",j],["bind",R],["bindKey",A],["curry",L],["curryRight",F],["flip",X],["partial",D],["partialRight",G],["rearg",W]],$="[object Arguments]",ae="[object Array]",ce="[object AsyncFunction]",_e="[object Boolean]",Oe="[object Date]",Be="[object DOMException]",Pe="[object Error]",Ce="[object Function]",ht="[object GeneratorFunction]",ot="[object Map]",Ve="[object Number]",st="[object Null]",et="[object Object]",Me="[object Promise]",lt="[object Proxy]",He="[object RegExp]",Ee="[object Set]",xt="[object String]",je="[object Symbol]",Qe="[object Undefined]",ze="[object WeakMap]",Zt="[object WeakSet]",tt="[object ArrayBuffer]",nt="[object DataView]",gt="[object Float32Array]",Ct="[object Float64Array]",en="[object Int8Array]",un="[object Int16Array]",It="[object Int32Array]",Ot="[object Uint8Array]",ct="[object Uint8ClampedArray]",oe="[object Uint16Array]",Re="[object Uint32Array]",rt=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mt=/&(?:amp|lt|gt|quot|#39);/g,Pn=/[&<>"']/g,on=RegExp(Mt.source),Ft=RegExp(Pn.source),tn=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gn=/^\w*$/,_n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wn=/[\\^$.*+?()[\]{}|]/g,Pr=RegExp(wn.source),Lr=/^\s+/,Ir=/\s/,ci=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fr=/\{\n\/\* \[wrapped with (.+)\] \*/,Qr=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Si=/[()=,{}\[\]\/\s]/,Sa=/\\(\\)?/g,qo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ba=/\w*$/,Ea=/^[-+]0x[0-9a-f]+$/i,oo=/^0b[01]+$/i,Ko=/^\[object .+?Constructor\]$/,as=/^0o[0-7]+$/i,Ta=/^(?:0|[1-9]\d*)$/,bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ln=/($^)/,fi=/['\n\r\u2028\u2029\\]/g,it="\\ud800-\\udfff",Hr="\\u0300-\\u036f",Qo="\\ufe20-\\ufe2f",Zr="\\u20d0-\\u20ff",ao=Hr+Qo+Zr,so="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",dr="\\xac\\xb1\\xd7\\xf7",an="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$t="\\u2000-\\u206f",Or=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tn="A-Z\\xc0-\\xd6\\xd8-\\xde",Nn="\\ufe0e\\ufe0f",Vr=dr+an+$t+Or,hr="[']",Wn="["+it+"]",Yr="["+Vr+"]",di="["+ao+"]",vn="\\d+",hi="["+so+"]",pr="["+$r+"]",ar="[^"+it+Vr+vn+so+$r+Tn+"]",bi="\\ud83c[\\udffb-\\udfff]",Ei="(?:"+di+"|"+bi+")",Wi="[^"+it+"]",mr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jr="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+Tn+"]",vt="\\u200d",Hi="(?:"+pr+"|"+ar+")",C="(?:"+gr+"|"+ar+")",T="(?:"+hr+"(?:d|ll|m|re|s|t|ve))?",U="(?:"+hr+"(?:D|LL|M|RE|S|T|VE))?",O=Ei+"?",N="["+Nn+"]?",ve="(?:"+vt+"(?:"+[Wi,mr,Jr].join("|")+")"+N+O+")*",me="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ye="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ue=N+O+ve,Fe="(?:"+[hi,mr,Jr].join("|")+")"+Ue,ut="(?:"+[Wi+di+"?",di,mr,Jr,Wn].join("|")+")",Le=RegExp(hr,"g"),De=RegExp(di,"g"),Je=RegExp(bi+"(?="+bi+")|"+ut+Ue,"g"),_t=RegExp([gr+"?"+pr+"+"+T+"(?="+[Yr,gr,"$"].join("|")+")",C+"+"+U+"(?="+[Yr,gr+Hi,"$"].join("|")+")",gr+"?"+Hi+"+"+T,gr+"+"+U,Ye,me,vn,Fe].join("|"),"g"),Ke=RegExp("["+vt+it+ao+Nn+"]"),fn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ut=-1,dt={};dt[gt]=dt[Ct]=dt[en]=dt[un]=dt[It]=dt[Ot]=dt[ct]=dt[oe]=dt[Re]=!0,dt[$]=dt[ae]=dt[tt]=dt[_e]=dt[nt]=dt[Oe]=dt[Pe]=dt[Ce]=dt[ot]=dt[Ve]=dt[et]=dt[He]=dt[Ee]=dt[xt]=dt[ze]=!1;var Jt={};Jt[$]=Jt[ae]=Jt[tt]=Jt[nt]=Jt[_e]=Jt[Oe]=Jt[gt]=Jt[Ct]=Jt[en]=Jt[un]=Jt[It]=Jt[ot]=Jt[Ve]=Jt[et]=Jt[He]=Jt[Ee]=Jt[xt]=Jt[je]=Jt[Ot]=Jt[ct]=Jt[oe]=Jt[Re]=!0,Jt[Pe]=Jt[Ce]=Jt[ze]=!1;var dn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},In={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ss=parseFloat,ls=parseInt,Ur=typeof df=="object"&&df&&df.Object===Object&&df,Zo=typeof self=="object"&&self&&self.Object===Object&&self,Cn=Ur||Zo||Function("return this")(),lo=e&&!e.nodeType&&e,Dn=lo&&!0&&t&&!t.nodeType&&t,Xn=Dn&&Dn.exports===lo,Eo=Xn&&Ur.process,On=function(){try{var re=Dn&&Dn.require&&Dn.require("util").types;return re||Eo&&Eo.binding&&Eo.binding("util")}catch{}}(),uo=On&&On.isArrayBuffer,$o=On&&On.isDate,us=On&&On.isMap,qn=On&&On.isRegExp,vr=On&&On.isSet,Mn=On&&On.isTypedArray;function sn(re,Se,ye){switch(ye.length){case 0:return re.call(Se);case 1:return re.call(Se,ye[0]);case 2:return re.call(Se,ye[0],ye[1]);case 3:return re.call(Se,ye[0],ye[1],ye[2])}return re.apply(Se,ye)}function ei(re,Se,ye,$e){for(var Lt=-1,jt=re==null?0:re.length;++Lt<jt;){var En=re[Lt];Se($e,En,ye(En),re)}return $e}function Kn(re,Se){for(var ye=-1,$e=re==null?0:re.length;++ye<$e&&Se(re[ye],ye,re)!==!1;);return re}function Zl(re,Se){for(var ye=re==null?0:re.length;ye--&&Se(re[ye],ye,re)!==!1;);return re}function $l(re,Se){for(var ye=-1,$e=re==null?0:re.length;++ye<$e;)if(!Se(re[ye],ye,re))return!1;return!0}function yr(re,Se){for(var ye=-1,$e=re==null?0:re.length,Lt=0,jt=[];++ye<$e;){var En=re[ye];Se(En,ye,re)&&(jt[Lt++]=En)}return jt}function Ti(re,Se){var ye=re==null?0:re.length;return!!ye&&ki(re,Se,0)>-1}function Ca(re,Se,ye){for(var $e=-1,Lt=re==null?0:re.length;++$e<Lt;)if(ye(Se,re[$e]))return!0;return!1}function xn(re,Se){for(var ye=-1,$e=re==null?0:re.length,Lt=Array($e);++ye<$e;)Lt[ye]=Se(re[ye],ye,re);return Lt}function Ci(re,Se){for(var ye=-1,$e=Se.length,Lt=re.length;++ye<$e;)re[Lt+ye]=Se[ye];return re}function Zs(re,Se,ye,$e){var Lt=-1,jt=re==null?0:re.length;for($e&&jt&&(ye=re[++Lt]);++Lt<jt;)ye=Se(ye,re[Lt],Lt,re);return ye}function cc(re,Se,ye,$e){var Lt=re==null?0:re.length;for($e&&Lt&&(ye=re[--Lt]);Lt--;)ye=Se(ye,re[Lt],Lt,re);return ye}function cs(re,Se){for(var ye=-1,$e=re==null?0:re.length;++ye<$e;)if(Se(re[ye],ye,re))return!0;return!1}var $s=Xr("length");function fc(re){return re.split("")}function dc(re){return re.match(Gn)||[]}function eu(re,Se,ye){var $e;return ye(re,function(Lt,jt,En){if(Se(Lt,jt,En))return $e=jt,!1}),$e}function ka(re,Se,ye,$e){for(var Lt=re.length,jt=ye+($e?1:-1);$e?jt--:++jt<Lt;)if(Se(re[jt],jt,re))return jt;return-1}function ki(re,Se,ye){return Se===Se?Ia(re,Se,ye):ka(re,fs,ye)}function Aa(re,Se,ye,$e){for(var Lt=ye-1,jt=re.length;++Lt<jt;)if($e(re[Lt],Se))return Lt;return-1}function fs(re){return re!==re}function ds(re,Se){var ye=re==null?0:re.length;return ye?Ai(re,Se)/ye:J}function Xr(re){return function(Se){return Se==null?l:Se[re]}}function qr(re){return function(Se){return re==null?l:re[Se]}}function To(re,Se,ye,$e,Lt){return Lt(re,function(jt,En,At){ye=$e?($e=!1,jt):Se(ye,jt,En,At)}),ye}function co(re,Se){var ye=re.length;for(re.sort(Se);ye--;)re[ye]=re[ye].value;return re}function Ai(re,Se){for(var ye,$e=-1,Lt=re.length;++$e<Lt;){var jt=Se(re[$e]);jt!==l&&(ye=ye===l?jt:ye+jt)}return ye}function fo(re,Se){for(var ye=-1,$e=Array(re);++ye<re;)$e[ye]=Se(ye);return $e}function hc(re,Se){return xn(Se,function(ye){return[ye,re[ye]]})}function el(re){return re&&re.slice(0,Oa(re)+1).replace(Lr,"")}function Nr(re){return function(Se){return re(Se)}}function Dr(re,Se){return xn(Se,function(ye){return re[ye]})}function sr(re,Se){return re.has(Se)}function Sn(re,Se){for(var ye=-1,$e=re.length;++ye<$e&&ki(Se,re[ye],0)>-1;);return ye}function Ra(re,Se){for(var ye=re.length;ye--&&ki(Se,re[ye],0)>-1;);return ye}function Ri(re,Se){for(var ye=re.length,$e=0;ye--;)re[ye]===Se&&++$e;return $e}var pc=qr(dn),mc=qr(In);function tu(re){return"\\"+Mr[re]}function nu(re,Se){return re==null?l:re[Se]}function ea(re){return Ke.test(re)}function hs(re){return fn.test(re)}function Pa(re){for(var Se,ye=[];!(Se=re.next()).done;)ye.push(Se.value);return ye}function ps(re){var Se=-1,ye=Array(re.size);return re.forEach(function($e,Lt){ye[++Se]=[Lt,$e]}),ye}function La(re,Se){return function(ye){return re(Se(ye))}}function Pi(re,Se){for(var ye=-1,$e=re.length,Lt=0,jt=[];++ye<$e;){var En=re[ye];(En===Se||En===m)&&(re[ye]=m,jt[Lt++]=ye)}return jt}function ms(re){var Se=-1,ye=Array(re.size);return re.forEach(function($e){ye[++Se]=$e}),ye}function gc(re){var Se=-1,ye=Array(re.size);return re.forEach(function($e){ye[++Se]=[$e,$e]}),ye}function Ia(re,Se,ye){for(var $e=ye-1,Lt=re.length;++$e<Lt;)if(re[$e]===Se)return $e;return-1}function vc(re,Se,ye){for(var $e=ye+1;$e--;)if(re[$e]===Se)return $e;return $e}function Vi(re){return ea(re)?Yi(re):$s(re)}function Un(re){return ea(re)?ru(re):fc(re)}function Oa(re){for(var Se=re.length;Se--&&Ir.test(re.charAt(Se)););return Se}var Ma=qr(pi);function Yi(re){for(var Se=Je.lastIndex=0;Je.test(re);)++Se;return Se}function ru(re){return re.match(Je)||[]}function Ua(re){return re.match(_t)||[]}var yc=function re(Se){Se=Se==null?Cn:Co.defaults(Cn.Object(),Se,Co.pick(Cn,Qt));var ye=Se.Array,$e=Se.Date,Lt=Se.Error,jt=Se.Function,En=Se.Math,At=Se.Object,nr=Se.RegExp,rr=Se.String,Fr=Se.TypeError,ko=ye.prototype,gs=jt.prototype,Na=At.prototype,Qn=Se["__core-js_shared__"],Da=gs.toString,cn=Na.hasOwnProperty,iu=0,Ji=function(){var n=/[^.]+$/.exec(Qn&&Qn.keys&&Qn.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ti=Na.toString,ta=Da.call(At),tl=Cn._,nl=nr("^"+Da.call(cn).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vs=Xn?Se.Buffer:l,ho=Se.Symbol,ys=Se.Uint8Array,ou=vs?vs.allocUnsafe:l,_s=La(At.getPrototypeOf,At),au=At.create,rl=Na.propertyIsEnumerable,Ao=ko.splice,su=ho?ho.isConcatSpreadable:l,Ro=ho?ho.iterator:l,Xi=ho?ho.toStringTag:l,Fa=function(){try{var n=Fs(At,"defineProperty");return n({},"",{}),n}catch{}}(),ws=Se.clearTimeout!==Cn.clearTimeout&&Se.clearTimeout,_c=$e&&$e.now!==Cn.Date.now&&$e.now,wc=Se.setTimeout!==Cn.setTimeout&&Se.setTimeout,xs=En.ceil,Ss=En.floor,bs=At.getOwnPropertySymbols,xc=vs?vs.isBuffer:l,lu=Se.isFinite,yd=ko.join,Sc=La(At.keys,At),Zn=En.max,_r=En.min,bc=$e.now,Ec=Se.parseInt,uu=En.random,Tc=ko.reverse,za=Fs(Se,"DataView"),Es=Fs(Se,"Map"),cu=Fs(Se,"Promise"),Ba=Fs(Se,"Set"),na=Fs(Se,"WeakMap"),ra=Fs(At,"create"),il=na&&new na,ia={},Cc=zs(za),kc=zs(Es),Ac=zs(cu),Rc=zs(Ba),qi=zs(na),Ts=ho?ho.prototype:l,po=Ts?Ts.valueOf:l,ja=Ts?Ts.toString:l;function M(n){if(Jn(n)&&!Gt(n)&&!(n instanceof Et)){if(n instanceof wr)return n;if(cn.call(n,"__wrapped__"))return Yp(n)}return new wr(n)}var mo=function(){function n(){}return function(s){if(!jn(s))return{};if(au)return au(s);n.prototype=s;var p=new n;return n.prototype=l,p}}();function Cs(){}function wr(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=l}M.templateSettings={escape:tn,evaluate:Yt,interpolate:St,variable:"",imports:{_:M}},M.prototype=Cs.prototype,M.prototype.constructor=M,wr.prototype=mo(Cs.prototype),wr.prototype.constructor=wr;function Et(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function _d(){var n=new Et(this.__wrapped__);return n.__actions__=Tr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tr(this.__views__),n}function wd(){if(this.__filtered__){var n=new Et(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ni(){var n=this.__wrapped__.value(),s=this.__dir__,p=Gt(n),w=s<0,k=p?n.length:0,z=u1(0,k,this.__views__),q=z.start,te=z.end,he=te-q,ke=w?te:q-1,Ae=this.__iteratees__,Ie=Ae.length,Xe=0,yt=_r(he,this.__takeCount__);if(!p||!w&&k==he&&yt==he)return Uo(n,this.__actions__);var Rt=[];e:for(;he--&&Xe<yt;){ke+=s;for(var qt=-1,Pt=n[ke];++qt<Ie;){var nn=Ae[qt],ln=nn.iteratee,Di=nn.type,ui=ln(Pt);if(Di==be)Pt=ui;else if(!ui){if(Di==pe)continue e;break e}}Rt[Xe++]=Pt}return Rt}Et.prototype=mo(Cs.prototype),Et.prototype.constructor=Et;function Fn(n){var s=-1,p=n==null?0:n.length;for(this.clear();++s<p;){var w=n[s];this.set(w[0],w[1])}}function Pc(){this.__data__=ra?ra(null):{},this.size=0}function Lc(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function Ic(n){var s=this.__data__;if(ra){var p=s[n];return p===d?l:p}return cn.call(s,n)?s[n]:l}function Oc(n){var s=this.__data__;return ra?s[n]!==l:cn.call(s,n)}function Mc(n,s){var p=this.__data__;return this.size+=this.has(n)?0:1,p[n]=ra&&s===l?d:s,this}Fn.prototype.clear=Pc,Fn.prototype.delete=Lc,Fn.prototype.get=Ic,Fn.prototype.has=Oc,Fn.prototype.set=Mc;function Li(n){var s=-1,p=n==null?0:n.length;for(this.clear();++s<p;){var w=n[s];this.set(w[0],w[1])}}function Uc(){this.__data__=[],this.size=0}function fu(n){var s=this.__data__,p=Lo(s,n);if(p<0)return!1;var w=s.length-1;return p==w?s.pop():Ao.call(s,p,1),--this.size,!0}function Nc(n){var s=this.__data__,p=Lo(s,n);return p<0?l:s[p][1]}function Dc(n){return Lo(this.__data__,n)>-1}function ol(n,s){var p=this.__data__,w=Lo(p,n);return w<0?(++this.size,p.push([n,s])):p[w][1]=s,this}Li.prototype.clear=Uc,Li.prototype.delete=fu,Li.prototype.get=Nc,Li.prototype.has=Dc,Li.prototype.set=ol;function mi(n){var s=-1,p=n==null?0:n.length;for(this.clear();++s<p;){var w=n[s];this.set(w[0],w[1])}}function Fc(){this.size=0,this.__data__={hash:new Fn,map:new(Es||Li),string:new Fn}}function du(n){var s=tf(this,n).delete(n);return this.size-=s?1:0,s}function zc(n){return tf(this,n).get(n)}function Bc(n){return tf(this,n).has(n)}function al(n,s){var p=tf(this,n),w=p.size;return p.set(n,s),this.size+=p.size==w?0:1,this}mi.prototype.clear=Fc,mi.prototype.delete=du,mi.prototype.get=zc,mi.prototype.has=Bc,mi.prototype.set=al;function Po(n){var s=-1,p=n==null?0:n.length;for(this.__data__=new mi;++s<p;)this.add(n[s])}function hu(n){return this.__data__.set(n,d),this}function jc(n){return this.__data__.has(n)}Po.prototype.add=Po.prototype.push=hu,Po.prototype.has=jc;function $n(n){var s=this.__data__=new Li(n);this.size=s.size}function xd(){this.__data__=new Li,this.size=0}function Sd(n){var s=this.__data__,p=s.delete(n);return this.size=s.size,p}function sl(n){return this.__data__.get(n)}function oa(n){return this.__data__.has(n)}function bd(n,s){var p=this.__data__;if(p instanceof Li){var w=p.__data__;if(!Es||w.length<a-1)return w.push([n,s]),this.size=++p.size,this;p=this.__data__=new mi(w)}return p.set(n,s),this.size=p.size,this}$n.prototype.clear=xd,$n.prototype.delete=Sd,$n.prototype.get=sl,$n.prototype.has=oa,$n.prototype.set=bd;function We(n,s){var p=Gt(n),w=!p&&Bs(n),k=!p&&!w&&Qa(n),z=!p&&!w&&!k&&El(n),q=p||w||k||z,te=q?fo(n.length,rr):[],he=te.length;for(var ke in n)(s||cn.call(n,ke))&&!(q&&(ke=="length"||k&&(ke=="offset"||ke=="parent")||z&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||fa(ke,he)))&&te.push(ke);return te}function ks(n){var s=n.length;return s?n[Qi(0,s-1)]:l}function pu(n,s){return nf(Tr(n),Io(s,0,n.length))}function Gc(n){return nf(Tr(n))}function mu(n,s,p){(p!==l&&!yo(n[s],p)||p===l&&!(s in n))&&Ki(n,s,p)}function Ii(n,s,p){var w=n[s];(!(cn.call(n,s)&&yo(w,p))||p===l&&!(s in n))&&Ki(n,s,p)}function Lo(n,s){for(var p=n.length;p--;)if(yo(n[p][0],s))return p;return-1}function gu(n,s,p,w){return Oi(n,function(k,z,q){s(w,k,p(k),q)}),w}function vu(n,s){return n&&yi(s,kr(s),n)}function Wc(n,s){return n&&yi(s,wi(s),n)}function Ki(n,s,p){s=="__proto__"&&Fa?Fa(n,s,{configurable:!0,enumerable:!0,value:p,writable:!0}):n[s]=p}function ll(n,s){for(var p=-1,w=s.length,k=ye(w),z=n==null;++p<w;)k[p]=z?l:jd(n,s[p]);return k}function Io(n,s,p){return n===n&&(p!==l&&(n=n<=p?n:p),s!==l&&(n=n>=s?n:s)),n}function ri(n,s,p,w,k,z){var q,te=s&y,he=s&x,ke=s&S;if(p&&(q=k?p(n,w,k,z):p(n)),q!==l)return q;if(!jn(n))return n;var Ae=Gt(n);if(Ae){if(q=f1(n),!te)return Tr(n,q)}else{var Ie=Kr(n),Xe=Ie==Ce||Ie==ht;if(Qa(n))return Lu(n,te);if(Ie==et||Ie==$||Xe&&!k){if(q=he||Xe?{}:Dp(n),!te)return he?$c(n,Wc(q,n)):kd(n,vu(q,n))}else{if(!Jt[Ie])return k?n:{};q=d1(n,Ie,te)}}z||(z=new $n);var yt=z.get(n);if(yt)return yt;z.set(n,q),dm(n)?n.forEach(function(Pt){q.add(ri(Pt,s,p,Pt,n,z))}):cm(n)&&n.forEach(function(Pt,nn){q.set(nn,ri(Pt,s,p,nn,n,z))});var Rt=ke?he?rn:Yn:he?wi:kr,qt=Ae?l:Rt(n);return Kn(qt||n,function(Pt,nn){qt&&(nn=Pt,Pt=n[nn]),Ii(q,nn,ri(Pt,s,p,nn,n,z))}),q}function yu(n){var s=kr(n);return function(p){return ul(p,n,s)}}function ul(n,s,p){var w=p.length;if(n==null)return!w;for(n=At(n);w--;){var k=p[w],z=s[k],q=n[k];if(q===l&&!(k in n)||!z(q))return!1}return!0}function _u(n,s,p){if(typeof n!="function")throw new Fr(c);return Uu(function(){n.apply(l,p)},s)}function aa(n,s,p,w){var k=-1,z=Ti,q=!0,te=n.length,he=[],ke=s.length;if(!te)return he;p&&(s=xn(s,Nr(p))),w?(z=Ca,q=!1):s.length>=a&&(z=sr,q=!1,s=new Po(s));e:for(;++k<te;){var Ae=n[k],Ie=p==null?Ae:p(Ae);if(Ae=w||Ae!==0?Ae:0,q&&Ie===Ie){for(var Xe=ke;Xe--;)if(s[Xe]===Ie)continue e;he.push(Ae)}else z(s,Ie,w)||he.push(Ae)}return he}var Oi=Ou(ii),Hc=Ou(Wa,!0);function Ed(n,s){var p=!0;return Oi(n,function(w,k,z){return p=!!s(w,k,z),p}),p}function As(n,s,p){for(var w=-1,k=n.length;++w<k;){var z=n[w],q=s(z);if(q!=null&&(te===l?q===q&&!Ni(q):p(q,te)))var te=q,he=z}return he}function Vc(n,s,p,w){var k=n.length;for(p=Xt(p),p<0&&(p=-p>k?0:k+p),w=w===l||w>k?k:Xt(w),w<0&&(w+=k),w=p>w?0:pm(w);p<w;)n[p++]=s;return n}function wu(n,s){var p=[];return Oi(n,function(w,k,z){s(w,k,z)&&p.push(w)}),p}function ir(n,s,p,w,k){var z=-1,q=n.length;for(p||(p=p1),k||(k=[]);++z<q;){var te=n[z];s>0&&p(te)?s>1?ir(te,s-1,p,w,k):Ci(k,te):w||(k[k.length]=te)}return k}var Ga=xl(),Rs=xl(!0);function ii(n,s){return n&&Ga(n,s,kr)}function Wa(n,s){return n&&Rs(n,s,kr)}function sa(n,s){return yr(s,function(p){return da(n[p])})}function Mi(n,s){s=Do(s,n);for(var p=0,w=s.length;n!=null&&p<w;)n=n[Bo(s[p++])];return p&&p==w?n:l}function cl(n,s,p){var w=s(n);return Gt(n)?w:Ci(w,p(n))}function lr(n){return n==null?n===l?Qe:st:Xi&&Xi in At(n)?l1(n):x1(n)}function Ps(n,s){return n>s}function Yc(n,s){return n!=null&&cn.call(n,s)}function xu(n,s){return n!=null&&s in At(n)}function Td(n,s,p){return n>=_r(s,p)&&n<Zn(s,p)}function Ha(n,s,p){for(var w=p?Ca:Ti,k=n[0].length,z=n.length,q=z,te=ye(z),he=1/0,ke=[];q--;){var Ae=n[q];q&&s&&(Ae=xn(Ae,Nr(s))),he=_r(Ae.length,he),te[q]=!p&&(s||k>=120&&Ae.length>=120)?new Po(q&&Ae):l}Ae=n[0];var Ie=-1,Xe=te[0];e:for(;++Ie<k&&ke.length<he;){var yt=Ae[Ie],Rt=s?s(yt):yt;if(yt=p||yt!==0?yt:0,!(Xe?sr(Xe,Rt):w(ke,Rt,p))){for(q=z;--q;){var qt=te[q];if(!(qt?sr(qt,Rt):w(n[q],Rt,p)))continue e}Xe&&Xe.push(Rt),ke.push(yt)}}return ke}function Su(n,s,p,w){return ii(n,function(k,z,q){s(w,p(k),z,q)}),w}function bn(n,s,p){s=Do(s,n),n=jp(n,s);var w=n==null?n:n[Bo(eo(s))];return w==null?l:sn(w,n,p)}function Wt(n){return Jn(n)&&lr(n)==$}function Hn(n){return Jn(n)&&lr(n)==tt}function Vn(n){return Jn(n)&&lr(n)==Oe}function zn(n,s,p,w,k){return n===s?!0:n==null||s==null||!Jn(n)&&!Jn(s)?n!==n&&s!==s:oi(n,s,p,w,zn,k)}function oi(n,s,p,w,k,z){var q=Gt(n),te=Gt(s),he=q?ae:Kr(n),ke=te?ae:Kr(s);he=he==$?et:he,ke=ke==$?et:ke;var Ae=he==et,Ie=ke==et,Xe=he==ke;if(Xe&&Qa(n)){if(!Qa(s))return!1;q=!0,Ae=!1}if(Xe&&!Ae)return z||(z=new $n),q||El(n)?mt(n,s,p,w,k,z):Ht(n,s,he,p,w,k,z);if(!(p&E)){var yt=Ae&&cn.call(n,"__wrapped__"),Rt=Ie&&cn.call(s,"__wrapped__");if(yt||Rt){var qt=yt?n.value():n,Pt=Rt?s.value():s;return z||(z=new $n),k(qt,Pt,p,w,z)}}return Xe?(z||(z=new $n),Bt(n,s,p,w,k,z)):!1}function Va(n){return Jn(n)&&Kr(n)==ot}function Bn(n,s,p,w){var k=p.length,z=k,q=!w;if(n==null)return!z;for(n=At(n);k--;){var te=p[k];if(q&&te[2]?te[1]!==n[te[0]]:!(te[0]in n))return!1}for(;++k<z;){te=p[k];var he=te[0],ke=n[he],Ae=te[1];if(q&&te[2]){if(ke===l&&!(he in n))return!1}else{var Ie=new $n;if(w)var Xe=w(ke,Ae,he,n,s,Ie);if(!(Xe===l?zn(Ae,ke,E|P,w,Ie):Xe))return!1}}return!0}function Ya(n){if(!jn(n)||g1(n))return!1;var s=da(n)?nl:Ko;return s.test(zs(n))}function Ja(n){return Jn(n)&&lr(n)==He}function fl(n){return Jn(n)&&Kr(n)==Ee}function bu(n){return Jn(n)&&uf(n.length)&&!!dt[lr(n)]}function Xa(n){return typeof n=="function"?n:n==null?xi:typeof n=="object"?Gt(n)?dl(n[0],n[1]):Is(n):Tm(n)}function xr(n){if(!Mu(n))return Sc(n);var s=[];for(var p in At(n))cn.call(n,p)&&p!="constructor"&&s.push(p);return s}function Eu(n){if(!jn(n))return w1(n);var s=Mu(n),p=[];for(var w in n)w=="constructor"&&(s||!cn.call(n,w))||p.push(w);return p}function Ls(n,s){return n<s}function la(n,s){var p=-1,w=_i(n)?ye(n.length):[];return Oi(n,function(k,z,q){w[++p]=s(k,z,q)}),w}function Is(n){var s=Rd(n);return s.length==1&&s[0][2]?zp(s[0][0],s[0][1]):function(p){return p===n||Bn(p,n,s)}}function dl(n,s){return Ld(n)&&Fp(s)?zp(Bo(n),s):function(p){var w=jd(p,n);return w===l&&w===s?Gd(p,n):zn(s,w,E|P)}}function Ui(n,s,p,w,k){n!==s&&Ga(s,function(z,q){if(k||(k=new $n),jn(z))hl(n,s,q,p,Ui,w,k);else{var te=w?w(Od(n,q),z,q+"",n,s,k):l;te===l&&(te=z),mu(n,q,te)}},wi)}function hl(n,s,p,w,k,z,q){var te=Od(n,p),he=Od(s,p),ke=q.get(he);if(ke){mu(n,p,ke);return}var Ae=z?z(te,he,p+"",n,s,q):l,Ie=Ae===l;if(Ie){var Xe=Gt(he),yt=!Xe&&Qa(he),Rt=!Xe&&!yt&&El(he);Ae=he,Xe||yt||Rt?Gt(te)?Ae=te:er(te)?Ae=Tr(te):yt?(Ie=!1,Ae=Lu(he,!0)):Rt?(Ie=!1,Ae=Zc(he,!0)):Ae=[]:Nu(he)||Bs(he)?(Ae=te,Bs(te)?Ae=mm(te):(!jn(te)||da(te))&&(Ae=Dp(he))):Ie=!1}Ie&&(q.set(he,Ae),k(Ae,he,w,z,q),q.delete(he)),mu(n,p,Ae)}function go(n,s){var p=n.length;if(p)return s+=s<0?p:0,fa(s,p)?n[s]:l}function Os(n,s,p){s.length?s=xn(s,function(z){return Gt(z)?function(q){return Mi(q,z.length===1?z[0]:z)}:z}):s=[xi];var w=-1;s=xn(s,Nr(kt()));var k=la(n,function(z,q,te){var he=xn(s,function(ke){return ke(z)});return{criteria:he,index:++w,value:z}});return co(k,function(z,q){return wl(z,q,p)})}function Ms(n,s){return pl(n,s,function(p,w){return Gd(n,w)})}function pl(n,s,p){for(var w=-1,k=s.length,z={};++w<k;){var q=s[w],te=Mi(n,q);p(te,q)&&ua(z,Do(q,n),te)}return z}function ml(n){return function(s){return Mi(s,n)}}function qa(n,s,p,w){var k=w?Aa:ki,z=-1,q=s.length,te=n;for(n===s&&(s=Tr(s)),p&&(te=xn(n,Nr(p)));++z<q;)for(var he=0,ke=s[z],Ae=p?p(ke):ke;(he=k(te,Ae,he,w))>-1;)te!==n&&Ao.call(te,he,1),Ao.call(n,he,1);return n}function Sr(n,s){for(var p=n?s.length:0,w=p-1;p--;){var k=s[p];if(p==w||k!==z){var z=k;fa(k)?Ao.call(n,k,1):Au(n,k)}}return n}function Qi(n,s){return n+Ss(uu()*(s-n+1))}function gi(n,s,p,w){for(var k=-1,z=Zn(xs((s-n)/(p||1)),0),q=ye(z);z--;)q[w?z:++k]=n,n+=p;return q}function Ka(n,s){var p="";if(!n||s<1||s>Y)return p;do s%2&&(p+=n),s=Ss(s/2),s&&(n+=n);while(s);return p}function bt(n,s){return Md(Bp(n,s,xi),n+"")}function Jc(n){return ks(Tl(n))}function Tu(n,s){var p=Tl(n);return nf(p,Io(s,0,p.length))}function ua(n,s,p,w){if(!jn(n))return n;s=Do(s,n);for(var k=-1,z=s.length,q=z-1,te=n;te!=null&&++k<z;){var he=Bo(s[k]),ke=p;if(he==="__proto__"||he==="constructor"||he==="prototype")return n;if(k!=q){var Ae=te[he];ke=w?w(Ae,he,te):l,ke===l&&(ke=jn(Ae)?Ae:fa(s[k+1])?[]:{})}Ii(te,he,ke),te=te[he]}return n}var Xc=il?function(n,s){return il.set(n,s),n}:xi,Oo=Fa?function(n,s){return Fa(n,"toString",{configurable:!0,enumerable:!1,value:Hd(s),writable:!0})}:xi;function qc(n){return nf(Tl(n))}function ai(n,s,p){var w=-1,k=n.length;s<0&&(s=-s>k?0:k+s),p=p>k?k:p,p<0&&(p+=k),k=s>p?0:p-s>>>0,s>>>=0;for(var z=ye(k);++w<k;)z[w]=n[w+s];return z}function Cu(n,s){var p;return Oi(n,function(w,k,z){return p=s(w,k,z),!p}),!!p}function Zi(n,s,p){var w=0,k=n==null?w:n.length;if(typeof s=="number"&&s===s&&k<=ee){for(;w<k;){var z=w+k>>>1,q=n[z];q!==null&&!Ni(q)&&(p?q<=s:q<s)?w=z+1:k=z}return k}return gl(n,s,xi,p)}function gl(n,s,p,w){var k=0,z=n==null?0:n.length;if(z===0)return 0;s=p(s);for(var q=s!==s,te=s===null,he=Ni(s),ke=s===l;k<z;){var Ae=Ss((k+z)/2),Ie=p(n[Ae]),Xe=Ie!==l,yt=Ie===null,Rt=Ie===Ie,qt=Ni(Ie);if(q)var Pt=w||Rt;else ke?Pt=Rt&&(w||Xe):te?Pt=Rt&&Xe&&(w||!yt):he?Pt=Rt&&Xe&&!yt&&(w||!qt):yt||qt?Pt=!1:Pt=w?Ie<=s:Ie<s;Pt?k=Ae+1:z=Ae}return _r(z,Z)}function ku(n,s){for(var p=-1,w=n.length,k=0,z=[];++p<w;){var q=n[p],te=s?s(q):q;if(!p||!yo(te,he)){var he=te;z[k++]=q===0?0:q}}return z}function vl(n){return typeof n=="number"?n:Ni(n)?J:+n}function br(n){if(typeof n=="string")return n;if(Gt(n))return xn(n,br)+"";if(Ni(n))return ja?ja.call(n):"";var s=n+"";return s=="0"&&1/n==-Te?"-0":s}function Mo(n,s,p){var w=-1,k=Ti,z=n.length,q=!0,te=[],he=te;if(p)q=!1,k=Ca;else if(z>=a){var ke=s?null:Cr(n);if(ke)return ms(ke);q=!1,k=sr,he=new Po}else he=s?[]:te;e:for(;++w<z;){var Ae=n[w],Ie=s?s(Ae):Ae;if(Ae=p||Ae!==0?Ae:0,q&&Ie===Ie){for(var Xe=he.length;Xe--;)if(he[Xe]===Ie)continue e;s&&he.push(Ie),te.push(Ae)}else k(he,Ie,p)||(he!==te&&he.push(Ie),te.push(Ae))}return te}function Au(n,s){return s=Do(s,n),n=jp(n,s),n==null||delete n[Bo(eo(s))]}function Ru(n,s,p,w){return ua(n,s,p(Mi(n,s)),w)}function Us(n,s,p,w){for(var k=n.length,z=w?k:-1;(w?z--:++z<k)&&s(n[z],z,n););return p?ai(n,w?0:z,w?z+1:k):ai(n,w?z+1:0,w?k:z)}function Uo(n,s){var p=n;return p instanceof Et&&(p=p.value()),Zs(s,function(w,k){return k.func.apply(k.thisArg,Ci([w],k.args))},p)}function Pu(n,s,p){var w=n.length;if(w<2)return w?Mo(n[0]):[];for(var k=-1,z=ye(w);++k<w;)for(var q=n[k],te=-1;++te<w;)te!=k&&(z[k]=aa(z[k]||q,n[te],s,p));return Mo(ir(z,1),s,p)}function No(n,s,p){for(var w=-1,k=n.length,z=s.length,q={};++w<k;){var te=w<z?s[w]:l;p(q,n[w],te)}return q}function yl(n){return er(n)?n:[]}function Er(n){return typeof n=="function"?n:xi}function Do(n,s){return Gt(n)?n:Ld(n,s)?[n]:Vp(pn(n))}var Kc=bt;function Fo(n,s,p){var w=n.length;return p=p===l?w:p,!s&&p>=w?n:ai(n,s,p)}var Qc=ws||function(n){return Cn.clearTimeout(n)};function Lu(n,s){if(s)return n.slice();var p=n.length,w=ou?ou(p):new n.constructor(p);return n.copy(w),w}function _l(n){var s=new n.constructor(n.byteLength);return new ys(s).set(new ys(n)),s}function Cd(n,s){var p=s?_l(n.buffer):n.buffer;return new n.constructor(p,n.byteOffset,n.byteLength)}function vi(n){var s=new n.constructor(n.source,ba.exec(n));return s.lastIndex=n.lastIndex,s}function Iu(n){return po?At(po.call(n)):{}}function Zc(n,s){var p=s?_l(n.buffer):n.buffer;return new n.constructor(p,n.byteOffset,n.length)}function vo(n,s){if(n!==s){var p=n!==l,w=n===null,k=n===n,z=Ni(n),q=s!==l,te=s===null,he=s===s,ke=Ni(s);if(!te&&!ke&&!z&&n>s||z&&q&&he&&!te&&!ke||w&&q&&he||!p&&he||!k)return 1;if(!w&&!z&&!ke&&n<s||ke&&p&&k&&!w&&!z||te&&p&&k||!q&&k||!he)return-1}return 0}function wl(n,s,p){for(var w=-1,k=n.criteria,z=s.criteria,q=k.length,te=p.length;++w<q;){var he=vo(k[w],z[w]);if(he){if(w>=te)return he;var ke=p[w];return he*(ke=="desc"?-1:1)}}return n.index-s.index}function zo(n,s,p,w){for(var k=-1,z=n.length,q=p.length,te=-1,he=s.length,ke=Zn(z-q,0),Ae=ye(he+ke),Ie=!w;++te<he;)Ae[te]=s[te];for(;++k<q;)(Ie||k<z)&&(Ae[p[k]]=n[k]);for(;ke--;)Ae[te++]=n[k++];return Ae}function Ns(n,s,p,w){for(var k=-1,z=n.length,q=-1,te=p.length,he=-1,ke=s.length,Ae=Zn(z-te,0),Ie=ye(Ae+ke),Xe=!w;++k<Ae;)Ie[k]=n[k];for(var yt=k;++he<ke;)Ie[yt+he]=s[he];for(;++q<te;)(Xe||k<z)&&(Ie[yt+p[q]]=n[k++]);return Ie}function Tr(n,s){var p=-1,w=n.length;for(s||(s=ye(w));++p<w;)s[p]=n[p];return s}function yi(n,s,p,w){var k=!p;p||(p={});for(var z=-1,q=s.length;++z<q;){var te=s[z],he=w?w(p[te],n[te],te,p,n):l;he===l&&(he=n[te]),k?Ki(p,te,he):Ii(p,te,he)}return p}function kd(n,s){return yi(n,Pd(n),s)}function $c(n,s){return yi(n,Up(n),s)}function Ds(n,s){return function(p,w){var k=Gt(p)?ei:gu,z=s?s():{};return k(p,n,kt(w,2),z)}}function ca(n){return bt(function(s,p){var w=-1,k=p.length,z=k>1?p[k-1]:l,q=k>2?p[2]:l;for(z=n.length>3&&typeof z=="function"?(k--,z):l,q&&li(p[0],p[1],q)&&(z=k<3?l:z,k=1),s=At(s);++w<k;){var te=p[w];te&&n(s,te,w,z)}return s})}function Ou(n,s){return function(p,w){if(p==null)return p;if(!_i(p))return n(p,w);for(var k=p.length,z=s?k:-1,q=At(p);(s?z--:++z<k)&&w(q[z],z,q)!==!1;);return p}}function xl(n){return function(s,p,w){for(var k=-1,z=At(s),q=w(s),te=q.length;te--;){var he=q[n?te:++k];if(p(z[he],he,z)===!1)break}return s}}function Ad(n,s,p){var w=s&R,k=i(n);function z(){var q=this&&this!==Cn&&this instanceof z?k:n;return q.apply(w?p:this,arguments)}return z}function ef(n){return function(s){s=pn(s);var p=ea(s)?Un(s):l,w=p?p[0]:s.charAt(0),k=p?Fo(p,1).join(""):s.slice(1);return w[n]()+k}}function r(n){return function(s){return Zs(bm(Sm(s).replace(Le,"")),n,"")}}function i(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var p=mo(n.prototype),w=n.apply(p,s);return jn(w)?w:p}}function f(n,s,p){var w=i(n);function k(){for(var z=arguments.length,q=ye(z),te=z,he=bl(k);te--;)q[te]=arguments[te];var ke=z<3&&q[0]!==he&&q[z-1]!==he?[]:Pi(q,he);if(z-=ke.length,z<p)return hn(n,s,b,k.placeholder,l,q,ke,l,l,p-z);var Ae=this&&this!==Cn&&this instanceof k?w:n;return sn(Ae,this,q)}return k}function v(n){return function(s,p,w){var k=At(s);if(!_i(s)){var z=kt(p,3);s=kr(s),p=function(te){return z(k[te],te,k)}}var q=n(s,p,w);return q>-1?k[z?s[q]:q]:l}}function _(n){return Vt(function(s){var p=s.length,w=p,k=wr.prototype.thru;for(n&&s.reverse();w--;){var z=s[w];if(typeof z!="function")throw new Fr(c);if(k&&!q&&Sl(z)=="wrapper")var q=new wr([],!0)}for(w=q?w:p;++w<p;){z=s[w];var te=Sl(z),he=te=="wrapper"?$i(z):l;he&&Id(he[0])&&he[1]==(j|L|D|W)&&!he[4].length&&he[9]==1?q=q[Sl(he[0])].apply(q,he[3]):q=z.length==1&&Id(z)?q[te]():q.thru(z)}return function(){var ke=arguments,Ae=ke[0];if(q&&ke.length==1&&Gt(Ae))return q.plant(Ae).value();for(var Ie=0,Xe=p?s[Ie].apply(this,ke):Ae;++Ie<p;)Xe=s[Ie].call(this,Xe);return Xe}})}function b(n,s,p,w,k,z,q,te,he,ke){var Ae=s&j,Ie=s&R,Xe=s&A,yt=s&(L|F),Rt=s&X,qt=Xe?l:i(n);function Pt(){for(var nn=arguments.length,ln=ye(nn),Di=nn;Di--;)ln[Di]=arguments[Di];if(yt)var ui=bl(Pt),Fi=Ri(ln,ui);if(w&&(ln=zo(ln,w,k,yt)),z&&(ln=Ns(ln,z,q,yt)),nn-=Fi,yt&&nn<ke){var tr=Pi(ln,ui);return hn(n,s,b,Pt.placeholder,p,ln,tr,te,he,ke-nn)}var _o=Ie?p:this,pa=Xe?_o[n]:n;return nn=ln.length,te?ln=S1(ln,te):Rt&&nn>1&&ln.reverse(),Ae&&he<nn&&(ln.length=he),this&&this!==Cn&&this instanceof Pt&&(pa=qt||i(pa)),pa.apply(_o,ln)}return Pt}function H(n,s){return function(p,w){return Su(p,n,s(w),{})}}function ue(n,s){return function(p,w){var k;if(p===l&&w===l)return s;if(p!==l&&(k=p),w!==l){if(k===l)return w;typeof p=="string"||typeof w=="string"?(p=br(p),w=br(w)):(p=vl(p),w=vl(w)),k=n(p,w)}return k}}function xe(n){return Vt(function(s){return s=xn(s,Nr(kt())),bt(function(p){var w=this;return n(s,function(k){return sn(k,w,p)})})})}function Ne(n,s){s=s===l?" ":br(s);var p=s.length;if(p<2)return p?Ka(s,n):s;var w=Ka(s,xs(n/Vi(s)));return ea(s)?Fo(Un(w),0,n).join(""):w.slice(0,n)}function at(n,s,p,w){var k=s&R,z=i(n);function q(){for(var te=-1,he=arguments.length,ke=-1,Ae=w.length,Ie=ye(Ae+he),Xe=this&&this!==Cn&&this instanceof q?z:n;++ke<Ae;)Ie[ke]=w[ke];for(;he--;)Ie[ke++]=arguments[++te];return sn(Xe,k?p:this,Ie)}return q}function zt(n){return function(s,p,w){return w&&typeof w!="number"&&li(s,p,w)&&(p=w=l),s=ha(s),p===l?(p=s,s=0):p=ha(p),w=w===l?s<p?1:-1:ha(w),gi(s,p,w,n)}}function wt(n){return function(s,p){return typeof s=="string"&&typeof p=="string"||(s=to(s),p=to(p)),n(s,p)}}function hn(n,s,p,w,k,z,q,te,he,ke){var Ae=s&L,Ie=Ae?q:l,Xe=Ae?l:q,yt=Ae?z:l,Rt=Ae?l:z;s|=Ae?D:G,s&=~(Ae?G:D),s&I||(s&=~(R|A));var qt=[n,s,k,yt,Ie,Rt,Xe,te,he,ke],Pt=p.apply(l,qt);return Id(n)&&Gp(Pt,qt),Pt.placeholder=w,Wp(Pt,n,s)}function pt(n){var s=En[n];return function(p,w){if(p=to(p),w=w==null?0:_r(Xt(w),292),w&&lu(p)){var k=(pn(p)+"e").split("e"),z=s(k[0]+"e"+(+k[1]+w));return k=(pn(z)+"e").split("e"),+(k[0]+"e"+(+k[1]-w))}return s(p)}}var Cr=Ba&&1/ms(new Ba([,-0]))[1]==Te?function(n){return new Ba(n)}:Jd;function si(n){return function(s){var p=Kr(s);return p==ot?ps(s):p==Ee?gc(s):hc(s,n(s))}}function ge(n,s,p,w,k,z,q,te){var he=s&A;if(!he&&typeof n!="function")throw new Fr(c);var ke=w?w.length:0;if(ke||(s&=~(D|G),w=k=l),q=q===l?q:Zn(Xt(q),0),te=te===l?te:Xt(te),ke-=k?k.length:0,s&G){var Ae=w,Ie=k;w=k=l}var Xe=he?l:$i(n),yt=[n,s,p,w,k,Ae,Ie,z,q,te];if(Xe&&_1(yt,Xe),n=yt[0],s=yt[1],p=yt[2],w=yt[3],k=yt[4],te=yt[9]=yt[9]===l?he?0:n.length:Zn(yt[9]-ke,0),!te&&s&(L|F)&&(s&=~(L|F)),!s||s==R)var Rt=Ad(n,s,p);else s==L||s==F?Rt=f(n,s,te):(s==D||s==(R|D))&&!k.length?Rt=at(n,s,p,w):Rt=b.apply(l,yt);var qt=Xe?Xc:Gp;return Wp(qt(Rt,yt),n,s)}function de(n,s,p,w){return n===l||yo(n,Na[p])&&!cn.call(w,p)?s:n}function we(n,s,p,w,k,z){return jn(n)&&jn(s)&&(z.set(s,n),Ui(n,s,l,we,z),z.delete(s)),n}function qe(n){return Nu(n)?l:n}function mt(n,s,p,w,k,z){var q=p&E,te=n.length,he=s.length;if(te!=he&&!(q&&he>te))return!1;var ke=z.get(n),Ae=z.get(s);if(ke&&Ae)return ke==s&&Ae==n;var Ie=-1,Xe=!0,yt=p&P?new Po:l;for(z.set(n,s),z.set(s,n);++Ie<te;){var Rt=n[Ie],qt=s[Ie];if(w)var Pt=q?w(qt,Rt,Ie,s,n,z):w(Rt,qt,Ie,n,s,z);if(Pt!==l){if(Pt)continue;Xe=!1;break}if(yt){if(!cs(s,function(nn,ln){if(!sr(yt,ln)&&(Rt===nn||k(Rt,nn,p,w,z)))return yt.push(ln)})){Xe=!1;break}}else if(!(Rt===qt||k(Rt,qt,p,w,z))){Xe=!1;break}}return z.delete(n),z.delete(s),Xe}function Ht(n,s,p,w,k,z,q){switch(p){case nt:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case tt:return!(n.byteLength!=s.byteLength||!z(new ys(n),new ys(s)));case _e:case Oe:case Ve:return yo(+n,+s);case Pe:return n.name==s.name&&n.message==s.message;case He:case xt:return n==s+"";case ot:var te=ps;case Ee:var he=w&E;if(te||(te=ms),n.size!=s.size&&!he)return!1;var ke=q.get(n);if(ke)return ke==s;w|=P,q.set(n,s);var Ae=mt(te(n),te(s),w,k,z,q);return q.delete(n),Ae;case je:if(po)return po.call(n)==po.call(s)}return!1}function Bt(n,s,p,w,k,z){var q=p&E,te=Yn(n),he=te.length,ke=Yn(s),Ae=ke.length;if(he!=Ae&&!q)return!1;for(var Ie=he;Ie--;){var Xe=te[Ie];if(!(q?Xe in s:cn.call(s,Xe)))return!1}var yt=z.get(n),Rt=z.get(s);if(yt&&Rt)return yt==s&&Rt==n;var qt=!0;z.set(n,s),z.set(s,n);for(var Pt=q;++Ie<he;){Xe=te[Ie];var nn=n[Xe],ln=s[Xe];if(w)var Di=q?w(ln,nn,Xe,s,n,z):w(nn,ln,Xe,n,s,z);if(!(Di===l?nn===ln||k(nn,ln,p,w,z):Di)){qt=!1;break}Pt||(Pt=Xe=="constructor")}if(qt&&!Pt){var ui=n.constructor,Fi=s.constructor;ui!=Fi&&"constructor"in n&&"constructor"in s&&!(typeof ui=="function"&&ui instanceof ui&&typeof Fi=="function"&&Fi instanceof Fi)&&(qt=!1)}return z.delete(n),z.delete(s),qt}function Vt(n){return Md(Bp(n,l,qp),n+"")}function Yn(n){return cl(n,kr,Pd)}function rn(n){return cl(n,wi,Up)}var $i=il?function(n){return il.get(n)}:Jd;function Sl(n){for(var s=n.name+"",p=ia[s],w=cn.call(ia,s)?p.length:0;w--;){var k=p[w],z=k.func;if(z==null||z==n)return k.name}return s}function bl(n){var s=cn.call(M,"placeholder")?M:n;return s.placeholder}function kt(){var n=M.iteratee||Vd;return n=n===Vd?Xa:n,arguments.length?n(arguments[0],arguments[1]):n}function tf(n,s){var p=n.__data__;return m1(s)?p[typeof s=="string"?"string":"hash"]:p.map}function Rd(n){for(var s=kr(n),p=s.length;p--;){var w=s[p],k=n[w];s[p]=[w,k,Fp(k)]}return s}function Fs(n,s){var p=nu(n,s);return Ya(p)?p:l}function l1(n){var s=cn.call(n,Xi),p=n[Xi];try{n[Xi]=l;var w=!0}catch{}var k=ti.call(n);return w&&(s?n[Xi]=p:delete n[Xi]),k}var Pd=bs?function(n){return n==null?[]:(n=At(n),yr(bs(n),function(s){return rl.call(n,s)}))}:Xd,Up=bs?function(n){for(var s=[];n;)Ci(s,Pd(n)),n=_s(n);return s}:Xd,Kr=lr;(za&&Kr(new za(new ArrayBuffer(1)))!=nt||Es&&Kr(new Es)!=ot||cu&&Kr(cu.resolve())!=Me||Ba&&Kr(new Ba)!=Ee||na&&Kr(new na)!=ze)&&(Kr=function(n){var s=lr(n),p=s==et?n.constructor:l,w=p?zs(p):"";if(w)switch(w){case Cc:return nt;case kc:return ot;case Ac:return Me;case Rc:return Ee;case qi:return ze}return s});function u1(n,s,p){for(var w=-1,k=p.length;++w<k;){var z=p[w],q=z.size;switch(z.type){case"drop":n+=q;break;case"dropRight":s-=q;break;case"take":s=_r(s,n+q);break;case"takeRight":n=Zn(n,s-q);break}}return{start:n,end:s}}function c1(n){var s=n.match(fr);return s?s[1].split(Qr):[]}function Np(n,s,p){s=Do(s,n);for(var w=-1,k=s.length,z=!1;++w<k;){var q=Bo(s[w]);if(!(z=n!=null&&p(n,q)))break;n=n[q]}return z||++w!=k?z:(k=n==null?0:n.length,!!k&&uf(k)&&fa(q,k)&&(Gt(n)||Bs(n)))}function f1(n){var s=n.length,p=new n.constructor(s);return s&&typeof n[0]=="string"&&cn.call(n,"index")&&(p.index=n.index,p.input=n.input),p}function Dp(n){return typeof n.constructor=="function"&&!Mu(n)?mo(_s(n)):{}}function d1(n,s,p){var w=n.constructor;switch(s){case tt:return _l(n);case _e:case Oe:return new w(+n);case nt:return Cd(n,p);case gt:case Ct:case en:case un:case It:case Ot:case ct:case oe:case Re:return Zc(n,p);case ot:return new w;case Ve:case xt:return new w(n);case He:return vi(n);case Ee:return new w;case je:return Iu(n)}}function h1(n,s){var p=s.length;if(!p)return n;var w=p-1;return s[w]=(p>1?"& ":"")+s[w],s=s.join(p>2?", ":" "),n.replace(ci,`{
/* [wrapped with `+s+`] */
`)}function p1(n){return Gt(n)||Bs(n)||!!(su&&n&&n[su])}function fa(n,s){var p=typeof n;return s=s??Y,!!s&&(p=="number"||p!="symbol"&&Ta.test(n))&&n>-1&&n%1==0&&n<s}function li(n,s,p){if(!jn(p))return!1;var w=typeof s;return(w=="number"?_i(p)&&fa(s,p.length):w=="string"&&s in p)?yo(p[s],n):!1}function Ld(n,s){if(Gt(n))return!1;var p=typeof n;return p=="number"||p=="symbol"||p=="boolean"||n==null||Ni(n)?!0:gn.test(n)||!Dt.test(n)||s!=null&&n in At(s)}function m1(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function Id(n){var s=Sl(n),p=M[s];if(typeof p!="function"||!(s in Et.prototype))return!1;if(n===p)return!0;var w=$i(p);return!!w&&n===w[0]}function g1(n){return!!Ji&&Ji in n}var v1=Qn?da:qd;function Mu(n){var s=n&&n.constructor,p=typeof s=="function"&&s.prototype||Na;return n===p}function Fp(n){return n===n&&!jn(n)}function zp(n,s){return function(p){return p==null?!1:p[n]===s&&(s!==l||n in At(p))}}function y1(n){var s=sf(n,function(w){return p.size===g&&p.clear(),w}),p=s.cache;return s}function _1(n,s){var p=n[1],w=s[1],k=p|w,z=k<(R|A|j),q=w==j&&p==L||w==j&&p==W&&n[7].length<=s[8]||w==(j|W)&&s[7].length<=s[8]&&p==L;if(!(z||q))return n;w&R&&(n[2]=s[2],k|=p&R?0:I);var te=s[3];if(te){var he=n[3];n[3]=he?zo(he,te,s[4]):te,n[4]=he?Pi(n[3],m):s[4]}return te=s[5],te&&(he=n[5],n[5]=he?Ns(he,te,s[6]):te,n[6]=he?Pi(n[5],m):s[6]),te=s[7],te&&(n[7]=te),w&j&&(n[8]=n[8]==null?s[8]:_r(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=k,n}function w1(n){var s=[];if(n!=null)for(var p in At(n))s.push(p);return s}function x1(n){return ti.call(n)}function Bp(n,s,p){return s=Zn(s===l?n.length-1:s,0),function(){for(var w=arguments,k=-1,z=Zn(w.length-s,0),q=ye(z);++k<z;)q[k]=w[s+k];k=-1;for(var te=ye(s+1);++k<s;)te[k]=w[k];return te[s]=p(q),sn(n,this,te)}}function jp(n,s){return s.length<2?n:Mi(n,ai(s,0,-1))}function S1(n,s){for(var p=n.length,w=_r(s.length,p),k=Tr(n);w--;){var z=s[w];n[w]=fa(z,p)?k[z]:l}return n}function Od(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var Gp=Hp(Xc),Uu=wc||function(n,s){return Cn.setTimeout(n,s)},Md=Hp(Oo);function Wp(n,s,p){var w=s+"";return Md(n,h1(w,b1(c1(w),p)))}function Hp(n){var s=0,p=0;return function(){var w=bc(),k=fe-(w-p);if(p=w,k>0){if(++s>=V)return arguments[0]}else s=0;return n.apply(l,arguments)}}function nf(n,s){var p=-1,w=n.length,k=w-1;for(s=s===l?w:s;++p<s;){var z=Qi(p,k),q=n[z];n[z]=n[p],n[p]=q}return n.length=s,n}var Vp=y1(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(_n,function(p,w,k,z){s.push(k?z.replace(Sa,"$1"):w||p)}),s});function Bo(n){if(typeof n=="string"||Ni(n))return n;var s=n+"";return s=="0"&&1/n==-Te?"-0":s}function zs(n){if(n!=null){try{return Da.call(n)}catch{}try{return n+""}catch{}}return""}function b1(n,s){return Kn(se,function(p){var w="_."+p[0];s&p[1]&&!Ti(n,w)&&n.push(w)}),n.sort()}function Yp(n){if(n instanceof Et)return n.clone();var s=new wr(n.__wrapped__,n.__chain__);return s.__actions__=Tr(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function E1(n,s,p){(p?li(n,s,p):s===l)?s=1:s=Zn(Xt(s),0);var w=n==null?0:n.length;if(!w||s<1)return[];for(var k=0,z=0,q=ye(xs(w/s));k<w;)q[z++]=ai(n,k,k+=s);return q}function T1(n){for(var s=-1,p=n==null?0:n.length,w=0,k=[];++s<p;){var z=n[s];z&&(k[w++]=z)}return k}function C1(){var n=arguments.length;if(!n)return[];for(var s=ye(n-1),p=arguments[0],w=n;w--;)s[w-1]=arguments[w];return Ci(Gt(p)?Tr(p):[p],ir(s,1))}var k1=bt(function(n,s){return er(n)?aa(n,ir(s,1,er,!0)):[]}),A1=bt(function(n,s){var p=eo(s);return er(p)&&(p=l),er(n)?aa(n,ir(s,1,er,!0),kt(p,2)):[]}),R1=bt(function(n,s){var p=eo(s);return er(p)&&(p=l),er(n)?aa(n,ir(s,1,er,!0),l,p):[]});function P1(n,s,p){var w=n==null?0:n.length;return w?(s=p||s===l?1:Xt(s),ai(n,s<0?0:s,w)):[]}function L1(n,s,p){var w=n==null?0:n.length;return w?(s=p||s===l?1:Xt(s),s=w-s,ai(n,0,s<0?0:s)):[]}function I1(n,s){return n&&n.length?Us(n,kt(s,3),!0,!0):[]}function O1(n,s){return n&&n.length?Us(n,kt(s,3),!0):[]}function M1(n,s,p,w){var k=n==null?0:n.length;return k?(p&&typeof p!="number"&&li(n,s,p)&&(p=0,w=k),Vc(n,s,p,w)):[]}function Jp(n,s,p){var w=n==null?0:n.length;if(!w)return-1;var k=p==null?0:Xt(p);return k<0&&(k=Zn(w+k,0)),ka(n,kt(s,3),k)}function Xp(n,s,p){var w=n==null?0:n.length;if(!w)return-1;var k=w-1;return p!==l&&(k=Xt(p),k=p<0?Zn(w+k,0):_r(k,w-1)),ka(n,kt(s,3),k,!0)}function qp(n){var s=n==null?0:n.length;return s?ir(n,1):[]}function U1(n){var s=n==null?0:n.length;return s?ir(n,Te):[]}function N1(n,s){var p=n==null?0:n.length;return p?(s=s===l?1:Xt(s),ir(n,s)):[]}function D1(n){for(var s=-1,p=n==null?0:n.length,w={};++s<p;){var k=n[s];w[k[0]]=k[1]}return w}function Kp(n){return n&&n.length?n[0]:l}function F1(n,s,p){var w=n==null?0:n.length;if(!w)return-1;var k=p==null?0:Xt(p);return k<0&&(k=Zn(w+k,0)),ki(n,s,k)}function z1(n){var s=n==null?0:n.length;return s?ai(n,0,-1):[]}var B1=bt(function(n){var s=xn(n,yl);return s.length&&s[0]===n[0]?Ha(s):[]}),j1=bt(function(n){var s=eo(n),p=xn(n,yl);return s===eo(p)?s=l:p.pop(),p.length&&p[0]===n[0]?Ha(p,kt(s,2)):[]}),G1=bt(function(n){var s=eo(n),p=xn(n,yl);return s=typeof s=="function"?s:l,s&&p.pop(),p.length&&p[0]===n[0]?Ha(p,l,s):[]});function W1(n,s){return n==null?"":yd.call(n,s)}function eo(n){var s=n==null?0:n.length;return s?n[s-1]:l}function H1(n,s,p){var w=n==null?0:n.length;if(!w)return-1;var k=w;return p!==l&&(k=Xt(p),k=k<0?Zn(w+k,0):_r(k,w-1)),s===s?vc(n,s,k):ka(n,fs,k,!0)}function V1(n,s){return n&&n.length?go(n,Xt(s)):l}var Y1=bt(Qp);function Qp(n,s){return n&&n.length&&s&&s.length?qa(n,s):n}function J1(n,s,p){return n&&n.length&&s&&s.length?qa(n,s,kt(p,2)):n}function X1(n,s,p){return n&&n.length&&s&&s.length?qa(n,s,l,p):n}var q1=Vt(function(n,s){var p=n==null?0:n.length,w=ll(n,s);return Sr(n,xn(s,function(k){return fa(k,p)?+k:k}).sort(vo)),w});function K1(n,s){var p=[];if(!(n&&n.length))return p;var w=-1,k=[],z=n.length;for(s=kt(s,3);++w<z;){var q=n[w];s(q,w,n)&&(p.push(q),k.push(w))}return Sr(n,k),p}function Ud(n){return n==null?n:Tc.call(n)}function Q1(n,s,p){var w=n==null?0:n.length;return w?(p&&typeof p!="number"&&li(n,s,p)?(s=0,p=w):(s=s==null?0:Xt(s),p=p===l?w:Xt(p)),ai(n,s,p)):[]}function Z1(n,s){return Zi(n,s)}function $1(n,s,p){return gl(n,s,kt(p,2))}function ey(n,s){var p=n==null?0:n.length;if(p){var w=Zi(n,s);if(w<p&&yo(n[w],s))return w}return-1}function ty(n,s){return Zi(n,s,!0)}function ny(n,s,p){return gl(n,s,kt(p,2),!0)}function ry(n,s){var p=n==null?0:n.length;if(p){var w=Zi(n,s,!0)-1;if(yo(n[w],s))return w}return-1}function iy(n){return n&&n.length?ku(n):[]}function oy(n,s){return n&&n.length?ku(n,kt(s,2)):[]}function ay(n){var s=n==null?0:n.length;return s?ai(n,1,s):[]}function sy(n,s,p){return n&&n.length?(s=p||s===l?1:Xt(s),ai(n,0,s<0?0:s)):[]}function ly(n,s,p){var w=n==null?0:n.length;return w?(s=p||s===l?1:Xt(s),s=w-s,ai(n,s<0?0:s,w)):[]}function uy(n,s){return n&&n.length?Us(n,kt(s,3),!1,!0):[]}function cy(n,s){return n&&n.length?Us(n,kt(s,3)):[]}var fy=bt(function(n){return Mo(ir(n,1,er,!0))}),dy=bt(function(n){var s=eo(n);return er(s)&&(s=l),Mo(ir(n,1,er,!0),kt(s,2))}),hy=bt(function(n){var s=eo(n);return s=typeof s=="function"?s:l,Mo(ir(n,1,er,!0),l,s)});function py(n){return n&&n.length?Mo(n):[]}function my(n,s){return n&&n.length?Mo(n,kt(s,2)):[]}function gy(n,s){return s=typeof s=="function"?s:l,n&&n.length?Mo(n,l,s):[]}function Nd(n){if(!(n&&n.length))return[];var s=0;return n=yr(n,function(p){if(er(p))return s=Zn(p.length,s),!0}),fo(s,function(p){return xn(n,Xr(p))})}function Zp(n,s){if(!(n&&n.length))return[];var p=Nd(n);return s==null?p:xn(p,function(w){return sn(s,l,w)})}var vy=bt(function(n,s){return er(n)?aa(n,s):[]}),yy=bt(function(n){return Pu(yr(n,er))}),_y=bt(function(n){var s=eo(n);return er(s)&&(s=l),Pu(yr(n,er),kt(s,2))}),wy=bt(function(n){var s=eo(n);return s=typeof s=="function"?s:l,Pu(yr(n,er),l,s)}),xy=bt(Nd);function Sy(n,s){return No(n||[],s||[],Ii)}function by(n,s){return No(n||[],s||[],ua)}var Ey=bt(function(n){var s=n.length,p=s>1?n[s-1]:l;return p=typeof p=="function"?(n.pop(),p):l,Zp(n,p)});function $p(n){var s=M(n);return s.__chain__=!0,s}function Ty(n,s){return s(n),n}function rf(n,s){return s(n)}var Cy=Vt(function(n){var s=n.length,p=s?n[0]:0,w=this.__wrapped__,k=function(z){return ll(z,n)};return s>1||this.__actions__.length||!(w instanceof Et)||!fa(p)?this.thru(k):(w=w.slice(p,+p+(s?1:0)),w.__actions__.push({func:rf,args:[k],thisArg:l}),new wr(w,this.__chain__).thru(function(z){return s&&!z.length&&z.push(l),z}))});function ky(){return $p(this)}function Ay(){return new wr(this.value(),this.__chain__)}function Ry(){this.__values__===l&&(this.__values__=hm(this.value()));var n=this.__index__>=this.__values__.length,s=n?l:this.__values__[this.__index__++];return{done:n,value:s}}function Py(){return this}function Ly(n){for(var s,p=this;p instanceof Cs;){var w=Yp(p);w.__index__=0,w.__values__=l,s?k.__wrapped__=w:s=w;var k=w;p=p.__wrapped__}return k.__wrapped__=n,s}function Iy(){var n=this.__wrapped__;if(n instanceof Et){var s=n;return this.__actions__.length&&(s=new Et(this)),s=s.reverse(),s.__actions__.push({func:rf,args:[Ud],thisArg:l}),new wr(s,this.__chain__)}return this.thru(Ud)}function Oy(){return Uo(this.__wrapped__,this.__actions__)}var My=Ds(function(n,s,p){cn.call(n,p)?++n[p]:Ki(n,p,1)});function Uy(n,s,p){var w=Gt(n)?$l:Ed;return p&&li(n,s,p)&&(s=l),w(n,kt(s,3))}function Ny(n,s){var p=Gt(n)?yr:wu;return p(n,kt(s,3))}var Dy=v(Jp),Fy=v(Xp);function zy(n,s){return ir(of(n,s),1)}function By(n,s){return ir(of(n,s),Te)}function jy(n,s,p){return p=p===l?1:Xt(p),ir(of(n,s),p)}function em(n,s){var p=Gt(n)?Kn:Oi;return p(n,kt(s,3))}function tm(n,s){var p=Gt(n)?Zl:Hc;return p(n,kt(s,3))}var Gy=Ds(function(n,s,p){cn.call(n,p)?n[p].push(s):Ki(n,p,[s])});function Wy(n,s,p,w){n=_i(n)?n:Tl(n),p=p&&!w?Xt(p):0;var k=n.length;return p<0&&(p=Zn(k+p,0)),cf(n)?p<=k&&n.indexOf(s,p)>-1:!!k&&ki(n,s,p)>-1}var Hy=bt(function(n,s,p){var w=-1,k=typeof s=="function",z=_i(n)?ye(n.length):[];return Oi(n,function(q){z[++w]=k?sn(s,q,p):bn(q,s,p)}),z}),Vy=Ds(function(n,s,p){Ki(n,p,s)});function of(n,s){var p=Gt(n)?xn:la;return p(n,kt(s,3))}function Yy(n,s,p,w){return n==null?[]:(Gt(s)||(s=s==null?[]:[s]),p=w?l:p,Gt(p)||(p=p==null?[]:[p]),Os(n,s,p))}var Jy=Ds(function(n,s,p){n[p?0:1].push(s)},function(){return[[],[]]});function Xy(n,s,p){var w=Gt(n)?Zs:To,k=arguments.length<3;return w(n,kt(s,4),p,k,Oi)}function qy(n,s,p){var w=Gt(n)?cc:To,k=arguments.length<3;return w(n,kt(s,4),p,k,Hc)}function Ky(n,s){var p=Gt(n)?yr:wu;return p(n,lf(kt(s,3)))}function Qy(n){var s=Gt(n)?ks:Jc;return s(n)}function Zy(n,s,p){(p?li(n,s,p):s===l)?s=1:s=Xt(s);var w=Gt(n)?pu:Tu;return w(n,s)}function $y(n){var s=Gt(n)?Gc:qc;return s(n)}function e_(n){if(n==null)return 0;if(_i(n))return cf(n)?Vi(n):n.length;var s=Kr(n);return s==ot||s==Ee?n.size:xr(n).length}function t_(n,s,p){var w=Gt(n)?cs:Cu;return p&&li(n,s,p)&&(s=l),w(n,kt(s,3))}var n_=bt(function(n,s){if(n==null)return[];var p=s.length;return p>1&&li(n,s[0],s[1])?s=[]:p>2&&li(s[0],s[1],s[2])&&(s=[s[0]]),Os(n,ir(s,1),[])}),af=_c||function(){return Cn.Date.now()};function r_(n,s){if(typeof s!="function")throw new Fr(c);return n=Xt(n),function(){if(--n<1)return s.apply(this,arguments)}}function nm(n,s,p){return s=p?l:s,s=n&&s==null?n.length:s,ge(n,j,l,l,l,l,s)}function rm(n,s){var p;if(typeof s!="function")throw new Fr(c);return n=Xt(n),function(){return--n>0&&(p=s.apply(this,arguments)),n<=1&&(s=l),p}}var Dd=bt(function(n,s,p){var w=R;if(p.length){var k=Pi(p,bl(Dd));w|=D}return ge(n,w,s,p,k)}),im=bt(function(n,s,p){var w=R|A;if(p.length){var k=Pi(p,bl(im));w|=D}return ge(s,w,n,p,k)});function om(n,s,p){s=p?l:s;var w=ge(n,L,l,l,l,l,l,s);return w.placeholder=om.placeholder,w}function am(n,s,p){s=p?l:s;var w=ge(n,F,l,l,l,l,l,s);return w.placeholder=am.placeholder,w}function sm(n,s,p){var w,k,z,q,te,he,ke=0,Ae=!1,Ie=!1,Xe=!0;if(typeof n!="function")throw new Fr(c);s=to(s)||0,jn(p)&&(Ae=!!p.leading,Ie="maxWait"in p,z=Ie?Zn(to(p.maxWait)||0,s):z,Xe="trailing"in p?!!p.trailing:Xe);function yt(tr){var _o=w,pa=k;return w=k=l,ke=tr,q=n.apply(pa,_o),q}function Rt(tr){return ke=tr,te=Uu(nn,s),Ae?yt(tr):q}function qt(tr){var _o=tr-he,pa=tr-ke,Cm=s-_o;return Ie?_r(Cm,z-pa):Cm}function Pt(tr){var _o=tr-he,pa=tr-ke;return he===l||_o>=s||_o<0||Ie&&pa>=z}function nn(){var tr=af();if(Pt(tr))return ln(tr);te=Uu(nn,qt(tr))}function ln(tr){return te=l,Xe&&w?yt(tr):(w=k=l,q)}function Di(){te!==l&&Qc(te),ke=0,w=he=k=te=l}function ui(){return te===l?q:ln(af())}function Fi(){var tr=af(),_o=Pt(tr);if(w=arguments,k=this,he=tr,_o){if(te===l)return Rt(he);if(Ie)return Qc(te),te=Uu(nn,s),yt(he)}return te===l&&(te=Uu(nn,s)),q}return Fi.cancel=Di,Fi.flush=ui,Fi}var i_=bt(function(n,s){return _u(n,1,s)}),o_=bt(function(n,s,p){return _u(n,to(s)||0,p)});function a_(n){return ge(n,X)}function sf(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new Fr(c);var p=function(){var w=arguments,k=s?s.apply(this,w):w[0],z=p.cache;if(z.has(k))return z.get(k);var q=n.apply(this,w);return p.cache=z.set(k,q)||z,q};return p.cache=new(sf.Cache||mi),p}sf.Cache=mi;function lf(n){if(typeof n!="function")throw new Fr(c);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function s_(n){return rm(2,n)}var l_=Kc(function(n,s){s=s.length==1&&Gt(s[0])?xn(s[0],Nr(kt())):xn(ir(s,1),Nr(kt()));var p=s.length;return bt(function(w){for(var k=-1,z=_r(w.length,p);++k<z;)w[k]=s[k].call(this,w[k]);return sn(n,this,w)})}),Fd=bt(function(n,s){var p=Pi(s,bl(Fd));return ge(n,D,l,s,p)}),lm=bt(function(n,s){var p=Pi(s,bl(lm));return ge(n,G,l,s,p)}),u_=Vt(function(n,s){return ge(n,W,l,l,l,s)});function c_(n,s){if(typeof n!="function")throw new Fr(c);return s=s===l?s:Xt(s),bt(n,s)}function f_(n,s){if(typeof n!="function")throw new Fr(c);return s=s==null?0:Zn(Xt(s),0),bt(function(p){var w=p[s],k=Fo(p,0,s);return w&&Ci(k,w),sn(n,this,k)})}function d_(n,s,p){var w=!0,k=!0;if(typeof n!="function")throw new Fr(c);return jn(p)&&(w="leading"in p?!!p.leading:w,k="trailing"in p?!!p.trailing:k),sm(n,s,{leading:w,maxWait:s,trailing:k})}function h_(n){return nm(n,1)}function p_(n,s){return Fd(Er(s),n)}function m_(){if(!arguments.length)return[];var n=arguments[0];return Gt(n)?n:[n]}function g_(n){return ri(n,S)}function v_(n,s){return s=typeof s=="function"?s:l,ri(n,S,s)}function y_(n){return ri(n,y|S)}function __(n,s){return s=typeof s=="function"?s:l,ri(n,y|S,s)}function w_(n,s){return s==null||ul(n,s,kr(s))}function yo(n,s){return n===s||n!==n&&s!==s}var x_=wt(Ps),S_=wt(function(n,s){return n>=s}),Bs=Wt(function(){return arguments}())?Wt:function(n){return Jn(n)&&cn.call(n,"callee")&&!rl.call(n,"callee")},Gt=ye.isArray,b_=uo?Nr(uo):Hn;function _i(n){return n!=null&&uf(n.length)&&!da(n)}function er(n){return Jn(n)&&_i(n)}function E_(n){return n===!0||n===!1||Jn(n)&&lr(n)==_e}var Qa=xc||qd,T_=$o?Nr($o):Vn;function C_(n){return Jn(n)&&n.nodeType===1&&!Nu(n)}function k_(n){if(n==null)return!0;if(_i(n)&&(Gt(n)||typeof n=="string"||typeof n.splice=="function"||Qa(n)||El(n)||Bs(n)))return!n.length;var s=Kr(n);if(s==ot||s==Ee)return!n.size;if(Mu(n))return!xr(n).length;for(var p in n)if(cn.call(n,p))return!1;return!0}function A_(n,s){return zn(n,s)}function R_(n,s,p){p=typeof p=="function"?p:l;var w=p?p(n,s):l;return w===l?zn(n,s,l,p):!!w}function zd(n){if(!Jn(n))return!1;var s=lr(n);return s==Pe||s==Be||typeof n.message=="string"&&typeof n.name=="string"&&!Nu(n)}function P_(n){return typeof n=="number"&&lu(n)}function da(n){if(!jn(n))return!1;var s=lr(n);return s==Ce||s==ht||s==ce||s==lt}function um(n){return typeof n=="number"&&n==Xt(n)}function uf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Y}function jn(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Jn(n){return n!=null&&typeof n=="object"}var cm=us?Nr(us):Va;function L_(n,s){return n===s||Bn(n,s,Rd(s))}function I_(n,s,p){return p=typeof p=="function"?p:l,Bn(n,s,Rd(s),p)}function O_(n){return fm(n)&&n!=+n}function M_(n){if(v1(n))throw new Lt(o);return Ya(n)}function U_(n){return n===null}function N_(n){return n==null}function fm(n){return typeof n=="number"||Jn(n)&&lr(n)==Ve}function Nu(n){if(!Jn(n)||lr(n)!=et)return!1;var s=_s(n);if(s===null)return!0;var p=cn.call(s,"constructor")&&s.constructor;return typeof p=="function"&&p instanceof p&&Da.call(p)==ta}var Bd=qn?Nr(qn):Ja;function D_(n){return um(n)&&n>=-Y&&n<=Y}var dm=vr?Nr(vr):fl;function cf(n){return typeof n=="string"||!Gt(n)&&Jn(n)&&lr(n)==xt}function Ni(n){return typeof n=="symbol"||Jn(n)&&lr(n)==je}var El=Mn?Nr(Mn):bu;function F_(n){return n===l}function z_(n){return Jn(n)&&Kr(n)==ze}function B_(n){return Jn(n)&&lr(n)==Zt}var j_=wt(Ls),G_=wt(function(n,s){return n<=s});function hm(n){if(!n)return[];if(_i(n))return cf(n)?Un(n):Tr(n);if(Ro&&n[Ro])return Pa(n[Ro]());var s=Kr(n),p=s==ot?ps:s==Ee?ms:Tl;return p(n)}function ha(n){if(!n)return n===0?n:0;if(n=to(n),n===Te||n===-Te){var s=n<0?-1:1;return s*Q}return n===n?n:0}function Xt(n){var s=ha(n),p=s%1;return s===s?p?s-p:s:0}function pm(n){return n?Io(Xt(n),0,B):0}function to(n){if(typeof n=="number")return n;if(Ni(n))return J;if(jn(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=jn(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=el(n);var p=oo.test(n);return p||as.test(n)?ls(n.slice(2),p?2:8):Ea.test(n)?J:+n}function mm(n){return yi(n,wi(n))}function W_(n){return n?Io(Xt(n),-Y,Y):n===0?n:0}function pn(n){return n==null?"":br(n)}var H_=ca(function(n,s){if(Mu(s)||_i(s)){yi(s,kr(s),n);return}for(var p in s)cn.call(s,p)&&Ii(n,p,s[p])}),gm=ca(function(n,s){yi(s,wi(s),n)}),ff=ca(function(n,s,p,w){yi(s,wi(s),n,w)}),V_=ca(function(n,s,p,w){yi(s,kr(s),n,w)}),Y_=Vt(ll);function J_(n,s){var p=mo(n);return s==null?p:vu(p,s)}var X_=bt(function(n,s){n=At(n);var p=-1,w=s.length,k=w>2?s[2]:l;for(k&&li(s[0],s[1],k)&&(w=1);++p<w;)for(var z=s[p],q=wi(z),te=-1,he=q.length;++te<he;){var ke=q[te],Ae=n[ke];(Ae===l||yo(Ae,Na[ke])&&!cn.call(n,ke))&&(n[ke]=z[ke])}return n}),q_=bt(function(n){return n.push(l,we),sn(vm,l,n)});function K_(n,s){return eu(n,kt(s,3),ii)}function Q_(n,s){return eu(n,kt(s,3),Wa)}function Z_(n,s){return n==null?n:Ga(n,kt(s,3),wi)}function $_(n,s){return n==null?n:Rs(n,kt(s,3),wi)}function ew(n,s){return n&&ii(n,kt(s,3))}function tw(n,s){return n&&Wa(n,kt(s,3))}function nw(n){return n==null?[]:sa(n,kr(n))}function rw(n){return n==null?[]:sa(n,wi(n))}function jd(n,s,p){var w=n==null?l:Mi(n,s);return w===l?p:w}function iw(n,s){return n!=null&&Np(n,s,Yc)}function Gd(n,s){return n!=null&&Np(n,s,xu)}var ow=H(function(n,s,p){s!=null&&typeof s.toString!="function"&&(s=ti.call(s)),n[s]=p},Hd(xi)),aw=H(function(n,s,p){s!=null&&typeof s.toString!="function"&&(s=ti.call(s)),cn.call(n,s)?n[s].push(p):n[s]=[p]},kt),sw=bt(bn);function kr(n){return _i(n)?We(n):xr(n)}function wi(n){return _i(n)?We(n,!0):Eu(n)}function lw(n,s){var p={};return s=kt(s,3),ii(n,function(w,k,z){Ki(p,s(w,k,z),w)}),p}function uw(n,s){var p={};return s=kt(s,3),ii(n,function(w,k,z){Ki(p,k,s(w,k,z))}),p}var cw=ca(function(n,s,p){Ui(n,s,p)}),vm=ca(function(n,s,p,w){Ui(n,s,p,w)}),fw=Vt(function(n,s){var p={};if(n==null)return p;var w=!1;s=xn(s,function(z){return z=Do(z,n),w||(w=z.length>1),z}),yi(n,rn(n),p),w&&(p=ri(p,y|x|S,qe));for(var k=s.length;k--;)Au(p,s[k]);return p});function dw(n,s){return ym(n,lf(kt(s)))}var hw=Vt(function(n,s){return n==null?{}:Ms(n,s)});function ym(n,s){if(n==null)return{};var p=xn(rn(n),function(w){return[w]});return s=kt(s),pl(n,p,function(w,k){return s(w,k[0])})}function pw(n,s,p){s=Do(s,n);var w=-1,k=s.length;for(k||(k=1,n=l);++w<k;){var z=n==null?l:n[Bo(s[w])];z===l&&(w=k,z=p),n=da(z)?z.call(n):z}return n}function mw(n,s,p){return n==null?n:ua(n,s,p)}function gw(n,s,p,w){return w=typeof w=="function"?w:l,n==null?n:ua(n,s,p,w)}var _m=si(kr),wm=si(wi);function vw(n,s,p){var w=Gt(n),k=w||Qa(n)||El(n);if(s=kt(s,4),p==null){var z=n&&n.constructor;k?p=w?new z:[]:jn(n)?p=da(z)?mo(_s(n)):{}:p={}}return(k?Kn:ii)(n,function(q,te,he){return s(p,q,te,he)}),p}function yw(n,s){return n==null?!0:Au(n,s)}function _w(n,s,p){return n==null?n:Ru(n,s,Er(p))}function ww(n,s,p,w){return w=typeof w=="function"?w:l,n==null?n:Ru(n,s,Er(p),w)}function Tl(n){return n==null?[]:Dr(n,kr(n))}function xw(n){return n==null?[]:Dr(n,wi(n))}function Sw(n,s,p){return p===l&&(p=s,s=l),p!==l&&(p=to(p),p=p===p?p:0),s!==l&&(s=to(s),s=s===s?s:0),Io(to(n),s,p)}function bw(n,s,p){return s=ha(s),p===l?(p=s,s=0):p=ha(p),n=to(n),Td(n,s,p)}function Ew(n,s,p){if(p&&typeof p!="boolean"&&li(n,s,p)&&(s=p=l),p===l&&(typeof s=="boolean"?(p=s,s=l):typeof n=="boolean"&&(p=n,n=l)),n===l&&s===l?(n=0,s=1):(n=ha(n),s===l?(s=n,n=0):s=ha(s)),n>s){var w=n;n=s,s=w}if(p||n%1||s%1){var k=uu();return _r(n+k*(s-n+ss("1e-"+((k+"").length-1))),s)}return Qi(n,s)}var Tw=r(function(n,s,p){return s=s.toLowerCase(),n+(p?xm(s):s)});function xm(n){return Wd(pn(n).toLowerCase())}function Sm(n){return n=pn(n),n&&n.replace(bo,pc).replace(De,"")}function Cw(n,s,p){n=pn(n),s=br(s);var w=n.length;p=p===l?w:Io(Xt(p),0,w);var k=p;return p-=s.length,p>=0&&n.slice(p,k)==s}function kw(n){return n=pn(n),n&&Ft.test(n)?n.replace(Pn,mc):n}function Aw(n){return n=pn(n),n&&Pr.test(n)?n.replace(wn,"\\$&"):n}var Rw=r(function(n,s,p){return n+(p?"-":"")+s.toLowerCase()}),Pw=r(function(n,s,p){return n+(p?" ":"")+s.toLowerCase()}),Lw=ef("toLowerCase");function Iw(n,s,p){n=pn(n),s=Xt(s);var w=s?Vi(n):0;if(!s||w>=s)return n;var k=(s-w)/2;return Ne(Ss(k),p)+n+Ne(xs(k),p)}function Ow(n,s,p){n=pn(n),s=Xt(s);var w=s?Vi(n):0;return s&&w<s?n+Ne(s-w,p):n}function Mw(n,s,p){n=pn(n),s=Xt(s);var w=s?Vi(n):0;return s&&w<s?Ne(s-w,p)+n:n}function Uw(n,s,p){return p||s==null?s=0:s&&(s=+s),Ec(pn(n).replace(Lr,""),s||0)}function Nw(n,s,p){return(p?li(n,s,p):s===l)?s=1:s=Xt(s),Ka(pn(n),s)}function Dw(){var n=arguments,s=pn(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var Fw=r(function(n,s,p){return n+(p?"_":"")+s.toLowerCase()});function zw(n,s,p){return p&&typeof p!="number"&&li(n,s,p)&&(s=p=l),p=p===l?B:p>>>0,p?(n=pn(n),n&&(typeof s=="string"||s!=null&&!Bd(s))&&(s=br(s),!s&&ea(n))?Fo(Un(n),0,p):n.split(s,p)):[]}var Bw=r(function(n,s,p){return n+(p?" ":"")+Wd(s)});function jw(n,s,p){return n=pn(n),p=p==null?0:Io(Xt(p),0,n.length),s=br(s),n.slice(p,p+s.length)==s}function Gw(n,s,p){var w=M.templateSettings;p&&li(n,s,p)&&(s=l),n=pn(n),s=ff({},s,w,de);var k=ff({},s.imports,w.imports,de),z=kr(k),q=Dr(k,z),te,he,ke=0,Ae=s.interpolate||Ln,Ie="__p += '",Xe=nr((s.escape||Ln).source+"|"+Ae.source+"|"+(Ae===St?qo:Ln).source+"|"+(s.evaluate||Ln).source+"|$","g"),yt="//# sourceURL="+(cn.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ut+"]")+`
`;n.replace(Xe,function(Pt,nn,ln,Di,ui,Fi){return ln||(ln=Di),Ie+=n.slice(ke,Fi).replace(fi,tu),nn&&(te=!0,Ie+=`' +
__e(`+nn+`) +
'`),ui&&(he=!0,Ie+=`';
`+ui+`;
__p += '`),ln&&(Ie+=`' +
((__t = (`+ln+`)) == null ? '' : __t) +
'`),ke=Fi+Pt.length,Pt}),Ie+=`';
`;var Rt=cn.call(s,"variable")&&s.variable;if(!Rt)Ie=`with (obj) {
`+Ie+`
}
`;else if(Si.test(Rt))throw new Lt(h);Ie=(he?Ie.replace(rt,""):Ie).replace(ft,"$1").replace(Ze,"$1;"),Ie="function("+(Rt||"obj")+`) {
`+(Rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ie+`return __p
}`;var qt=Em(function(){return jt(z,yt+"return "+Ie).apply(l,q)});if(qt.source=Ie,zd(qt))throw qt;return qt}function Ww(n){return pn(n).toLowerCase()}function Hw(n){return pn(n).toUpperCase()}function Vw(n,s,p){if(n=pn(n),n&&(p||s===l))return el(n);if(!n||!(s=br(s)))return n;var w=Un(n),k=Un(s),z=Sn(w,k),q=Ra(w,k)+1;return Fo(w,z,q).join("")}function Yw(n,s,p){if(n=pn(n),n&&(p||s===l))return n.slice(0,Oa(n)+1);if(!n||!(s=br(s)))return n;var w=Un(n),k=Ra(w,Un(s))+1;return Fo(w,0,k).join("")}function Jw(n,s,p){if(n=pn(n),n&&(p||s===l))return n.replace(Lr,"");if(!n||!(s=br(s)))return n;var w=Un(n),k=Sn(w,Un(s));return Fo(w,k).join("")}function Xw(n,s){var p=K,w=ie;if(jn(s)){var k="separator"in s?s.separator:k;p="length"in s?Xt(s.length):p,w="omission"in s?br(s.omission):w}n=pn(n);var z=n.length;if(ea(n)){var q=Un(n);z=q.length}if(p>=z)return n;var te=p-Vi(w);if(te<1)return w;var he=q?Fo(q,0,te).join(""):n.slice(0,te);if(k===l)return he+w;if(q&&(te+=he.length-te),Bd(k)){if(n.slice(te).search(k)){var ke,Ae=he;for(k.global||(k=nr(k.source,pn(ba.exec(k))+"g")),k.lastIndex=0;ke=k.exec(Ae);)var Ie=ke.index;he=he.slice(0,Ie===l?te:Ie)}}else if(n.indexOf(br(k),te)!=te){var Xe=he.lastIndexOf(k);Xe>-1&&(he=he.slice(0,Xe))}return he+w}function qw(n){return n=pn(n),n&&on.test(n)?n.replace(Mt,Ma):n}var Kw=r(function(n,s,p){return n+(p?" ":"")+s.toUpperCase()}),Wd=ef("toUpperCase");function bm(n,s,p){return n=pn(n),s=p?l:s,s===l?hs(n)?Ua(n):dc(n):n.match(s)||[]}var Em=bt(function(n,s){try{return sn(n,l,s)}catch(p){return zd(p)?p:new Lt(p)}}),Qw=Vt(function(n,s){return Kn(s,function(p){p=Bo(p),Ki(n,p,Dd(n[p],n))}),n});function Zw(n){var s=n==null?0:n.length,p=kt();return n=s?xn(n,function(w){if(typeof w[1]!="function")throw new Fr(c);return[p(w[0]),w[1]]}):[],bt(function(w){for(var k=-1;++k<s;){var z=n[k];if(sn(z[0],this,w))return sn(z[1],this,w)}})}function $w(n){return yu(ri(n,y))}function Hd(n){return function(){return n}}function ex(n,s){return n==null||n!==n?s:n}var tx=_(),nx=_(!0);function xi(n){return n}function Vd(n){return Xa(typeof n=="function"?n:ri(n,y))}function rx(n){return Is(ri(n,y))}function ix(n,s){return dl(n,ri(s,y))}var ox=bt(function(n,s){return function(p){return bn(p,n,s)}}),ax=bt(function(n,s){return function(p){return bn(n,p,s)}});function Yd(n,s,p){var w=kr(s),k=sa(s,w);p==null&&!(jn(s)&&(k.length||!w.length))&&(p=s,s=n,n=this,k=sa(s,kr(s)));var z=!(jn(p)&&"chain"in p)||!!p.chain,q=da(n);return Kn(k,function(te){var he=s[te];n[te]=he,q&&(n.prototype[te]=function(){var ke=this.__chain__;if(z||ke){var Ae=n(this.__wrapped__),Ie=Ae.__actions__=Tr(this.__actions__);return Ie.push({func:he,args:arguments,thisArg:n}),Ae.__chain__=ke,Ae}return he.apply(n,Ci([this.value()],arguments))})}),n}function sx(){return Cn._===this&&(Cn._=tl),this}function Jd(){}function lx(n){return n=Xt(n),bt(function(s){return go(s,n)})}var ux=xe(xn),cx=xe($l),fx=xe(cs);function Tm(n){return Ld(n)?Xr(Bo(n)):ml(n)}function dx(n){return function(s){return n==null?l:Mi(n,s)}}var hx=zt(),px=zt(!0);function Xd(){return[]}function qd(){return!1}function mx(){return{}}function gx(){return""}function vx(){return!0}function yx(n,s){if(n=Xt(n),n<1||n>Y)return[];var p=B,w=_r(n,B);s=kt(s),n-=B;for(var k=fo(w,s);++p<n;)s(p);return k}function _x(n){return Gt(n)?xn(n,Bo):Ni(n)?[n]:Tr(Vp(pn(n)))}function wx(n){var s=++iu;return pn(n)+s}var xx=ue(function(n,s){return n+s},0),Sx=pt("ceil"),bx=ue(function(n,s){return n/s},1),Ex=pt("floor");function Tx(n){return n&&n.length?As(n,xi,Ps):l}function Cx(n,s){return n&&n.length?As(n,kt(s,2),Ps):l}function kx(n){return ds(n,xi)}function Ax(n,s){return ds(n,kt(s,2))}function Rx(n){return n&&n.length?As(n,xi,Ls):l}function Px(n,s){return n&&n.length?As(n,kt(s,2),Ls):l}var Lx=ue(function(n,s){return n*s},1),Ix=pt("round"),Ox=ue(function(n,s){return n-s},0);function Mx(n){return n&&n.length?Ai(n,xi):0}function Ux(n,s){return n&&n.length?Ai(n,kt(s,2)):0}return M.after=r_,M.ary=nm,M.assign=H_,M.assignIn=gm,M.assignInWith=ff,M.assignWith=V_,M.at=Y_,M.before=rm,M.bind=Dd,M.bindAll=Qw,M.bindKey=im,M.castArray=m_,M.chain=$p,M.chunk=E1,M.compact=T1,M.concat=C1,M.cond=Zw,M.conforms=$w,M.constant=Hd,M.countBy=My,M.create=J_,M.curry=om,M.curryRight=am,M.debounce=sm,M.defaults=X_,M.defaultsDeep=q_,M.defer=i_,M.delay=o_,M.difference=k1,M.differenceBy=A1,M.differenceWith=R1,M.drop=P1,M.dropRight=L1,M.dropRightWhile=I1,M.dropWhile=O1,M.fill=M1,M.filter=Ny,M.flatMap=zy,M.flatMapDeep=By,M.flatMapDepth=jy,M.flatten=qp,M.flattenDeep=U1,M.flattenDepth=N1,M.flip=a_,M.flow=tx,M.flowRight=nx,M.fromPairs=D1,M.functions=nw,M.functionsIn=rw,M.groupBy=Gy,M.initial=z1,M.intersection=B1,M.intersectionBy=j1,M.intersectionWith=G1,M.invert=ow,M.invertBy=aw,M.invokeMap=Hy,M.iteratee=Vd,M.keyBy=Vy,M.keys=kr,M.keysIn=wi,M.map=of,M.mapKeys=lw,M.mapValues=uw,M.matches=rx,M.matchesProperty=ix,M.memoize=sf,M.merge=cw,M.mergeWith=vm,M.method=ox,M.methodOf=ax,M.mixin=Yd,M.negate=lf,M.nthArg=lx,M.omit=fw,M.omitBy=dw,M.once=s_,M.orderBy=Yy,M.over=ux,M.overArgs=l_,M.overEvery=cx,M.overSome=fx,M.partial=Fd,M.partialRight=lm,M.partition=Jy,M.pick=hw,M.pickBy=ym,M.property=Tm,M.propertyOf=dx,M.pull=Y1,M.pullAll=Qp,M.pullAllBy=J1,M.pullAllWith=X1,M.pullAt=q1,M.range=hx,M.rangeRight=px,M.rearg=u_,M.reject=Ky,M.remove=K1,M.rest=c_,M.reverse=Ud,M.sampleSize=Zy,M.set=mw,M.setWith=gw,M.shuffle=$y,M.slice=Q1,M.sortBy=n_,M.sortedUniq=iy,M.sortedUniqBy=oy,M.split=zw,M.spread=f_,M.tail=ay,M.take=sy,M.takeRight=ly,M.takeRightWhile=uy,M.takeWhile=cy,M.tap=Ty,M.throttle=d_,M.thru=rf,M.toArray=hm,M.toPairs=_m,M.toPairsIn=wm,M.toPath=_x,M.toPlainObject=mm,M.transform=vw,M.unary=h_,M.union=fy,M.unionBy=dy,M.unionWith=hy,M.uniq=py,M.uniqBy=my,M.uniqWith=gy,M.unset=yw,M.unzip=Nd,M.unzipWith=Zp,M.update=_w,M.updateWith=ww,M.values=Tl,M.valuesIn=xw,M.without=vy,M.words=bm,M.wrap=p_,M.xor=yy,M.xorBy=_y,M.xorWith=wy,M.zip=xy,M.zipObject=Sy,M.zipObjectDeep=by,M.zipWith=Ey,M.entries=_m,M.entriesIn=wm,M.extend=gm,M.extendWith=ff,Yd(M,M),M.add=xx,M.attempt=Em,M.camelCase=Tw,M.capitalize=xm,M.ceil=Sx,M.clamp=Sw,M.clone=g_,M.cloneDeep=y_,M.cloneDeepWith=__,M.cloneWith=v_,M.conformsTo=w_,M.deburr=Sm,M.defaultTo=ex,M.divide=bx,M.endsWith=Cw,M.eq=yo,M.escape=kw,M.escapeRegExp=Aw,M.every=Uy,M.find=Dy,M.findIndex=Jp,M.findKey=K_,M.findLast=Fy,M.findLastIndex=Xp,M.findLastKey=Q_,M.floor=Ex,M.forEach=em,M.forEachRight=tm,M.forIn=Z_,M.forInRight=$_,M.forOwn=ew,M.forOwnRight=tw,M.get=jd,M.gt=x_,M.gte=S_,M.has=iw,M.hasIn=Gd,M.head=Kp,M.identity=xi,M.includes=Wy,M.indexOf=F1,M.inRange=bw,M.invoke=sw,M.isArguments=Bs,M.isArray=Gt,M.isArrayBuffer=b_,M.isArrayLike=_i,M.isArrayLikeObject=er,M.isBoolean=E_,M.isBuffer=Qa,M.isDate=T_,M.isElement=C_,M.isEmpty=k_,M.isEqual=A_,M.isEqualWith=R_,M.isError=zd,M.isFinite=P_,M.isFunction=da,M.isInteger=um,M.isLength=uf,M.isMap=cm,M.isMatch=L_,M.isMatchWith=I_,M.isNaN=O_,M.isNative=M_,M.isNil=N_,M.isNull=U_,M.isNumber=fm,M.isObject=jn,M.isObjectLike=Jn,M.isPlainObject=Nu,M.isRegExp=Bd,M.isSafeInteger=D_,M.isSet=dm,M.isString=cf,M.isSymbol=Ni,M.isTypedArray=El,M.isUndefined=F_,M.isWeakMap=z_,M.isWeakSet=B_,M.join=W1,M.kebabCase=Rw,M.last=eo,M.lastIndexOf=H1,M.lowerCase=Pw,M.lowerFirst=Lw,M.lt=j_,M.lte=G_,M.max=Tx,M.maxBy=Cx,M.mean=kx,M.meanBy=Ax,M.min=Rx,M.minBy=Px,M.stubArray=Xd,M.stubFalse=qd,M.stubObject=mx,M.stubString=gx,M.stubTrue=vx,M.multiply=Lx,M.nth=V1,M.noConflict=sx,M.noop=Jd,M.now=af,M.pad=Iw,M.padEnd=Ow,M.padStart=Mw,M.parseInt=Uw,M.random=Ew,M.reduce=Xy,M.reduceRight=qy,M.repeat=Nw,M.replace=Dw,M.result=pw,M.round=Ix,M.runInContext=re,M.sample=Qy,M.size=e_,M.snakeCase=Fw,M.some=t_,M.sortedIndex=Z1,M.sortedIndexBy=$1,M.sortedIndexOf=ey,M.sortedLastIndex=ty,M.sortedLastIndexBy=ny,M.sortedLastIndexOf=ry,M.startCase=Bw,M.startsWith=jw,M.subtract=Ox,M.sum=Mx,M.sumBy=Ux,M.template=Gw,M.times=yx,M.toFinite=ha,M.toInteger=Xt,M.toLength=pm,M.toLower=Ww,M.toNumber=to,M.toSafeInteger=W_,M.toString=pn,M.toUpper=Hw,M.trim=Vw,M.trimEnd=Yw,M.trimStart=Jw,M.truncate=Xw,M.unescape=qw,M.uniqueId=wx,M.upperCase=Kw,M.upperFirst=Wd,M.each=em,M.eachRight=tm,M.first=Kp,Yd(M,function(){var n={};return ii(M,function(s,p){cn.call(M.prototype,p)||(n[p]=s)}),n}(),{chain:!1}),M.VERSION=u,Kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){M[n].placeholder=M}),Kn(["drop","take"],function(n,s){Et.prototype[n]=function(p){p=p===l?1:Zn(Xt(p),0);var w=this.__filtered__&&!s?new Et(this):this.clone();return w.__filtered__?w.__takeCount__=_r(p,w.__takeCount__):w.__views__.push({size:_r(p,B),type:n+(w.__dir__<0?"Right":"")}),w},Et.prototype[n+"Right"]=function(p){return this.reverse()[n](p).reverse()}}),Kn(["filter","map","takeWhile"],function(n,s){var p=s+1,w=p==pe||p==le;Et.prototype[n]=function(k){var z=this.clone();return z.__iteratees__.push({iteratee:kt(k,3),type:p}),z.__filtered__=z.__filtered__||w,z}}),Kn(["head","last"],function(n,s){var p="take"+(s?"Right":"");Et.prototype[n]=function(){return this[p](1).value()[0]}}),Kn(["initial","tail"],function(n,s){var p="drop"+(s?"":"Right");Et.prototype[n]=function(){return this.__filtered__?new Et(this):this[p](1)}}),Et.prototype.compact=function(){return this.filter(xi)},Et.prototype.find=function(n){return this.filter(n).head()},Et.prototype.findLast=function(n){return this.reverse().find(n)},Et.prototype.invokeMap=bt(function(n,s){return typeof n=="function"?new Et(this):this.map(function(p){return bn(p,n,s)})}),Et.prototype.reject=function(n){return this.filter(lf(kt(n)))},Et.prototype.slice=function(n,s){n=Xt(n);var p=this;return p.__filtered__&&(n>0||s<0)?new Et(p):(n<0?p=p.takeRight(-n):n&&(p=p.drop(n)),s!==l&&(s=Xt(s),p=s<0?p.dropRight(-s):p.take(s-n)),p)},Et.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Et.prototype.toArray=function(){return this.take(B)},ii(Et.prototype,function(n,s){var p=/^(?:filter|find|map|reject)|While$/.test(s),w=/^(?:head|last)$/.test(s),k=M[w?"take"+(s=="last"?"Right":""):s],z=w||/^find/.test(s);k&&(M.prototype[s]=function(){var q=this.__wrapped__,te=w?[1]:arguments,he=q instanceof Et,ke=te[0],Ae=he||Gt(q),Ie=function(nn){var ln=k.apply(M,Ci([nn],te));return w&&Xe?ln[0]:ln};Ae&&p&&typeof ke=="function"&&ke.length!=1&&(he=Ae=!1);var Xe=this.__chain__,yt=!!this.__actions__.length,Rt=z&&!Xe,qt=he&&!yt;if(!z&&Ae){q=qt?q:new Et(this);var Pt=n.apply(q,te);return Pt.__actions__.push({func:rf,args:[Ie],thisArg:l}),new wr(Pt,Xe)}return Rt&&qt?n.apply(this,te):(Pt=this.thru(Ie),Rt?w?Pt.value()[0]:Pt.value():Pt)})}),Kn(["pop","push","shift","sort","splice","unshift"],function(n){var s=ko[n],p=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",w=/^(?:pop|shift)$/.test(n);M.prototype[n]=function(){var k=arguments;if(w&&!this.__chain__){var z=this.value();return s.apply(Gt(z)?z:[],k)}return this[p](function(q){return s.apply(Gt(q)?q:[],k)})}}),ii(Et.prototype,function(n,s){var p=M[s];if(p){var w=p.name+"";cn.call(ia,w)||(ia[w]=[]),ia[w].push({name:s,func:p})}}),ia[b(l,A).name]=[{name:"wrapper",func:l}],Et.prototype.clone=_d,Et.prototype.reverse=wd,Et.prototype.value=ni,M.prototype.at=Cy,M.prototype.chain=ky,M.prototype.commit=Ay,M.prototype.next=Ry,M.prototype.plant=Ly,M.prototype.reverse=Iy,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Oy,M.prototype.first=M.prototype.head,Ro&&(M.prototype[Ro]=Py),M},Co=yc();Dn?((Dn.exports=Co)._=Co,lo._=Co):Cn._=Co}).call(ZE)}(Vu,Vu.exports)),Vu.exports}$E();function eT(){try{const t=localStorage.getItem("ui");return t===null?void 0:JSON.parse(t)}catch(t){console.error("Failed to load ui state from localStorage",t);return}}function tT(){try{const t=localStorage.getItem("theme");return t===null?void 0:JSON.parse(t)}catch(t){console.error("Failed to load theme state from localStorage",t);return}}function nT(){const t="/fanuc_lrmate200id_support/urdf/lrmate200id7l.urdf";return console.log(`URDF Path resolved: ${t}`),t}const rT=t=>t*(Math.PI/180),iT=t=>t*(180/Math.PI),Rv=ne.createContext(void 0),ql=()=>{const t=ne.useContext(Rv);if(!t)throw new Error("useJoints must be used within a JointProvider");return t},Ep={joint_1:"J1",joint_2:"J2",joint_3:"J3",joint_4:"J4",joint_5:"J5",joint_6:"J6"},Pv=Object.keys(Ep).reduce((t,e)=>(t[e]=!0,t),{}),oT=100,aT=t=>{const[e,l]=ne.useState({});return ne.useEffect(()=>{const u=setInterval(()=>{const a=Object.keys(t).reduce((o,c)=>{const h=t[c];return o[c]=Number(h.angle),o},{});l(a)},oT);return()=>clearInterval(u)},[t]),e},sT=({children:t})=>{const[e,l]=ne.useState({}),u=(h,d)=>{const g=e[h];g&&g.setJointValue(d)},a=ne.useCallback(h=>{l(d=>({...d,...h}))},[]),o=()=>Object.keys(e).reduce((h,d)=>{const g=e[d];return h[d]=Number(g.angle),h},{}),c=aT(e);return Ge.jsx(Rv.Provider,{value:{joints:e,updateJoint:u,updateJoints:a,jointValues:c,getJointValues:o},children:t})},lT=nT(),uT=()=>{const{updateJoints:t}=ql(),{scene:e}=no();return ne.useEffect(()=>(new QE().load(lT,u=>{console.log("Loaded robot:",u),e.add(u);const a={};Object.entries(u.joints).forEach(([o,c])=>{a[o]=c}),t(a)},void 0,u=>{console.error("Error loading URDF:",u)}),()=>{e.clear()}),[e,t]),null};var Ah={exports:{}},Rh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function cT(){if(qg)return Rh;qg=1;var t=nd();function e(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var l=typeof Object.is=="function"?Object.is:e,u=t.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Rh.useSyncExternalStoreWithSelector=function(d,g,m,y,x){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function R(D){if(!A){if(A=!0,I=D,D=y(D),x!==void 0&&E.hasValue){var G=E.value;if(x(G,D))return L=G}return L=D}if(G=L,l(I,D))return G;var j=y(D);return x!==void 0&&x(G,j)?(I=D,G):(I=D,L=j)}var A=!1,I,L,F=m===void 0?null:m;return[function(){return R(g())},F===null?void 0:function(){return R(F())}]},[g,m,y,x]);var P=u(d,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=P},[P]),h(P),P},Rh}var Kg;function fT(){return Kg||(Kg=1,Ah.exports=cT()),Ah.exports}var dT=fT();function hT(t){t()}function pT(){let t=null,e=null;return{clear(){t=null,e=null},notify(){hT(()=>{let l=t;for(;l;)l.callback(),l=l.next})},get(){const l=[];let u=t;for(;u;)l.push(u),u=u.next;return l},subscribe(l){let u=!0;const a=e={callback:l,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!u||t===null||(u=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Qg={notify(){},get:()=>[]};function mT(t,e){let l,u=Qg,a=0,o=!1;function c(P){m();const R=u.subscribe(P);let A=!1;return()=>{A||(A=!0,R(),y())}}function h(){u.notify()}function d(){E.onStateChange&&E.onStateChange()}function g(){return o}function m(){a++,l||(l=t.subscribe(d),u=pT())}function y(){a--,l&&a===0&&(l(),l=void 0,u.clear(),u=Qg)}function x(){o||(o=!0,m())}function S(){o&&(o=!1,y())}const E={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:g,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>u};return E}var gT=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vT=gT(),yT=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_T=yT(),wT=()=>vT||_T?ne.useLayoutEffect:ne.useEffect,xT=wT(),Ph=Symbol.for("react-redux-context"),Lh=typeof globalThis<"u"?globalThis:{};function ST(){if(!ne.createContext)return{};const t=Lh[Ph]??(Lh[Ph]=new Map);let e=t.get(ne.createContext);return e||(e=ne.createContext(null),t.set(ne.createContext,e)),e}var is=ST();function bT(t){const{children:e,context:l,serverState:u,store:a}=t,o=ne.useMemo(()=>{const d=mT(a);return{store:a,subscription:d,getServerState:u?()=>u:void 0}},[a,u]),c=ne.useMemo(()=>a.getState(),[a]);xT(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,c]);const h=l||is;return ne.createElement(h.Provider,{value:o},e)}var ET=bT;function Tp(t=is){return function(){return ne.useContext(t)}}var Lv=Tp();function Iv(t=is){const e=t===is?Lv:Tp(t),l=()=>{const{store:u}=e();return u};return Object.assign(l,{withTypes:()=>l}),l}var TT=Iv();function CT(t=is){const e=t===is?TT:Iv(t),l=()=>e().dispatch;return Object.assign(l,{withTypes:()=>l}),l}var kT=CT(),AT=(t,e)=>t===e;function RT(t=is){const e=t===is?Lv:Tp(t),l=(u,a={})=>{const{equalityFn:o=AT}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:h,subscription:d,getServerState:g}=c;ne.useRef(!0);const m=ne.useCallback({[u.name](x){return u(x)}}[u.name],[u]),y=dT.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,g||h.getState,m,o);return ne.useDebugValue(y),y};return Object.assign(l,{withTypes:()=>l}),l}var Kl=RT();const PT=()=>{const{joints:t}=ql(),{jointAnimationEnabled:e}=Kl(u=>u.settings),l=ne.useRef(null);return ne.useEffect(()=>{const u=()=>{const a=Date.now()*.001;Object.keys(t).forEach((o,c)=>{t[o].setJointValue(Math.sin(a+c)*Math.PI/4)}),l.current=requestAnimationFrame(u)};return e?l.current=requestAnimationFrame(u):l.current&&(cancelAnimationFrame(l.current),l.current=null),()=>{l.current&&(cancelAnimationFrame(l.current),l.current=null)}},[t,e]),null},LT=yn.div`
  width: 300px;
  height: 100%;
  background-color: ${({theme:t})=>t.colors.surfaces.sidebar};
  color: white;
  padding: 1rem;
  display: flex;
  flex-direction: column;
`,IT=yn.h2`
  margin: 0 0 1rem;
  font-size: 1rem;
  text-align: left;
`,OT=({children:t})=>Ge.jsxs(LT,{children:[Ge.jsx(IT,{children:"Controls"}),t]}),MT=yn.main`
  display: flex;
  flex-direction: column;
  height: 800px;
  width: 100%;
  background-color: #000;
`,UT=({children:t})=>Ge.jsx(MT,{children:t}),NT=({size:t,plane:e,shift:l=!1,color:u="gray",divisions:a=50})=>{let o=[0,0,0],c=[0,0,0];e==="XZ"?(c=[0,0,l?t/2:0],o=[Math.PI/2,0,0]):e==="YZ"?(c=[l?t/2:0,0,0],o=[0,Math.PI/2,0]):e==="XY"&&(c=[0,0,0],o=[0,0,0]);const h=t/a,d=t/2,g=[];for(let m=0;m<=a;m++){const y=-d+m*h;g.push([new Nt(-d,y,0),new Nt(d,y,0)],[new Nt(y,-d,0),new Nt(y,d,0)])}return Ge.jsx("group",{rotation:o,position:c,children:g.map((m,y)=>Ge.jsx(Xb,{points:m,color:u,lineWidth:1},y))})},Ih=.1,DT=({size:t=2})=>{const{scene:e}=no();return ne.useEffect(()=>{const l=new C2(t);return e.add(l),()=>{e.remove(l)}},[e,t]),Ge.jsxs(Ge.Fragment,{children:[Ge.jsx(Ch,{position:[t+Ih,0,0],fontSize:.1,color:"red",children:"X"}),Ge.jsx(Ch,{position:[0,t+Ih,0],fontSize:.1,color:"green",children:"Y"}),Ge.jsx(Ch,{position:[0,0,t+Ih],fontSize:.1,color:"blue",children:"Z"})]})},FT=()=>Ge.jsxs(Ge.Fragment,{children:[Ge.jsx("ambientLight",{intensity:.5}),Ge.jsx("directionalLight",{intensity:1,position:[5,10,7.5],castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":.1,"shadow-camera-far":50})]}),zT=yn.div`
  display: flex;
  align-items: center;
  border: 1px solid ${({theme:t})=>t.colors.border};
  border-radius: 4px;
  background-color: ${({theme:t})=>t.colors.surfaces.card};
`,BT=yn.div`
  display: flex;
  flex-direction: column;
  border-left: 1px solid ${({theme:t})=>t.colors.border};
`,jT=yn.input`
  width: 64px;
  font-size: 0.875rem;
  text-align: right;
  border: none;
  outline: none;
  color: ${({theme:t})=>t.colors.text.primary};
  background-color: ${({theme:t})=>t.colors.surfaces.card};

  &:disabled {
    background-color: ${({theme:t})=>t.colors.surfaces.card};
    cursor: not-allowed;
  }
`,Zg=yn.button`
  font-size: 0.875rem;
  line-height: 10px;
  border: none;
  padding: 1px;
  border-radius: 4px;
  background-color: ${({theme:t})=>t.colors.surfaces.card};
  color: ${({theme:t})=>t.colors.text.primary};
  cursor: pointer;
  transition: background-color 0.2s ease;

  &:hover {
    color: ${({theme:t})=>t.colors.accent};
  }

  &:disabled {
    background-color: ${({theme:t})=>t.colors.surfaces.card};
    cursor: not-allowed;
  }
`,GT=({value:t,min:e=-1/0,max:l=1/0,step:u=1,disabled:a=!1,onChange:o})=>{const c=()=>{!a&&t+u<=l&&o(t+u)},h=()=>{!a&&t-u>=e&&o(t-u)},d=g=>{const m=parseFloat(g.target.value);!isNaN(m)&&m>=e&&m<=l&&o(m)};return Ge.jsxs(zT,{children:[Ge.jsx(jT,{value:t??0,onChange:d,disabled:a,min:e,max:l}),Ge.jsxs(BT,{children:[Ge.jsx(Zg,{onClick:c,disabled:a,children:"+"}),Ge.jsx(Zg,{onClick:h,disabled:a,children:"-"})]})]})},WT=!1,HT=!1,VT=()=>{const{gridEnabled:t}=Kl(e=>e.settings);return Ge.jsxs(Ge.Fragment,{children:[Ge.jsx(FT,{}),Ge.jsx(DT,{}),t&&Ge.jsx(NT,{size:4,plane:"XY"}),WT,HT]})},YT=yn.div`
  position: absolute;
  bottom: 16px;
  display: flex;
  width: fit-content;
  left: 0;
  right: 0;
  margin: 0 auto;
  background-color: ${({theme:t})=>t.colors.surfaces.card};
  padding: 0.25rem;
  border-radius: 4px;
`,JT=yn.button`
  width: 32px;
  height: fit-content;
  padding: 0.25rem 0.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;

  &:hover {
    background-color: #0056b3;
  }
`,XT=yn.div`
  display: flex;
`,qT=yn.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: 0.5rem;
`,KT=yn.label`
  display: block;
  margin-right: 0.25rem;
  font-size: 0.875rem;
`,QT=yn.input`
  padding: 0.1rem;
  width: auto;
  max-width: 42px;
  border: 1px solid ${({theme:t})=>t.colors.border};
  text-align: right;
  border-radius: 4px;
  color: ${({theme:t})=>t.colors.text.primary};
  background-color: ${({theme:t})=>t.colors.surfaces.card};
`,ZT=()=>{const{jointValues:t}=ql(),[e,l]=ne.useState(!1),u=()=>{l(o=>!o)},a=o=>o===void 0||isNaN(o)?"":e?`${(o*180/Math.PI).toFixed(2)}`:o.toFixed(2);return Ge.jsxs(YT,{children:[Ge.jsx(JT,{onClick:u,children:e?"":""}),Ge.jsx(XT,{children:Object.entries(t).filter(([o])=>Pv[o]).map(([o,c])=>Ge.jsxs(qT,{children:[Ge.jsxs(KT,{htmlFor:o,children:[Ep[o],":"]}),Ge.jsx(QT,{id:o,type:"text",readOnly:!0,value:a(c)})]},o))})]})},$T=!1,eC=!1,tC=()=>Ge.jsxs(OS,{children:[Ge.jsxs(Ub,{camera:{position:[1.5,1.5,1.5],up:[0,0,1],fov:75},children:[eC,Ge.jsx(VT,{}),Ge.jsx(uT,{}),Ge.jsx(WE,{enableDamping:!1}),$T,Ge.jsx(PT,{})]}),Ge.jsx(ZT,{})]}),nC=[sT],rC=({children:t})=>Ge.jsx(Ge.Fragment,{children:nC.reduceRight((e,l)=>Ge.jsx(l,{children:e}),t)});yn.div`
  position: absolute;
  top: 0;
  right: 0;
  width: 300px;
  padding: 10px;
  border-radius: 8px;
  overflow-y: auto;
  max-height: 100vh;
`;const iC=yn.div`
  padding: 0.25rem;
`,oC=yn.p`
  font-size: 1rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: ${t=>t.theme.colors.text};
`,aC=yn.label`
  display: block;
  font-size: 0.875rem;
  color: ${t=>t.theme.colors.text};
  margin-right: 0.25rem;
`;yn.div`
  margin-bottom: 10px;
`;const sC=yn.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.25rem;
`,lC=yn.input`
  width: 80%;
  margin-right: 10px;
`;yn.button`
  padding: 0.2rem 0.5rem;
  font-size: 1rem;
  margin-left: 5px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`;yn.label`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
`;const uC=({jointName:t,value:e})=>{const{jointAnimationEnabled:l}=Kl(o=>o.settings),{updateJoint:u}=ql(),a=o=>{const c=rT(o);console.log(c),isNaN(c)||u(t,c)};return Ge.jsx(GT,{value:e&&iT(e),onChange:a,disabled:l,min:-180,max:180,step:1})},cC=({jointName:t,value:e})=>{const{jointAnimationEnabled:l}=Kl(o=>o.settings),{updateJoint:u}=ql(),a=(o,c)=>{u(o,parseFloat(c))};return Ge.jsx(lC,{type:"range",min:"-3.14",max:"3.14",step:"0.01",value:e??0,onChange:o=>a(t,o.target.value),disabled:l})};function Gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var fC=typeof Symbol=="function"&&Symbol.observable||"@@observable",$g=fC,Oh=()=>Math.random().toString(36).substring(7).split("").join("."),dC={INIT:`@@redux/INIT${Oh()}`,REPLACE:`@@redux/REPLACE${Oh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Oh()}`},Kf=dC;function Cp(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Ov(t,e,l){if(typeof t!="function")throw new Error(Gr(2));if(typeof e=="function"&&typeof l=="function"||typeof l=="function"&&typeof arguments[3]=="function")throw new Error(Gr(0));if(typeof e=="function"&&typeof l>"u"&&(l=e,e=void 0),typeof l<"u"){if(typeof l!="function")throw new Error(Gr(1));return l(Ov)(t,e)}let u=t,a=e,o=new Map,c=o,h=0,d=!1;function g(){c===o&&(c=new Map,o.forEach((R,A)=>{c.set(A,R)}))}function m(){if(d)throw new Error(Gr(3));return a}function y(R){if(typeof R!="function")throw new Error(Gr(4));if(d)throw new Error(Gr(5));let A=!0;g();const I=h++;return c.set(I,R),function(){if(A){if(d)throw new Error(Gr(6));A=!1,g(),c.delete(I),o=null}}}function x(R){if(!Cp(R))throw new Error(Gr(7));if(typeof R.type>"u")throw new Error(Gr(8));if(typeof R.type!="string")throw new Error(Gr(17));if(d)throw new Error(Gr(9));try{d=!0,a=u(a,R)}finally{d=!1}return(o=c).forEach(I=>{I()}),R}function S(R){if(typeof R!="function")throw new Error(Gr(10));u=R,x({type:Kf.REPLACE})}function E(){const R=y;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Gr(11));function I(){const F=A;F.next&&F.next(m())}return I(),{unsubscribe:R(I)}},[$g](){return this}}}return x({type:Kf.INIT}),{dispatch:x,subscribe:y,getState:m,replaceReducer:S,[$g]:E}}function hC(t){Object.keys(t).forEach(e=>{const l=t[e];if(typeof l(void 0,{type:Kf.INIT})>"u")throw new Error(Gr(12));if(typeof l(void 0,{type:Kf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gr(13))})}function Mv(t){const e=Object.keys(t),l={};for(let o=0;o<e.length;o++){const c=e[o];typeof t[c]=="function"&&(l[c]=t[c])}const u=Object.keys(l);let a;try{hC(l)}catch(o){a=o}return function(c={},h){if(a)throw a;let d=!1;const g={};for(let m=0;m<u.length;m++){const y=u[m],x=l[y],S=c[y],E=x(S,h);if(typeof E>"u")throw h&&h.type,new Error(Gr(14));g[y]=E,d=d||E!==S}return d=d||u.length!==Object.keys(c).length,d?g:c}}function Qf(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,l)=>(...u)=>e(l(...u)))}function pC(...t){return e=>(l,u)=>{const a=e(l,u);let o=()=>{throw new Error(Gr(15))};const c={getState:a.getState,dispatch:(d,...g)=>o(d,...g)},h=t.map(d=>d(c));return o=Qf(...h)(a.dispatch),{...a,dispatch:o}}}function mC(t){return Cp(t)&&"type"in t&&typeof t.type=="string"}var Uv=Symbol.for("immer-nothing"),e0=Symbol.for("immer-draftable"),ji=Symbol.for("immer-state");function xo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Yl=Object.getPrototypeOf;function qs(t){return!!t&&!!t[ji]}function wa(t){var e;return t?Nv(t)||Array.isArray(t)||!!t[e0]||!!((e=t.constructor)!=null&&e[e0])||dd(t)||hd(t):!1}var gC=Object.prototype.constructor.toString();function Nv(t){if(!t||typeof t!="object")return!1;const e=Yl(t);if(e===null)return!0;const l=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return l===Object?!0:typeof l=="function"&&Function.toString.call(l)===gC}function Zf(t,e){fd(t)===0?Reflect.ownKeys(t).forEach(l=>{e(l,t[l],t)}):t.forEach((l,u)=>e(u,l,t))}function fd(t){const e=t[ji];return e?e.type_:Array.isArray(t)?1:dd(t)?2:hd(t)?3:0}function ip(t,e){return fd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Dv(t,e,l){const u=fd(t);u===2?t.set(e,l):u===3?t.add(l):t[e]=l}function vC(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dd(t){return t instanceof Map}function hd(t){return t instanceof Set}function Gs(t){return t.copy_||t.base_}function op(t,e){if(dd(t))return new Map(t);if(hd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const l=Nv(t);if(e===!0||e==="class_only"&&!l){const u=Object.getOwnPropertyDescriptors(t);delete u[ji];let a=Reflect.ownKeys(u);for(let o=0;o<a.length;o++){const c=a[o],h=u[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(u[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[c]})}return Object.create(Yl(t),u)}else{const u=Yl(t);if(u!==null&&l)return{...t};const a=Object.create(u);return Object.assign(a,t)}}function kp(t,e=!1){return pd(t)||qs(t)||!wa(t)||(fd(t)>1&&(t.set=t.add=t.clear=t.delete=yC),Object.freeze(t),e&&Object.entries(t).forEach(([l,u])=>kp(u,!0))),t}function yC(){xo(2)}function pd(t){return Object.isFrozen(t)}var _C={};function Ks(t){const e=_C[t];return e||xo(0,t),e}var nc;function Fv(){return nc}function wC(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t0(t,e){e&&(Ks("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ap(t){sp(t),t.drafts_.forEach(xC),t.drafts_=null}function sp(t){t===nc&&(nc=t.parent_)}function n0(t){return nc=wC(nc,t)}function xC(t){const e=t[ji];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const l=e.drafts_[0];return t!==void 0&&t!==l?(l[ji].modified_&&(ap(e),xo(4)),wa(t)&&(t=$f(e,t),e.parent_||ed(e,t)),e.patches_&&Ks("Patches").generateReplacementPatches_(l[ji].base_,t,e.patches_,e.inversePatches_)):t=$f(e,l,[]),ap(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Uv?t:void 0}function $f(t,e,l){if(pd(e))return e;const u=e[ji];if(!u)return Zf(e,(a,o)=>i0(t,u,e,a,o,l)),e;if(u.scope_!==t)return e;if(!u.modified_)return ed(t,u.base_,!0),u.base_;if(!u.finalized_){u.finalized_=!0,u.scope_.unfinalizedDrafts_--;const a=u.copy_;let o=a,c=!1;u.type_===3&&(o=new Set(a),a.clear(),c=!0),Zf(o,(h,d)=>i0(t,u,a,h,d,l,c)),ed(t,a,!1),l&&t.patches_&&Ks("Patches").generatePatches_(u,l,t.patches_,t.inversePatches_)}return u.copy_}function i0(t,e,l,u,a,o,c){if(qs(a)){const h=o&&e&&e.type_!==3&&!ip(e.assigned_,u)?o.concat(u):void 0,d=$f(t,a,h);if(Dv(l,u,d),qs(d))t.canAutoFreeze_=!1;else return}else c&&l.add(a);if(wa(a)&&!pd(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;$f(t,a),(!e||!e.scope_.parent_)&&typeof u!="symbol"&&Object.prototype.propertyIsEnumerable.call(l,u)&&ed(t,a)}}function ed(t,e,l=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kp(e,l)}function SC(t,e){const l=Array.isArray(t),u={type_:l?1:0,scope_:e?e.scope_:Fv(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=u,o=Ap;l&&(a=[u],o=rc);const{revoke:c,proxy:h}=Proxy.revocable(a,o);return u.draft_=h,u.revoke_=c,h}var Ap={get(t,e){if(e===ji)return t;const l=Gs(t);if(!ip(l,e))return bC(t,l,e);const u=l[e];return t.finalized_||!wa(u)?u:u===Mh(t.base_,e)?(Uh(t),t.copy_[e]=up(u,t)):u},has(t,e){return e in Gs(t)},ownKeys(t){return Reflect.ownKeys(Gs(t))},set(t,e,l){const u=zv(Gs(t),e);if(u!=null&&u.set)return u.set.call(t.draft_,l),!0;if(!t.modified_){const a=Mh(Gs(t),e),o=a==null?void 0:a[ji];if(o&&o.base_===l)return t.copy_[e]=l,t.assigned_[e]=!1,!0;if(vC(l,a)&&(l!==void 0||ip(t.base_,e)))return!0;Uh(t),lp(t)}return t.copy_[e]===l&&(l!==void 0||e in t.copy_)||Number.isNaN(l)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=l,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Mh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Uh(t),lp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const l=Gs(t),u=Reflect.getOwnPropertyDescriptor(l,e);return u&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:u.enumerable,value:l[e]}},defineProperty(){xo(11)},getPrototypeOf(t){return Yl(t.base_)},setPrototypeOf(){xo(12)}},rc={};Zf(Ap,(t,e)=>{rc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rc.deleteProperty=function(t,e){return rc.set.call(this,t,e,void 0)};rc.set=function(t,e,l){return Ap.set.call(this,t[0],e,l,t[0])};function Mh(t,e){const l=t[ji];return(l?Gs(l):t)[e]}function bC(t,e,l){var a;const u=zv(e,l);return u?"value"in u?u.value:(a=u.get)==null?void 0:a.call(t.draft_):void 0}function zv(t,e){if(!(e in t))return;let l=Yl(t);for(;l;){const u=Object.getOwnPropertyDescriptor(l,e);if(u)return u;l=Yl(l)}}function lp(t){t.modified_||(t.modified_=!0,t.parent_&&lp(t.parent_))}function Uh(t){t.copy_||(t.copy_=op(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var EC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,l,u)=>{if(typeof e=="function"&&typeof l!="function"){const o=l;l=e;const c=this;return function(d=o,...g){return c.produce(d,m=>l.call(this,m,...g))}}typeof l!="function"&&xo(6),u!==void 0&&typeof u!="function"&&xo(7);let a;if(wa(e)){const o=n0(this),c=up(e,void 0);let h=!0;try{a=l(c),h=!1}finally{h?ap(o):sp(o)}return t0(o,u),r0(a,o)}else if(!e||typeof e!="object"){if(a=l(e),a===void 0&&(a=e),a===Uv&&(a=void 0),this.autoFreeze_&&kp(a,!0),u){const o=[],c=[];Ks("Patches").generateReplacementPatches_(e,a,o,c),u(o,c)}return a}else xo(1,e)},this.produceWithPatches=(e,l)=>{if(typeof e=="function")return(c,...h)=>this.produceWithPatches(c,d=>e(d,...h));let u,a;return[this.produce(e,l,(c,h)=>{u=c,a=h}),u,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wa(t)||xo(8),qs(t)&&(t=TC(t));const e=n0(this),l=up(t,void 0);return l[ji].isManual_=!0,sp(e),l}finishDraft(t,e){const l=t&&t[ji];(!l||!l.isManual_)&&xo(9);const{scope_:u}=l;return t0(u,e),r0(void 0,u)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let l;for(l=e.length-1;l>=0;l--){const a=e[l];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}l>-1&&(e=e.slice(l+1));const u=Ks("Patches").applyPatches_;return qs(t)?u(t,e):this.produce(t,a=>u(a,e))}};function up(t,e){const l=dd(t)?Ks("MapSet").proxyMap_(t,e):hd(t)?Ks("MapSet").proxySet_(t,e):SC(t,e);return(e?e.scope_:Fv()).drafts_.push(l),l}function TC(t){return qs(t)||xo(10,t),Bv(t)}function Bv(t){if(!wa(t)||pd(t))return t;const e=t[ji];let l;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,l=op(t,e.scope_.immer_.useStrictShallowCopy_)}else l=op(t,!0);return Zf(l,(u,a)=>{Dv(l,u,Bv(a))}),e&&(e.finalized_=!1),l}var Gi=new EC,jv=Gi.produce;Gi.produceWithPatches.bind(Gi);Gi.setAutoFreeze.bind(Gi);Gi.setUseStrictShallowCopy.bind(Gi);Gi.applyPatches.bind(Gi);Gi.createDraft.bind(Gi);Gi.finishDraft.bind(Gi);function Gv(t){return({dispatch:l,getState:u})=>a=>o=>typeof o=="function"?o(l,u,t):a(o)}var CC=Gv(),kC=Gv,AC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qf:Qf.apply(null,arguments)};function o0(t,e){function l(...u){if(e){let a=e(...u);if(!a)throw new Error(va(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:u[0]}}return l.toString=()=>`${t}`,l.type=t,l.match=u=>mC(u)&&u.type===t,l}var Wv=class Yu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yu.prototype)}static get[Symbol.species](){return Yu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yu(...e[0].concat(this)):new Yu(...e.concat(this))}};function a0(t){return wa(t)?jv(t,()=>{}):t}function s0(t,e,l){return t.has(e)?t.get(e):t.set(e,l(e)).get(e)}function RC(t){return typeof t=="boolean"}var PC=()=>function(e){const{thunk:l=!0,immutableCheck:u=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=e??{};let c=new Wv;return l&&(RC(l)?c.push(CC):c.push(kC(l.extraArgument))),c},LC="RTK_autoBatch",l0=t=>e=>{setTimeout(e,t)},IC=(t={type:"raf"})=>e=>(...l)=>{const u=e(...l);let a=!0,o=!1,c=!1;const h=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:l0(10):t.type==="callback"?t.queueNotification:l0(t.timeout),g=()=>{c=!1,o&&(o=!1,h.forEach(m=>m()))};return Object.assign({},u,{subscribe(m){const y=()=>a&&m(),x=u.subscribe(y);return h.add(m),()=>{x(),h.delete(m)}},dispatch(m){var y;try{return a=!((y=m==null?void 0:m.meta)!=null&&y[LC]),o=!a,o&&(c||(c=!0,d(g))),u.dispatch(m)}finally{a=!0}}})},OC=t=>function(l){const{autoBatch:u=!0}=l??{};let a=new Wv(t);return u&&a.push(IC(typeof u=="object"?u:void 0)),a};function MC(t){const e=PC(),{reducer:l=void 0,middleware:u,devTools:a=!0,preloadedState:o=void 0,enhancers:c=void 0}=t;let h;if(typeof l=="function")h=l;else if(Cp(l))h=Mv(l);else throw new Error(va(1));let d;typeof u=="function"?d=u(e):d=e();let g=Qf;a&&(g=AC({trace:!1,...typeof a=="object"&&a}));const m=pC(...d),y=OC(m);let x=typeof c=="function"?c(y):y();const S=g(...x);return Ov(h,o,S)}function Hv(t){const e={},l=[];let u;const a={addCase(o,c){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(va(28));if(h in e)throw new Error(va(29));return e[h]=c,a},addMatcher(o,c){return l.push({matcher:o,reducer:c}),a},addDefaultCase(o){return u=o,a}};return t(a),[e,l,u]}function UC(t){return typeof t=="function"}function NC(t,e){let[l,u,a]=Hv(e),o;if(UC(t))o=()=>a0(t());else{const h=a0(t);o=()=>h}function c(h=o(),d){let g=[l[d.type],...u.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return g.filter(m=>!!m).length===0&&(g=[a]),g.reduce((m,y)=>{if(y)if(qs(m)){const S=y(m,d);return S===void 0?m:S}else{if(wa(m))return jv(m,x=>y(x,d));{const x=y(m,d);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},h)}return c.getInitialState=o,c}var DC=Symbol.for("rtk-slice-createasyncthunk");function FC(t,e){return`${t}/${e}`}function zC({creators:t}={}){var l;const e=(l=t==null?void 0:t.asyncThunk)==null?void 0:l[DC];return function(a){const{name:o,reducerPath:c=o}=a;if(!o)throw new Error(va(11));const h=(typeof a.reducers=="function"?a.reducers(jC()):a.reducers)||{},d=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(L,F){const D=typeof L=="string"?L:L.type;if(!D)throw new Error(va(12));if(D in g.sliceCaseReducersByType)throw new Error(va(13));return g.sliceCaseReducersByType[D]=F,m},addMatcher(L,F){return g.sliceMatchers.push({matcher:L,reducer:F}),m},exposeAction(L,F){return g.actionCreators[L]=F,m},exposeCaseReducer(L,F){return g.sliceCaseReducersByName[L]=F,m}};d.forEach(L=>{const F=h[L],D={reducerName:L,type:FC(o,L),createNotation:typeof a.reducers=="function"};WC(F)?VC(D,F,m,e):GC(D,F,m)});function y(){const[L={},F=[],D=void 0]=typeof a.extraReducers=="function"?Hv(a.extraReducers):[a.extraReducers],G={...L,...g.sliceCaseReducersByType};return NC(a.initialState,j=>{for(let W in G)j.addCase(W,G[W]);for(let W of g.sliceMatchers)j.addMatcher(W.matcher,W.reducer);for(let W of F)j.addMatcher(W.matcher,W.reducer);D&&j.addDefaultCase(D)})}const x=L=>L,S=new Map;let E;function P(L,F){return E||(E=y()),E(L,F)}function R(){return E||(E=y()),E.getInitialState()}function A(L,F=!1){function D(j){let W=j[L];return typeof W>"u"&&F&&(W=R()),W}function G(j=x){const W=s0(S,F,()=>new WeakMap);return s0(W,j,()=>{const X={};for(const[K,ie]of Object.entries(a.selectors??{}))X[K]=BC(ie,j,R,F);return X})}return{reducerPath:L,getSelectors:G,get selectors(){return G(D)},selectSlice:D}}const I={name:o,reducer:P,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:R,...A(c),injectInto(L,{reducerPath:F,...D}={}){const G=F??c;return L.inject({reducerPath:G,reducer:P},D),{...I,...A(G,!0)}}};return I}}function BC(t,e,l,u){function a(o,...c){let h=e(o);return typeof h>"u"&&u&&(h=l()),t(h,...c)}return a.unwrapped=t,a}var Rp=zC();function jC(){function t(e,l){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...l}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...l){return e(...l)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,l){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:l}},asyncThunk:t}}function GC({type:t,reducerName:e,createNotation:l},u,a){let o,c;if("reducer"in u){if(l&&!HC(u))throw new Error(va(17));o=u.reducer,c=u.prepare}else o=u;a.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,c?o0(t,c):o0(t))}function WC(t){return t._reducerDefinitionType==="asyncThunk"}function HC(t){return t._reducerDefinitionType==="reducerWithPrepare"}function VC({type:t,reducerName:e},l,u,a){if(!a)throw new Error(va(18));const{payloadCreator:o,fulfilled:c,pending:h,rejected:d,settled:g,options:m}=l,y=a(t,o,m);u.exposeAction(e,y),c&&u.addCase(y.fulfilled,c),h&&u.addCase(y.pending,h),d&&u.addCase(y.rejected,d),g&&u.addMatcher(y.settled,g),u.exposeCaseReducer(e,{fulfilled:c||Lf,pending:h||Lf,rejected:d||Lf,settled:g||Lf})}function Lf(){}function va(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const YC={mode:"dark"},JC=Rp({name:"theme",initialState:YC,reducers:{setThemeMode:(t,e)=>{t.mode=e.payload,localStorage.setItem("theme",e.payload)},toggleThemeMode:t=>{const e=["dark"],l=e.indexOf(t.mode);t.mode=e[(l+1)%e.length],localStorage.setItem("theme",JSON.stringify(t))}},extraReducers:t=>{t.addDefaultCase(e=>e)}}),XC=JC.reducer,qC=["robot","teaching","device manager"],KC={isRobotPanelCollapsibleOpen:!1,isModalOpen:!1,modalVariant:null,showAdvancedOptions:!1,controlPanelTabState:qC[0],activeRoute:"/",inputFocus:!1,activeTaskId:null,activePositionId:null},QC=Rp({name:"ui",initialState:KC,reducers:{toggleRobotPanelCollapsible:t=>{t.isRobotPanelCollapsibleOpen=!t.isRobotPanelCollapsibleOpen},toggleModal:t=>{t.isModalOpen=!t.isModalOpen},closeModal:t=>{t.isModalOpen=!1,t.modalVariant=null},setModalVariant:(t,e)=>{t.modalVariant=e.payload},openModalAndSetVariant:(t,e)=>{t.isModalOpen=!0,t.modalVariant=e.payload},toggleShowAdvancedOptions:t=>{t.showAdvancedOptions=!t.showAdvancedOptions},setControlPanelTabState:(t,e)=>{t.controlPanelTabState=e.payload},setActiveRoute:(t,e)=>{t.activeRoute=e.payload},setInputFocus:(t,e)=>{t.inputFocus=e.payload},setActiveTaskId:(t,e)=>{t.activeTaskId=e.payload},setActivePositionId:(t,e)=>{t.activePositionId=e.payload}}}),ZC=QC.reducer,$C={cacheUIState:!0,messages:[],gridEnabled:!0,worldAxis:!0,jointAnimationEnabled:!0},Vv=Rp({name:"settings",initialState:$C,reducers:{toggleCacheUIState:t=>{t.cacheUIState=!t.cacheUIState},clearUICache:()=>{localStorage.removeItem("ui")},toggleWorldGrid:t=>{t.gridEnabled=!t.gridEnabled},toggleWorldAxis:t=>{t.worldAxis=!t.worldAxis},toggleJointAnimation:t=>{t.jointAnimationEnabled=!t.jointAnimationEnabled}}}),{toggleCacheUIState:qk,clearUICache:Kk,toggleWorldGrid:Qk,toggleWorldAxis:Zk,toggleJointAnimation:e3}=Vv.actions,t3=Vv.reducer,n3=Object.freeze(Object.defineProperty({__proto__:null,settings:t3,theme:XC,ui:ZC},Symbol.toStringTag,{value:"Module"}));function r3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t))}r3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const i3=t=>e=>l=>e(l),o3=()=>t=>e=>t(e);function a3(){const t=eT(),e=tT();return{ui:t,theme:e}}const s3=Mv({...n3}),Yv=MC({reducer:s3,preloadedState:a3(),middleware:t=>t().concat(i3).concat(o3)}),l3=kT;Yv.dispatch;const u3=yn.label`
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.875rem;
  cursor: pointer;
`,c3=yn.input`
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;

  &:checked + span {
    background-color: ${t=>t.theme.colors.primary};
  }

  &:checked + span::before {
    transform: translateX(20px);
  }
`,f3=yn.span`
  position: relative;
  display: inline-block;
  width: 40px;
  height: 20px;
  background-color: ${t=>t.theme.colors.surfaces.background};
  border-radius: 20px;
  transition: background-color 0.3s ease;

  &::before {
    content: "";
    position: absolute;
    height: 16px;
    width: 16px;
    background-color: ${t=>t.theme.colors.text.primary};
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: transform 0.3s ease;
  }
`,d3=()=>{const t=l3(),{jointAnimationEnabled:e}=Kl(u=>u.settings),l=()=>{t(e3())};return Ge.jsxs(u3,{children:[Ge.jsx(c3,{type:"checkbox",checked:e,onChange:l}),Ge.jsx(f3,{}),"Joint Animation"]})},h3=()=>{const{joints:t,jointValues:e}=ql();return Ge.jsxs(iC,{children:[Ge.jsx(d3,{}),Ge.jsx(oC,{children:"Joint Controls"}),Object.keys(t).filter(l=>Pv[l]).map(l=>Ge.jsxs(sC,{children:[Ge.jsxs(aC,{children:[Ep[l],":"]}),Ge.jsx(uC,{jointName:l,value:e[l]}),Ge.jsx(cC,{jointName:l,value:e[l]})]},l))]})},p3=()=>Ge.jsxs(rC,{children:[Ge.jsx(OT,{children:Ge.jsx(h3,{})}),Ge.jsx(UT,{children:Ge.jsx(tC,{})})]});var ju={},u0;function m3(){if(u0)return ju;u0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=c,ju.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,S){const E=new o,P=x.length;if(P<2)return E;const R=(S==null?void 0:S.decode)||m;let A=0;do{const I=x.indexOf("=",A);if(I===-1)break;const L=x.indexOf(";",A),F=L===-1?P:L;if(I>F){A=x.lastIndexOf(";",I-1)+1;continue}const D=h(x,A,I),G=d(x,I,D),j=x.slice(D,G);if(E[j]===void 0){let W=h(x,I+1,F),X=d(x,F,W);const K=R(x.slice(W,X));E[j]=K}A=F+1}while(A<P);return E}function h(x,S,E){do{const P=x.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<E);return E}function d(x,S,E){for(;S>E;){const P=x.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return E}function g(x,S,E){const P=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const R=P(S);if(!e.test(R))throw new TypeError(`argument val is invalid: ${S}`);let A=x+"="+R;if(!E)return A;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);A+="; Max-Age="+E.maxAge}if(E.domain){if(!l.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);A+="; Domain="+E.domain}if(E.path){if(!u.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);A+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);A+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(A+="; HttpOnly"),E.secure&&(A+="; Secure"),E.partitioned&&(A+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return A}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return a.call(x)==="[object Date]"}return ju}m3();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c0="popstate";function g3(t={}){function e(u,a){let{pathname:o,search:c,hash:h}=u.location;return cp("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function l(u,a){return typeof a=="string"?a:ic(a)}return y3(e,l,null,t)}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v3(){return Math.random().toString(36).substring(2,10)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function cp(t,e,l=null,u){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sc(e):e,state:l,key:e&&e.key||u||v3()}}function ic({pathname:t="/",search:e="",hash:l=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function sc(t){let e={};if(t){let l=t.indexOf("#");l>=0&&(e.hash=t.substring(l),t=t.substring(0,l));let u=t.indexOf("?");u>=0&&(e.search=t.substring(u),t=t.substring(0,u)),t&&(e.pathname=t)}return e}function y3(t,e,l,u={}){let{window:a=document.defaultView,v5Compat:o=!1}=u,c=a.history,h="POP",d=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let R=m(),A=R==null?null:R-g;g=R,d&&d({action:h,location:P.location,delta:A})}function x(R,A){h="PUSH";let I=cp(P.location,R,A);g=m()+1;let L=f0(I,g),F=P.createHref(I);try{c.pushState(L,"",F)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(F)}o&&d&&d({action:h,location:P.location,delta:1})}function S(R,A){h="REPLACE";let I=cp(P.location,R,A);g=m();let L=f0(I,g),F=P.createHref(I);c.replaceState(L,"",F),o&&d&&d({action:h,location:P.location,delta:0})}function E(R){let A=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof R=="string"?R:ic(R);return I=I.replace(/ $/,"%20"),cr(A,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,A)}let P={get action(){return h},get location(){return t(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(c0,y),d=R,()=>{a.removeEventListener(c0,y),d=null}},createHref(R){return e(a,R)},createURL:E,encodeLocation(R){let A=E(R);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:S,go(R){return c.go(R)}};return P}function Jv(t,e,l="/"){return _3(t,e,l,!1)}function _3(t,e,l,u){let a=typeof e=="string"?sc(e):e,o=os(a.pathname||"/",l);if(o==null)return null;let c=Xv(t);w3(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let g=L3(o);h=R3(c[d],g,u)}return h}function Xv(t,e=[],l=[],u=""){let a=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(cr(d.relativePath.startsWith(u),`Absolute route path "${d.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(u.length));let g=ya([u,d.relativePath]),m=l.concat(d);o.children&&o.children.length>0&&(cr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Xv(o.children,e,m,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:k3(g,o.index),routesMeta:m})};return t.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let d of qv(o.path))a(o,c,d)}),e}function qv(t){let e=t.split("/");if(e.length===0)return[];let[l,...u]=e,a=l.endsWith("?"),o=l.replace(/\?$/,"");if(u.length===0)return a?[o,""]:[o];let c=qv(u.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function w3(t){t.sort((e,l)=>e.score!==l.score?l.score-e.score:A3(e.routesMeta.map(u=>u.childrenIndex),l.routesMeta.map(u=>u.childrenIndex)))}var x3=/^:[\w-]+$/,S3=3,b3=2,E3=1,T3=10,C3=-2,d0=t=>t==="*";function k3(t,e){let l=t.split("/"),u=l.length;return l.some(d0)&&(u+=C3),e&&(u+=b3),l.filter(a=>!d0(a)).reduce((a,o)=>a+(x3.test(o)?S3:o===""?E3:T3),u)}function A3(t,e){return t.length===e.length&&t.slice(0,-1).every((u,a)=>u===e[a])?t[t.length-1]-e[e.length-1]:0}function R3(t,e,l=!1){let{routesMeta:u}=t,a={},o="/",c=[];for(let h=0;h<u.length;++h){let d=u[h],g=h===u.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=td({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},m),x=d.route;if(!y&&g&&l&&!u[u.length-1].route.index&&(y=td({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:ya([o,y.pathname]),pathnameBase:U3(ya([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=ya([o,y.pathnameBase]))}return c}function td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,u]=P3(t.path,t.caseSensitive,t.end),a=e.match(l);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:u.reduce((g,{paramName:m,isOptional:y},x)=>{if(m==="*"){let E=h[x]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[x];return y&&!S?g[m]=void 0:g[m]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:t}}function P3(t,e=!1,l=!0){Jo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let u=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(u.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(u.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),u]}function L3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jo(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function os(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let l=e.endsWith("/")?e.length-1:e.length,u=t.charAt(l);return u&&u!=="/"?null:t.slice(l)||"/"}function I3(t,e="/"){let{pathname:l,search:u="",hash:a=""}=typeof t=="string"?sc(t):t;return{pathname:l?l.startsWith("/")?l:O3(l,e):e,search:N3(u),hash:D3(a)}}function O3(t,e){let l=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?l.length>1&&l.pop():a!=="."&&l.push(a)}),l.length>1?l.join("/"):"/"}function Nh(t,e,l,u){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M3(t){return t.filter((e,l)=>l===0||e.route.path&&e.route.path.length>0)}function Kv(t){let e=M3(t);return e.map((l,u)=>u===e.length-1?l.pathname:l.pathnameBase)}function Qv(t,e,l,u=!1){let a;typeof t=="string"?a=sc(t):(a={...t},cr(!a.pathname||!a.pathname.includes("?"),Nh("?","pathname","search",a)),cr(!a.pathname||!a.pathname.includes("#"),Nh("#","pathname","hash",a)),cr(!a.search||!a.search.includes("#"),Nh("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=l;else{let y=e.length-1;if(!u&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}h=y>=0?e[y]:"/"}let d=I3(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&l.endsWith("/");return!d.pathname.endsWith("/")&&(g||m)&&(d.pathname+="/"),d}var ya=t=>t.join("/").replace(/\/\/+/g,"/"),U3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var z3=["GET",...Zv];new Set(z3);var Ql=ne.createContext(null);Ql.displayName="DataRouter";var md=ne.createContext(null);md.displayName="DataRouterState";var $v=ne.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var B3=ne.createContext(new Map);B3.displayName="Fetchers";var j3=ne.createContext(null);j3.displayName="Await";var Xo=ne.createContext(null);Xo.displayName="Navigation";var gd=ne.createContext(null);gd.displayName="Location";var xa=ne.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Pp=ne.createContext(null);Pp.displayName="RouteError";function G3(t,{relative:e}={}){cr(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:u}=ne.useContext(Xo),{hash:a,pathname:o,search:c}=uc(t,{relative:e}),h=o;return l!=="/"&&(h=o==="/"?l:ya([l,o])),u.createHref({pathname:h,search:c,hash:a})}function lc(){return ne.useContext(gd)!=null}function Qs(){return cr(lc(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(gd).location}var e1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t1(t){ne.useContext(Xo).static||ne.useLayoutEffect(t)}function W3(){let{isDataRoute:t}=ne.useContext(xa);return t?nk():H3()}function H3(){cr(lc(),"useNavigate() may be used only in the context of a <Router> component.");let t=ne.useContext(Ql),{basename:e,navigator:l}=ne.useContext(Xo),{matches:u}=ne.useContext(xa),{pathname:a}=Qs(),o=JSON.stringify(Kv(u)),c=ne.useRef(!1);return t1(()=>{c.current=!0}),ne.useCallback((d,g={})=>{if(Jo(c.current,e1),!c.current)return;if(typeof d=="number"){l.go(d);return}let m=Qv(d,JSON.parse(o),a,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ya([e,m.pathname])),(g.replace?l.replace:l.push)(m,g.state,g)},[e,l,o,a,t])}ne.createContext(null);function uc(t,{relative:e}={}){let{matches:l}=ne.useContext(xa),{pathname:u}=Qs(),a=JSON.stringify(Kv(l));return ne.useMemo(()=>Qv(t,JSON.parse(a),u,e==="path"),[t,a,u,e])}function V3(t,e,l,u){cr(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ne.useContext(Xo),{matches:o}=ne.useContext(xa),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",m=c&&c.route;{let A=m&&m.path||"";n1(d,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Qs(),x;x=y;let S=x.pathname||"/",E=S;if(g!=="/"){let A=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=Jv(t,{pathname:E});return Jo(m||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Jo(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),K3(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:ya([g,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:ya([g,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,l,u)}function Y3(){let t=tk(),e=F3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,u="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:u},o={padding:"2px 4px",backgroundColor:u},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:o},"ErrorBoundary")," or"," ",ne.createElement("code",{style:o},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),l?ne.createElement("pre",{style:a},l):null,c)}var J3=ne.createElement(Y3,null),X3=class extends ne.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ne.createElement(xa.Provider,{value:this.props.routeContext},ne.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q3({routeContext:t,match:e,children:l}){let u=ne.useContext(Ql);return u&&u.static&&u.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(xa.Provider,{value:t},l)}function K3(t,e=[],l=null,u=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(e.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let a=t,o=l==null?void 0:l.errors;if(o!=null){let d=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);cr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(l)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=d),g.route.id){let{loaderData:m,errors:y}=l,x=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||x){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,g,m)=>{let y,x=!1,S=null,E=null;l&&(y=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||J3,c&&(h<0&&m===0?(n1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):h===m&&(x=!0,E=g.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,m+1)),R=()=>{let A;return y?A=S:x?A=E:g.route.Component?A=ne.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=d,ne.createElement(q3,{match:g,routeContext:{outlet:d,matches:P,isDataRoute:l!=null},children:A})};return l&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?ne.createElement(X3,{location:l.location,revalidation:l.revalidation,component:S,error:y,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function Lp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q3(t){let e=ne.useContext(Ql);return cr(e,Lp(t)),e}function Z3(t){let e=ne.useContext(md);return cr(e,Lp(t)),e}function $3(t){let e=ne.useContext(xa);return cr(e,Lp(t)),e}function Ip(t){let e=$3(t),l=e.matches[e.matches.length-1];return cr(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function ek(){return Ip("useRouteId")}function tk(){var u;let t=ne.useContext(Pp),e=Z3("useRouteError"),l=Ip("useRouteError");return t!==void 0?t:(u=e.errors)==null?void 0:u[l]}function nk(){let{router:t}=Q3("useNavigate"),e=Ip("useNavigate"),l=ne.useRef(!1);return t1(()=>{l.current=!0}),ne.useCallback(async(a,o={})=>{Jo(l.current,e1),l.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var h0={};function n1(t,e,l){!e&&!h0[t]&&(h0[t]=!0,Jo(!1,l))}ne.memo(rk);function rk({routes:t,future:e,state:l}){return V3(t,void 0,l,e)}function ik({basename:t="/",children:e=null,location:l,navigationType:u="POP",navigator:a,static:o=!1}){cr(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=ne.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof l=="string"&&(l=sc(l));let{pathname:d="/",search:g="",hash:m="",state:y=null,key:x="default"}=l,S=ne.useMemo(()=>{let E=os(d,c);return E==null?null:{location:{pathname:E,search:g,hash:m,state:y,key:x},navigationType:u}},[c,d,g,m,y,x,u]);return Jo(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:ne.createElement(Xo.Provider,{value:h},ne.createElement(gd.Provider,{children:e,value:S}))}var Gf="get",Wf="application/x-www-form-urlencoded";function vd(t){return t!=null&&typeof t.tagName=="string"}function ok(t){return vd(t)&&t.tagName.toLowerCase()==="button"}function ak(t){return vd(t)&&t.tagName.toLowerCase()==="form"}function sk(t){return vd(t)&&t.tagName.toLowerCase()==="input"}function lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uk(t,e){return t.button===0&&(!e||e==="_self")&&!lk(t)}var If=null;function ck(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var fk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dh(t){return t!=null&&!fk.has(t)?(Jo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wf}"`),null):t}function dk(t,e){let l,u,a,o,c;if(ak(t)){let h=t.getAttribute("action");u=h?os(h,e):null,l=t.getAttribute("method")||Gf,a=Dh(t.getAttribute("enctype"))||Wf,o=new FormData(t)}else if(ok(t)||sk(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(u=d?os(d,e):null,l=t.getAttribute("formmethod")||h.getAttribute("method")||Gf,a=Dh(t.getAttribute("formenctype"))||Dh(h.getAttribute("enctype"))||Wf,o=new FormData(h,t),!ck()){let{name:g,type:m,value:y}=t;if(m==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,y)}}else{if(vd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Gf,u=null,a=Wf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:u,method:l.toLowerCase(),encType:a,formData:o,body:c}}function Op(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function hk(t,e){if(t.id in e)return e[t.id];try{let l=await import(t.module);return e[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mk(t,e,l){let u=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await hk(o,l);return c.links?c.links():[]}return[]}));return _k(u.flat(1).filter(pk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function p0(t,e,l,u,a,o){let c=(d,g)=>l[g]?d.route.id!==l[g].route.id:!0,h=(d,g)=>{var m;return l[g].pathname!==d.pathname||((m=l[g].route.path)==null?void 0:m.endsWith("*"))&&l[g].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,g)=>c(d,g)||h(d,g)):o==="data"?e.filter((d,g)=>{var y;let m=u.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=l[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function gk(t,e){return vk(t.map(l=>{let u=e.routes[l.route.id];if(!u)return[];let a=[u.module];return u.imports&&(a=a.concat(u.imports)),a}).flat(1))}function vk(t){return[...new Set(t)]}function yk(t){let e={},l=Object.keys(t).sort();for(let u of l)e[u]=t[u];return e}function _k(t,e){let l=new Set;return new Set(e),t.reduce((u,a)=>{let o=JSON.stringify(yk(a));return l.has(o)||(l.add(o),u.push({key:o,link:a})),u},[])}function wk(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xk(){let t=ne.useContext(Ql);return Op(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sk(){let t=ne.useContext(md);return Op(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Mp=ne.createContext(void 0);Mp.displayName="FrameworkContext";function r1(){let t=ne.useContext(Mp);return Op(t,"You must render this element inside a <HydratedRouter> element"),t}function bk(t,e){let l=ne.useContext(Mp),[u,a]=ne.useState(!1),[o,c]=ne.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:m,onTouchStart:y}=e,x=ne.useRef(null);ne.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=A=>{A.forEach(I=>{c(I.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return x.current&&R.observe(x.current),()=>{R.disconnect()}}},[t]),ne.useEffect(()=>{if(u){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[u]);let S=()=>{a(!0)},E=()=>{a(!1),c(!1)};return l?t!=="intent"?[o,x,{}]:[o,x,{onFocus:Gu(h,S),onBlur:Gu(d,E),onMouseEnter:Gu(g,S),onMouseLeave:Gu(m,E),onTouchStart:Gu(y,S)}]:[!1,x,{}]}function Gu(t,e){return l=>{t&&t(l),l.defaultPrevented||e(l)}}function Ek({page:t,...e}){let{router:l}=xk(),u=ne.useMemo(()=>Jv(l.routes,t,l.basename),[l.routes,t,l.basename]);return u?ne.createElement(Ck,{page:t,matches:u,...e}):null}function Tk(t){let{manifest:e,routeModules:l}=r1(),[u,a]=ne.useState([]);return ne.useEffect(()=>{let o=!1;return mk(t,e,l).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,l]),u}function Ck({page:t,matches:e,...l}){let u=Qs(),{manifest:a,routeModules:o}=r1(),{loaderData:c,matches:h}=Sk(),d=ne.useMemo(()=>p0(t,e,h,a,u,"data"),[t,e,h,a,u]),g=ne.useMemo(()=>p0(t,e,h,a,u,"assets"),[t,e,h,a,u]),m=ne.useMemo(()=>{if(t===u.pathname+u.search+u.hash)return[];let S=new Set,E=!1;if(e.forEach(R=>{var I;let A=a.routes[R.route.id];!A||!A.hasLoader||(!d.some(L=>L.route.id===R.route.id)&&R.route.id in c&&((I=o[R.route.id])!=null&&I.shouldRevalidate)||A.hasClientLoader?E=!0:S.add(R.route.id))}),S.size===0)return[];let P=wk(t);return E&&S.size>0&&P.searchParams.set("_routes",e.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[P.pathname+P.search]},[c,u,a,d,e,t,o]),y=ne.useMemo(()=>gk(g,a),[g,a]),x=Tk(g);return ne.createElement(ne.Fragment,null,m.map(S=>ne.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...l})),y.map(S=>ne.createElement("link",{key:S,rel:"modulepreload",href:S,...l})),x.map(({key:S,link:E})=>ne.createElement("link",{key:S,...E})))}function kk(...t){return e=>{t.forEach(l=>{typeof l=="function"?l(e):l!=null&&(l.current=e)})}}var i1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i1&&(window.__reactRouterVersion="7.1.0")}catch{}function Ak({basename:t,children:e,window:l}){let u=ne.useRef();u.current==null&&(u.current=g3({window:l,v5Compat:!0}));let a=u.current,[o,c]=ne.useState({action:a.action,location:a.location}),h=ne.useCallback(d=>{ne.startTransition(()=>c(d))},[c]);return ne.useLayoutEffect(()=>a.listen(h),[a,h]),ne.createElement(ik,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a1=ne.forwardRef(function({onClick:e,discover:l="render",prefetch:u="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:g,preventScrollReset:m,viewTransition:y,...x},S){let{basename:E}=ne.useContext(Xo),P=typeof g=="string"&&o1.test(g),R,A=!1;if(typeof g=="string"&&P&&(R=g,i1))try{let X=new URL(window.location.href),K=g.startsWith("//")?new URL(X.protocol+g):new URL(g),ie=os(K.pathname,E);K.origin===X.origin&&ie!=null?g=ie+K.search+K.hash:A=!0}catch{Jo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=G3(g,{relative:a}),[L,F,D]=bk(u,x),G=Ik(g,{replace:c,state:h,target:d,preventScrollReset:m,relative:a,viewTransition:y});function j(X){e&&e(X),X.defaultPrevented||G(X)}let W=ne.createElement("a",{...x,...D,href:R||I,onClick:A||o?e:j,ref:kk(S,F),target:d,"data-discover":!P&&l==="render"?"true":void 0});return L&&!P?ne.createElement(ne.Fragment,null,W,ne.createElement(Ek,{page:I})):W});a1.displayName="Link";var Rk=ne.forwardRef(function({"aria-current":e="page",caseSensitive:l=!1,className:u="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...g},m){let y=uc(c,{relative:g.relative}),x=Qs(),S=ne.useContext(md),{navigator:E,basename:P}=ne.useContext(Xo),R=S!=null&&Dk(y)&&h===!0,A=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=x.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;l||(I=I.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&P&&(L=os(L,P)||L);const F=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=I===A||!a&&I.startsWith(A)&&I.charAt(F)==="/",G=L!=null&&(L===A||!a&&L.startsWith(A)&&L.charAt(A.length)==="/"),j={isActive:D,isPending:G,isTransitioning:R},W=D?e:void 0,X;typeof u=="function"?X=u(j):X=[u,D?"active":null,G?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(j):o;return ne.createElement(a1,{...g,"aria-current":W,className:X,ref:m,style:K,to:c,viewTransition:h},typeof d=="function"?d(j):d)});Rk.displayName="NavLink";var Pk=ne.forwardRef(({discover:t="render",fetcherKey:e,navigate:l,reloadDocument:u,replace:a,state:o,method:c=Gf,action:h,onSubmit:d,relative:g,preventScrollReset:m,viewTransition:y,...x},S)=>{let E=Uk(),P=Nk(h,{relative:g}),R=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&o1.test(h),I=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let F=L.nativeEvent.submitter,D=(F==null?void 0:F.getAttribute("formmethod"))||c;E(F||L.currentTarget,{fetcherKey:e,method:D,navigate:l,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:y})};return ne.createElement("form",{ref:S,method:R,action:P,onSubmit:u?d:I,...x,"data-discover":!A&&t==="render"?"true":void 0})});Pk.displayName="Form";function Lk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(t){let e=ne.useContext(Ql);return cr(e,Lk(t)),e}function Ik(t,{target:e,replace:l,state:u,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=W3(),d=Qs(),g=uc(t,{relative:o});return ne.useCallback(m=>{if(uk(m,e)){m.preventDefault();let y=l!==void 0?l:ic(d)===ic(g);h(t,{replace:y,state:u,preventScrollReset:a,relative:o,viewTransition:c})}},[d,h,g,l,u,e,t,a,o,c])}var Ok=0,Mk=()=>`__${String(++Ok)}__`;function Uk(){let{router:t}=s1("useSubmit"),{basename:e}=ne.useContext(Xo),l=ek();return ne.useCallback(async(u,a={})=>{let{action:o,method:c,encType:h,formData:d,body:g}=dk(u,e);if(a.navigate===!1){let m=a.fetcherKey||Mk();await t.fetch(m,l,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:l,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,l])}function Nk(t,{relative:e}={}){let{basename:l}=ne.useContext(Xo),u=ne.useContext(xa);cr(u,"useFormAction must be used inside a RouteContext");let[a]=u.matches.slice(-1),o={...uc(t||".",{relative:e})},c=Qs();if(t==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(o.pathname=o.pathname==="/"?l:ya([l,o.pathname])),ic(o)}function Dk(t,e={}){let l=ne.useContext($v);cr(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=s1("useViewTransitionState"),a=uc(t,{relative:e.relative});if(!l.isTransitioning)return!1;let o=os(l.currentLocation.pathname,u)||l.currentLocation.pathname,c=os(l.nextLocation.pathname,u)||l.nextLocation.pathname;return td(a.pathname,c)!=null||td(a.pathname,o)!=null}new TextEncoder;const Of={status:{success:"#28a745",error:"#dc3545",warning:"#ffc107",info:"#007bff"},accent:"#00bcd4",neutrals:{}},es={0:"#ffffff",50:"#e5e5e5",100:"#c8c8c8",200:"#a0a0a0",300:"#7a7a7a",400:"#5a5a5a",500:"#444444",600:"#303030",700:"#1f1f1f",800:"#151515",900:"#0c0c0c",950:"#000000"},ma={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},An={neutrals:es,primary:"#007bff",secondary:"#6c757d",success:Of.status.success,warning:Of.status.warning,error:Of.status.error,accent:Of.accent,surfaces:{background:ma[950],panel:ma[900],card:ma[800],header:ma[800],footer:ma[800],modal:ma[900],overlay:"rgba(0, 0, 0, 0.5)",toolbar:ma[900],sidebar:ma[800]},text:{primary:es[0],secondary:es[100],muted:es[500],inverted:es[950],placeholder:es[600],hover:es[50],active:es[100]},border:ma[900]},Fk={navigationBar:{background:An.surfaces.toolbar,text:An.text.primary,border:An.border,hover:An.text.hover,active:An.text.active,accent:An.accent},panel:{background:An.surfaces.panel,border:An.border,text:An.text.primary,shadow:"0 0 10px 2px rgba(0, 0, 0, 0.2)"},button:{primary:{background:An.primary,text:An.text.primary,border:An.border,hover:An.text.hover},secondary:{background:An.secondary,text:An.text.secondary,border:An.border,hover:An.text.hover}},card:{background:An.surfaces.card,text:An.text.primary,border:An.border},tooltip:{background:An.surfaces.overlay,text:An.text.primary},scrollbar:{thumb:An.neutrals[700],track:An.neutrals[900]}},zk={fontSize:{small:"12px",medium:"14px",large:"16px"},lineHeightSmall:"1.2",lineHeightMedium:"1.5",lineHeightLarge:"1.8",fontFamily:"Montserrat, sans-serif"},Bk={unit:8,small:"4px",medium:"8px",large:"16px",extraLarge:"24px",gap:"12px"},m0={colors:An,components:Fk,typography:zk,spacing:Bk},jk=IS`

  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    cursor: default;
    background-color: rgb(15 23 42 / var(--tw-bg-opacity, 1));
  }
  html {
    font-family: 'Montserrat', sans-serif;
  }

  /* Works on Chrome, Edge, and Safari */
  *::-webkit-scrollbar {
    width: 0.75rem; /* width of the entire scrollbar */
  }

  *::-webkit-scrollbar-track {
    background: rgb(0, 0, 0, 0); /* color of the track */
  }

  *::-webkit-scrollbar-thumb {
    background-color: ${({theme:t})=>t.components.scrollbar.thumb}; /* color of the scroll thumb */
    border-radius: 5px; /* roundness of the scroll thumb */
    border: 3px solid rgb(0, 0, 0, 0); /* creates padding around the scroll thumb */
  }
`,Gk=yn.div`
  display: flex;
  flex-direction: row;
  /* background-color: ${t=>t.theme.colors.surfaces.background}; */
  background-color: #000;
  color: ${t=>t.theme.colors.text.primary};
`,Wk=ro.createContext(void 0),Hk=({children:t})=>{const e=Kl(u=>u.theme.mode);let l=m0;switch(e){default:l=m0}return Ge.jsx(Wk.Provider,{value:{theme:l},children:Ge.jsxs(RS,{theme:l,children:[Ge.jsx(jk,{}),Ge.jsx(Gk,{children:t})]})})};P2.createRoot(document.getElementById("root")).render(Ge.jsx(ne.StrictMode,{children:Ge.jsx(Ak,{children:Ge.jsx(ET,{store:Yv,children:Ge.jsx(Hk,{children:Ge.jsx(p3,{})})})})}));
