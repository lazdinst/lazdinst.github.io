import{r as id,g as _p,a as Kx,c as hf}from"./react-iN9lqvNv.js";import{L as $d,T as E0,R as Qx,U as Zx,a as $x,O as Xu,P as zl,S as Yh,b as eh,N as e2,A as t2,B as Vf,M as n2,C as _a,W as r2,c as i2,d as o2,e as a2,V as s2,f as Nt,g as ur,h as l2,i as u2,j as T0,k as c2,l as f2,Q as Zu,m as Um,n as Cl,o as kl,p as ac,I as C0,F as wo,q as Xh,r as Dl,s as d2,t as wp,u as h2,v as Jh,w as Nm,x as rs,y as ji,z as p2,D as Vo,E as Ml,G as m2,H as g2,J as v2,K as y2,X as Dm,Y as _2,Z as w2,_ as qh,$ as k0,a0 as xp,a1 as Kh,a2 as A0,a3 as Wo,a4 as th,a5 as x2,a6 as S2,a7 as R0,a8 as P0,a9 as Fm,aa as zm,ab as b2,ac as E2,ad as Ju,ae as pf,af as T2,ag as C2,ah as k2,ai as A2,aj as R2,ak as Bm,al as P2,am as jm,an as L2,ao as I2,ap as M2,aq as mf,ar as Gm,as as O2,at as L0,au as U2,av as N2,aw as D2,ax as F2,ay as z2,az as B2}from"./three-Brzc3BMF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var nh={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function j2(){if(Wm)return Du;Wm=1;var e=id(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(h,d,m){var g,y={},w=null,S=null;m!==void 0&&(w=""+m),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)u.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(h&&h.defaultProps)for(g in d=h.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:t,type:h,key:w,ref:S,props:y,_owner:a.current}}return Du.Fragment=s,Du.jsx=c,Du.jsxs=c,Du}var Hm;function G2(){return Hm||(Hm=1,nh.exports=j2()),nh.exports}var Pe=G2(),$=id();const Si=_p($);var gf={},Vm;function W2(){if(Vm)return gf;Vm=1;var e=Kx();return gf.createRoot=e.createRoot,gf.hydrateRoot=e.hydrateRoot,gf}var H2=W2(),rh={exports:{}},Za={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function V2(){return Ym||(Ym=1,Za.ConcurrentRoot=1,Za.ContinuousEventPriority=4,Za.DefaultEventPriority=16,Za.DiscreteEventPriority=1,Za.IdleEventPriority=536870912,Za.LegacyRoot=0),Za}var Xm;function Y2(){return Xm||(Xm=1,rh.exports=V2()),rh.exports}var Wu=Y2();function X2(e){let t;const s=new Set,u=(m,g)=>{const y=typeof m=="function"?m(t):m;if(y!==t){const w=t;t=g?y:Object.assign({},t,y),s.forEach(S=>S(t,w))}},a=()=>t,o=(m,g=a,y=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let w=g(t);function S(){const E=g(t);if(!y(w,E)){const P=w;m(w=E,P)}}return s.add(S),()=>s.delete(S)},d={setState:u,getState:a,subscribe:(m,g,y)=>g||y?o(m,g,y):(s.add(m),()=>s.delete(m)),destroy:()=>s.clear()};return t=e(u,a,d),d}const J2=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Jm=J2?$.useEffect:$.useLayoutEffect;function q2(e){const t=typeof e=="function"?X2(e):e,s=(u=t.getState,a=Object.is)=>{const[,o]=$.useReducer(R=>R+1,0),c=t.getState(),h=$.useRef(c),d=$.useRef(u),m=$.useRef(a),g=$.useRef(!1),y=$.useRef();y.current===void 0&&(y.current=u(c));let w,S=!1;(h.current!==c||d.current!==u||m.current!==a||g.current)&&(w=u(c),S=!a(y.current,w)),Jm(()=>{S&&(y.current=w),h.current=c,d.current=u,m.current=a,g.current=!1});const E=$.useRef(c);Jm(()=>{const R=()=>{try{const I=t.getState(),L=d.current(I);m.current(y.current,L)||(h.current=I,y.current=L,o())}catch{g.current=!0,o()}},A=t.subscribe(R);return t.getState()!==E.current&&R(),A},[]);const P=S?w:y.current;return $.useDebugValue(P),P};return Object.assign(s,t),s[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const u=[s,t];return{next(){const a=u.length<=0;return{value:u.shift(),done:a}}}},s}const K2=e=>typeof e=="object"&&typeof e.then=="function",vf=[];function Q2(e,t,s=(u,a)=>u===a){if(e===t)return!0;if(!e||!t)return!1;const u=e.length;if(t.length!==u)return!1;for(let a=0;a<u;a++)if(!s(e[a],t[a]))return!1;return!0}function Z2(e,t=null,s=!1,u={}){t===null&&(t=[e]);for(const o of vf)if(Q2(t,o.keys,o.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return u.lifespan&&u.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,u.lifespan)),o.response;if(!s)throw o.promise}const a={keys:t,equal:u.equal,remove:()=>{const o=vf.indexOf(a);o!==-1&&vf.splice(o,1)},promise:(K2(e)?e:e(...t)).then(o=>{a.response=o,u.lifespan&&u.lifespan>0&&(a.timeout=setTimeout(a.remove,u.lifespan))}).catch(o=>a.error=o)};if(vf.push(a),!s)throw a.promise}const $2=(e,t,s)=>Z2(e,t,!1,s);var ih={exports:{}},oh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function eS(){return qm||(qm=1,function(e){function t(X,K){var H=X.length;X.push(K);e:for(;0<H;){var B=H-1>>>1,Q=X[B];if(0<a(Q,K))X[B]=K,X[H]=Q,H=B;else break e}}function s(X){return X.length===0?null:X[0]}function u(X){if(X.length===0)return null;var K=X[0],H=X.pop();if(H!==K){X[0]=H;e:for(var B=0,Q=X.length,te=Q>>>1;B<te;){var oe=2*(B+1)-1,ee=X[oe],le=oe+1,fe=X[le];if(0>a(ee,H))le<Q&&0>a(fe,ee)?(X[B]=fe,X[le]=H,B=le):(X[B]=ee,X[oe]=H,B=oe);else if(le<Q&&0>a(fe,H))X[B]=fe,X[le]=H,B=le;else break e}}return K}function a(X,K){var H=X.sortIndex-K.sortIndex;return H!==0?H:X.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,w=3,S=!1,E=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(X){for(var K=s(m);K!==null;){if(K.callback===null)u(m);else if(K.startTime<=X)u(m),K.sortIndex=K.expirationTime,t(d,K);else break;K=s(m)}}function D(X){if(P=!1,L(X),!E)if(s(d)!==null)E=!0,se(F);else{var K=s(m);K!==null&&Ee(D,K.startTime-X)}}function F(X,K){E=!1,P&&(P=!1,A(W),W=-1),S=!0;var H=w;try{for(L(K),y=s(d);y!==null&&(!(y.expirationTime>K)||X&&!ie());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var Q=B(y.expirationTime<=K);K=e.unstable_now(),typeof Q=="function"?y.callback=Q:y===s(d)&&u(d),L(K)}else u(d);y=s(d)}if(y!==null)var te=!0;else{var oe=s(m);oe!==null&&Ee(D,oe.startTime-K),te=!1}return te}finally{y=null,w=H,S=!1}}var G=!1,j=null,W=-1,q=5,J=-1;function ie(){return!(e.unstable_now()-J<q)}function Y(){if(j!==null){var X=e.unstable_now();J=X;var K=!0;try{K=j(!0,X)}finally{K?ce():(G=!1,j=null)}}else G=!1}var ce;if(typeof I=="function")ce=function(){I(Y)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,xe=pe.port2;pe.port1.onmessage=Y,ce=function(){xe.postMessage(null)}}else ce=function(){R(Y,0)};function se(X){j=X,G||(G=!0,ce())}function Ee(X,K){W=R(function(){X(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,se(F))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(X){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var H=w;w=K;try{return X()}finally{w=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var H=w;w=X;try{return K()}finally{w=H}},e.unstable_scheduleCallback=function(X,K,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,X={id:g++,callback:K,priorityLevel:X,startTime:H,expirationTime:Q,sortIndex:-1},H>B?(X.sortIndex=H,t(m,X),s(d)===null&&X===s(m)&&(P?(A(W),W=-1):P=!0,Ee(D,H-B))):(X.sortIndex=Q,t(d,X),E||S||(E=!0,se(F))),X},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(X){var K=w;return function(){var H=w;w=K;try{return X.apply(this,arguments)}finally{w=H}}}}(ah)),ah}var Km;function tS(){return Km||(Km=1,oh.exports=eS()),oh.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh,Qm;function nS(){return Qm||(Qm=1,sh=function(t){var s={},u=id(),a=tS(),o=Object.assign;function c(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),F=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}function j(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case g:return"Fragment";case m:return"Portal";case w:return"Profiler";case y:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case E:return(r.displayName||"Context")+".Consumer";case S:return(r._context.displayName||"Context")+".Provider";case P:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:j(r.type)||"Memo";case L:i=r._payload,r=r._init;try{return j(r(i))}catch{}}return null}function W(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(i);case 8:return i===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function q(r){var i=r,f=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(f=i.return),r=i.return;while(r)}return i.tag===3?f:null}function J(r){if(q(r)!==r)throw Error(c(188))}function ie(r){var i=r.alternate;if(!i){if(i=q(r),i===null)throw Error(c(188));return i!==r?null:r}for(var f=r,v=i;;){var _=f.return;if(_===null)break;var b=_.alternate;if(b===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===f)return J(_),r;if(b===v)return J(_),i;b=b.sibling}throw Error(c(188))}if(f.return!==v.return)f=_,v=b;else{for(var V=!1,ue=_.child;ue;){if(ue===f){V=!0,f=_,v=b;break}if(ue===v){V=!0,v=_,f=b;break}ue=ue.sibling}if(!V){for(ue=b.child;ue;){if(ue===f){V=!0,f=b,v=_;break}if(ue===v){V=!0,v=b,f=_;break}ue=ue.sibling}if(!V)throw Error(c(189))}}if(f.alternate!==v)throw Error(c(190))}if(f.tag!==3)throw Error(c(188));return f.stateNode.current===f?r:i}function Y(r){return r=ie(r),r!==null?ce(r):null}function ce(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ce(r);if(i!==null)return i;r=r.sibling}return null}function pe(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){if(r.tag!==4){var i=pe(r);if(i!==null)return i}r=r.sibling}return null}var xe=Array.isArray,se=t.getPublicInstance,Ee=t.getRootHostContext,X=t.getChildHostContext,K=t.prepareForCommit,H=t.resetAfterCommit,B=t.createInstance,Q=t.appendInitialChild,te=t.finalizeInitialChildren,oe=t.prepareUpdate,ee=t.shouldSetTextContent,le=t.createTextInstance,fe=t.scheduleTimeout,_e=t.cancelTimeout,Oe=t.noTimeout,je=t.isPrimaryRenderer,Le=t.supportsMutation,Ce=t.supportsPersistence,ht=t.supportsHydration,ot=t.getInstanceFromNode,Ve=t.preparePortalMount,st=t.getCurrentEventPriority,et=t.detachDeletedInstance,Ue=t.supportsMicrotasks,lt=t.scheduleMicrotask,He=t.supportsTestSelectors,Te=t.findFiberRoot,xt=t.getBoundingRect,Ge=t.getTextContent,Qe=t.isHiddenSubtree,Be=t.matchAccessibilityRole,$t=t.setFocusIfFocusable,tt=t.setupIntersectionObserver,nt=t.appendChild,gt=t.appendChildToContainer,Ct=t.commitTextUpdate,tn=t.commitMount,fn=t.commitUpdate,It=t.insertBefore,Mt=t.insertInContainerBefore,ct=t.removeChild,ae=t.removeChildFromContainer,Re=t.resetTextContent,rt=t.hideInstance,ft=t.hideTextInstance,Ze=t.unhideInstance,Ot=t.unhideTextInstance,Pn=t.clearContainer,an=t.cloneInstance,zt=t.createContainerChildSet,nn=t.appendChildToContainerChildSet,Xt=t.finalizeContainerChildren,St=t.replaceContainerChildren,Dt=t.cloneHiddenInstance,yn=t.cloneHiddenTextInstance,wn=t.canHydrateInstance,xn=t.canHydrateTextInstance,Pr=t.canHydrateSuspenseInstance,Lr=t.isSuspenseInstancePending,Ir=t.isSuspenseInstanceFallback,ci=t.registerSuspenseInstanceRetry,fr=t.getNextHydratableSibling,Qr=t.getFirstHydratableChild,Gn=t.getFirstHydratableChildWithinContainer,bi=t.getFirstHydratableChildWithinSuspenseInstance,Sa=t.hydrateInstance,qo=t.hydrateTextInstance,ba=t.hydrateSuspenseInstance,Ea=t.getNextHydratableInstanceAfterSuspenseInstance,oo=t.commitHydratedContainer,Ko=t.commitHydratedSuspenseInstance,as=t.clearSuspenseBoundary,Ta=t.clearSuspenseBoundaryFromContainer,bo=t.shouldDeleteUnhydratedTailInstances,Ln=t.didNotMatchHydratedContainerTextInstance,fi=t.didNotMatchHydratedTextInstance,it;function Hr(r){if(it===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||""}return`
`+it+r}var Qo=!1;function Zr(r,i){if(!r||Qo)return"";Qo=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(De){var v=De}Reflect.construct(r,[],i)}else{try{i.call()}catch(De){v=De}r.call(i.prototype)}else{try{throw Error()}catch(De){v=De}r()}}catch(De){if(De&&v&&typeof De.stack=="string"){for(var _=De.stack.split(`
`),b=v.stack.split(`
`),V=_.length-1,ue=b.length-1;1<=V&&0<=ue&&_[V]!==b[ue];)ue--;for(;1<=V&&0<=ue;V--,ue--)if(_[V]!==b[ue]){if(V!==1||ue!==1)do if(V--,ue--,0>ue||_[V]!==b[ue]){var Se=`
`+_[V].replace(" at new "," at ");return r.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",r.displayName)),Se}while(1<=V&&0<=ue);break}}}finally{Qo=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?Hr(r):""}var ao=Object.prototype.hasOwnProperty,so=[],$r=-1;function dr(r){return{current:r}}function sn(r){0>$r||(r.current=so[$r],so[$r]=null,$r--)}function en(r,i){$r++,so[$r]=r.current,r.current=i}var Mr={},Cn=dr(Mr),Nn=dr(!1),Vr=Mr;function hr(r,i){var f=r.type.contextTypes;if(!f)return Mr;var v=r.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===i)return v.__reactInternalMemoizedMaskedChildContext;var _={},b;for(b in f)_[b]=i[b];return v&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=_),_}function Wn(r){return r=r.childContextTypes,r!=null}function Yr(){sn(Nn),sn(Cn)}function di(r,i,f){if(Cn.current!==Mr)throw Error(c(168));en(Cn,i),en(Nn,f)}function _n(r,i,f){var v=r.stateNode;if(i=i.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in i))throw Error(c(108,W(r)||"Unknown",_));return o({},f,v)}function hi(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Mr,Vr=Cn.current,en(Cn,r),en(Nn,Nn.current),!0}function pr(r,i,f){var v=r.stateNode;if(!v)throw Error(c(169));f?(r=_n(r,i,Vr),v.__reactInternalMemoizedMergedChildContext=r,sn(Nn),sn(Cn),en(Cn,r)):sn(Nn),en(Nn,f)}var ar=Math.clz32?Math.clz32:Hi,Ei=Math.log,Ti=Math.LN2;function Hi(r){return r>>>=0,r===0?32:31-(Ei(r)/Ti|0)|0}var mr=64,Xr=4194304;function gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vt(r,i){var f=r.pendingLanes;if(f===0)return 0;var v=0,_=r.suspendedLanes,b=r.pingedLanes,V=f&268435455;if(V!==0){var ue=V&~_;ue!==0?v=gr(ue):(b&=V,b!==0&&(v=gr(b)))}else V=f&~_,V!==0?v=gr(V):b!==0&&(v=gr(b));if(v===0)return 0;if(i!==0&&i!==v&&!(i&_)&&(_=v&-v,b=i&-i,_>=b||_===16&&(b&4194240)!==0))return i;if(v&4&&(v|=f&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=v;0<i;)f=31-ar(i),_=1<<f,v|=r[f],i&=~_;return v}function Vi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(r,i){for(var f=r.suspendedLanes,v=r.pingedLanes,_=r.expirationTimes,b=r.pendingLanes;0<b;){var V=31-ar(b),ue=1<<V,Se=_[V];Se===-1?(!(ue&f)||ue&v)&&(_[V]=Vi(ue,i)):Se<=i&&(r.expiredLanes|=ue),b&=~ue}}function T(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function U(r){for(var i=[],f=0;31>f;f++)i.push(r);return i}function M(r,i,f){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-ar(i),r[i]=f}function N(r,i){var f=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var v=r.eventTimes;for(r=r.expirationTimes;0<f;){var _=31-ar(f),b=1<<_;i[_]=0,v[_]=-1,r[_]=-1,f&=~b}}function ve(r,i){var f=r.entangledLanes|=i;for(r=r.entanglements;f;){var v=31-ar(f),_=1<<v;_&i|r[v]&i&&(r[v]|=i),f&=~_}}var me=0;function Ye(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ne=a.unstable_scheduleCallback,ze=a.unstable_cancelCallback,ut=a.unstable_shouldYield,Ie=a.unstable_requestPaint,Fe=a.unstable_now,Xe=a.unstable_ImmediatePriority,_t=a.unstable_UserBlockingPriority,Ke=a.unstable_NormalPriority,hn=a.unstable_IdlePriority,Zt=null,Ut=null;function dt(r){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Zt,r,void 0,(r.current.flags&128)===128)}catch{}}function Jt(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var pn=typeof Object.is=="function"?Object.is:Jt,In=null,pi=!1,Or=!1;function ss(r){In===null?In=[r]:In.push(r)}function ls(r){pi=!0,ss(r)}function Ur(){if(!Or&&In!==null){Or=!0;var r=0,i=me;try{var f=In;for(me=1;r<f.length;r++){var v=f[r];do v=v(!0);while(v!==null)}In=null,pi=!1}catch(_){throw In!==null&&(In=In.slice(r+1)),Ne(Xe,Ur),_}finally{me=i,Or=!1}}return null}var Zo=h.ReactCurrentBatchConfig;function kn(r,i){if(pn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var f=Object.keys(r),v=Object.keys(i);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!ao.call(i,_)||!pn(r[_],i[_]))return!1}return!0}function lo(r){switch(r.tag){case 5:return Hr(r.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return r=Zr(r.type,!1),r;case 11:return r=Zr(r.type.render,!1),r;case 1:return r=Zr(r.type,!0),r;default:return""}}function Dn(r,i){if(r&&r.defaultProps){i=o({},i),r=r.defaultProps;for(var f in r)i[f]===void 0&&(i[f]=r[f]);return i}return i}var Jn=dr(null),Eo=null,Mn=null,uo=null;function $o(){uo=Mn=Eo=null}function us(r,i,f){je?(en(Jn,i._currentValue),i._currentValue=f):(en(Jn,i._currentValue2),i._currentValue2=f)}function qn(r){var i=Jn.current;sn(Jn),je?r._currentValue=i:r._currentValue2=i}function vr(r,i,f){for(;r!==null;){var v=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,v!==null&&(v.childLanes|=i)):v!==null&&(v.childLanes&i)!==i&&(v.childLanes|=i),r===f)break;r=r.return}}function On(r,i){Eo=r,uo=Mn=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(ni=!0),r.firstContext=null)}function ln(r){var i=je?r._currentValue:r._currentValue2;if(uo!==r)if(r={context:r,memoizedValue:i,next:null},Mn===null){if(Eo===null)throw Error(c(308));Mn=r,Eo.dependencies={lanes:0,firstContext:r}}else Mn=Mn.next=r;return i}var ei=null,Kn=!1;function Zl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $l(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ci(r,i){var f=r.updateQueue;f!==null&&(f=f.shared,Hn!==null&&r.mode&1&&!(Ht&2)?(r=f.interleaved,r===null?(i.next=i,ei===null?ei=[f]:ei.push(f)):(i.next=r.next,r.next=i),f.interleaved=i):(r=f.pending,r===null?i.next=i:(i.next=r.next,r.next=i),f.pending=i))}function Ca(r,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var v=i.lanes;v&=r.pendingLanes,f|=v,i.lanes=f,ve(r,f)}}function Sn(r,i){var f=r.updateQueue,v=r.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?_=b=V:b=b.next=V,f=f.next}while(f!==null);b===null?_=b=i:b=b.next=i}else _=b=i;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:v.shared,effects:v.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=i:r.next=i,f.lastBaseUpdate=i}function ki(r,i,f,v){var _=r.updateQueue;Kn=!1;var b=_.firstBaseUpdate,V=_.lastBaseUpdate,ue=_.shared.pending;if(ue!==null){_.shared.pending=null;var Se=ue,De=Se.next;Se.next=null,V===null?b=De:V.next=De,V=Se;var at=r.alternate;at!==null&&(at=at.updateQueue,ue=at.lastBaseUpdate,ue!==V&&(ue===null?at.firstBaseUpdate=De:ue.next=De,at.lastBaseUpdate=Se))}if(b!==null){var Bt=_.baseState;V=0,at=De=Se=null,ue=b;do{var wt=ue.lane,mn=ue.eventTime;if((v&wt)===wt){at!==null&&(at=at.next={eventTime:mn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var pt=r,Cr=ue;switch(wt=i,mn=f,Cr.tag){case 1:if(pt=Cr.payload,typeof pt=="function"){Bt=pt.call(mn,Bt,wt);break e}Bt=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Cr.payload,wt=typeof pt=="function"?pt.call(mn,Bt,wt):pt,wt==null)break e;Bt=o({},Bt,wt);break e;case 2:Kn=!0}}ue.callback!==null&&ue.lane!==0&&(r.flags|=64,wt=_.effects,wt===null?_.effects=[ue]:wt.push(ue))}else mn={eventTime:mn,lane:wt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},at===null?(De=at=mn,Se=Bt):at=at.next=mn,V|=wt;if(ue=ue.next,ue===null){if(ue=_.shared.pending,ue===null)break;wt=ue,ue=wt.next,wt.next=null,_.lastBaseUpdate=wt,_.shared.pending=null}}while(!0);if(at===null&&(Se=Bt),_.baseState=Se,_.firstBaseUpdate=De,_.lastBaseUpdate=at,i=_.shared.interleaved,i!==null){_=i;do V|=_.lane,_=_.next;while(_!==i)}else b===null&&(_.shared.lanes=0);Xa|=V,r.lanes=V,r.memoizedState=Bt}}function Zs(r,i,f){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var v=r[i],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(c(191,_));_.call(v)}}}var fc=new u.Component().refs;function cs(r,i,f,v){i=r.memoizedState,f=f(v,i),f=f==null?i:o({},i,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var $s={isMounted:function(r){return(r=r._reactInternals)?q(r)===r:!1},enqueueSetState:function(r,i,f){r=r._reactInternals;var v=Sr(),_=Zi(r),b=yr(v,_);b.payload=i,f!=null&&(b.callback=f),Ci(r,b),i=gi(r,_,v),i!==null&&Ca(i,r,_)},enqueueReplaceState:function(r,i,f){r=r._reactInternals;var v=Sr(),_=Zi(r),b=yr(v,_);b.tag=1,b.payload=i,f!=null&&(b.callback=f),Ci(r,b),i=gi(r,_,v),i!==null&&Ca(i,r,_)},enqueueForceUpdate:function(r,i){r=r._reactInternals;var f=Sr(),v=Zi(r),_=yr(f,v);_.tag=2,i!=null&&(_.callback=i),Ci(r,_),i=gi(r,v,f),i!==null&&Ca(i,r,v)}};function dc(r,i,f,v,_,b,V){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(v,b,V):i.prototype&&i.prototype.isPureReactComponent?!kn(f,v)||!kn(_,b):!0}function hc(r,i,f){var v=!1,_=Mr,b=i.contextType;return typeof b=="object"&&b!==null?b=ln(b):(_=Wn(i)?Vr:Cn.current,v=i.contextTypes,b=(v=v!=null)?hr(r,_):Mr),i=new i(f,b),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=$s,r.stateNode=i,i._reactInternals=r,v&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=_,r.__reactInternalMemoizedMaskedChildContext=b),i}function eu(r,i,f,v){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,v),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,v),i.state!==r&&$s.enqueueReplaceState(i,i.state,null)}function ka(r,i,f,v){var _=r.stateNode;_.props=f,_.state=r.memoizedState,_.refs=fc,Zl(r);var b=i.contextType;typeof b=="object"&&b!==null?_.context=ln(b):(b=Wn(i)?Vr:Cn.current,_.context=hr(r,b)),_.state=r.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(cs(r,i,b,f),_.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&$s.enqueueReplaceState(_,_.state,null),ki(r,f,_,v),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308)}var Ai=[],Aa=0,fs=null,ds=0,Jr=[],qr=0,To=null,co=1,Ri="";function fo(r,i){Ai[Aa++]=ds,Ai[Aa++]=fs,fs=r,ds=i}function pc(r,i,f){Jr[qr++]=co,Jr[qr++]=Ri,Jr[qr++]=To,To=r;var v=co;r=Ri;var _=32-ar(v)-1;v&=~(1<<_),f+=1;var b=32-ar(i)+_;if(30<b){var V=_-_%5;b=(v&(1<<V)-1).toString(32),v>>=V,_-=V,co=1<<32-ar(i)+_|f<<_|v,Ri=b+r}else co=1<<b|f<<_|v,Ri=r}function el(r){r.return!==null&&(fo(r,1),pc(r,1,0))}function Nr(r){for(;r===fs;)fs=Ai[--Aa],Ai[Aa]=null,ds=Ai[--Aa],Ai[Aa]=null;for(;r===To;)To=Jr[--qr],Jr[qr]=null,Ri=Jr[--qr],Jr[qr]=null,co=Jr[--qr],Jr[qr]=null}var Dr=null,sr=null,bn=!1,Ra=!1,Pi=null;function mc(r,i){var f=vi(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=r,i=r.deletions,i===null?(r.deletions=[f],r.flags|=16):i.push(f)}function gc(r,i){switch(r.tag){case 5:return i=wn(i,r.type,r.pendingProps),i!==null?(r.stateNode=i,Dr=r,sr=Qr(i),!0):!1;case 6:return i=xn(i,r.pendingProps),i!==null?(r.stateNode=i,Dr=r,sr=null,!0):!1;case 13:if(i=Pr(i),i!==null){var f=To!==null?{id:co,overflow:Ri}:null;return r.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=vi(18,null,null,0),f.stateNode=i,f.return=r,r.child=f,Dr=r,sr=null,!0}return!1;default:return!1}}function tu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nu(r){if(bn){var i=sr;if(i){var f=i;if(!gc(r,i)){if(tu(r))throw Error(c(418));i=fr(f);var v=Dr;i&&gc(r,i)?mc(v,f):(r.flags=r.flags&-4097|2,bn=!1,Dr=r)}}else{if(tu(r))throw Error(c(418));r.flags=r.flags&-4097|2,bn=!1,Dr=r}}}function ea(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Dr=r}function hs(r){if(!ht||r!==Dr)return!1;if(!bn)return ea(r),bn=!0,!1;if(r.tag!==3&&(r.tag!==5||bo(r.type)&&!ee(r.type,r.memoizedProps))){var i=sr;if(i){if(tu(r)){for(r=sr;r;)r=fr(r);throw Error(c(418))}for(;i;)mc(r,i),i=fr(i)}}if(ea(r),r.tag===13){if(!ht)throw Error(c(316));if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));sr=Ea(r)}else sr=Dr?fr(r.stateNode):null;return!0}function Pa(){ht&&(sr=Dr=null,Ra=bn=!1)}function ps(r){Pi===null?Pi=[r]:Pi.push(r)}function La(r,i,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(c(309));var v=f.stateNode}if(!v)throw Error(c(147,r));var _=v,b=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===b?i.ref:(i=function(V){var ue=_.refs;ue===fc&&(ue=_.refs={}),V===null?delete ue[b]:ue[b]=V},i._stringRef=b,i)}if(typeof r!="string")throw Error(c(284));if(!f._owner)throw Error(c(290,r))}return r}function Li(r,i){throw r=Object.prototype.toString.call(i),Error(c(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function ms(r){var i=r._init;return i(r._payload)}function vc(r){function i(ge,de){if(r){var we=ge.deletions;we===null?(ge.deletions=[de],ge.flags|=16):we.push(de)}}function f(ge,de){if(!r)return null;for(;de!==null;)i(ge,de),de=de.sibling;return null}function v(ge,de){for(ge=new Map;de!==null;)de.key!==null?ge.set(de.key,de):ge.set(de.index,de),de=de.sibling;return ge}function _(ge,de){return ge=vo(ge,de),ge.index=0,ge.sibling=null,ge}function b(ge,de,we){return ge.index=we,r?(we=ge.alternate,we!==null?(we=we.index,we<de?(ge.flags|=2,de):we):(ge.flags|=2,de)):(ge.flags|=1048576,de)}function V(ge){return r&&ge.alternate===null&&(ge.flags|=2),ge}function ue(ge,de,we,qe){return de===null||de.tag!==6?(de=Tr(we,ge.mode,qe),de.return=ge,de):(de=_(de,we),de.return=ge,de)}function Se(ge,de,we,qe){var mt=we.type;return mt===g?at(ge,de,we.props.children,qe,we.key):de!==null&&(de.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===L&&ms(mt)===de.type)?(qe=_(de,we.props),qe.ref=La(ge,de,we),qe.return=ge,qe):(qe=wl(we.type,we.key,we.props,null,ge.mode,qe),qe.ref=La(ge,de,we),qe.return=ge,qe)}function De(ge,de,we,qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=yi(we,ge.mode,qe),de.return=ge,de):(de=_(de,we.children||[]),de.return=ge,de)}function at(ge,de,we,qe,mt){return de===null||de.tag!==7?(de=zo(we,ge.mode,qe,mt),de.return=ge,de):(de=_(de,we),de.return=ge,de)}function Bt(ge,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=Tr(""+de,ge.mode,we),de.return=ge,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case d:return we=wl(de.type,de.key,de.props,null,ge.mode,we),we.ref=La(ge,null,de),we.return=ge,we;case m:return de=yi(de,ge.mode,we),de.return=ge,de;case L:var qe=de._init;return Bt(ge,qe(de._payload),we)}if(xe(de)||G(de))return de=zo(de,ge.mode,we,null),de.return=ge,de;Li(ge,de)}return null}function wt(ge,de,we,qe){var mt=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return mt!==null?null:ue(ge,de,""+we,qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return we.key===mt?Se(ge,de,we,qe):null;case m:return we.key===mt?De(ge,de,we,qe):null;case L:return mt=we._init,wt(ge,de,mt(we._payload),qe)}if(xe(we)||G(we))return mt!==null?null:at(ge,de,we,qe,null);Li(ge,we)}return null}function mn(ge,de,we,qe,mt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ge=ge.get(we)||null,ue(de,ge,""+qe,mt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case d:return ge=ge.get(qe.key===null?we:qe.key)||null,Se(de,ge,qe,mt);case m:return ge=ge.get(qe.key===null?we:qe.key)||null,De(de,ge,qe,mt);case L:var Vt=qe._init;return mn(ge,de,we,Vt(qe._payload),mt)}if(xe(qe)||G(qe))return ge=ge.get(we)||null,at(de,ge,qe,mt,null);Li(de,qe)}return null}function pt(ge,de,we,qe){for(var mt=null,Vt=null,jt=de,Yt=de=0,Yn=null;jt!==null&&Yt<we.length;Yt++){jt.index>Yt?(Yn=jt,jt=null):Yn=jt.sibling;var on=wt(ge,jt,we[Yt],qe);if(on===null){jt===null&&(jt=Yn);break}r&&jt&&on.alternate===null&&i(ge,jt),de=b(on,de,Yt),Vt===null?mt=on:Vt.sibling=on,Vt=on,jt=Yn}if(Yt===we.length)return f(ge,jt),bn&&fo(ge,Yt),mt;if(jt===null){for(;Yt<we.length;Yt++)jt=Bt(ge,we[Yt],qe),jt!==null&&(de=b(jt,de,Yt),Vt===null?mt=jt:Vt.sibling=jt,Vt=jt);return bn&&fo(ge,Yt),mt}for(jt=v(ge,jt);Yt<we.length;Yt++)Yn=mn(jt,ge,Yt,we[Yt],qe),Yn!==null&&(r&&Yn.alternate!==null&&jt.delete(Yn.key===null?Yt:Yn.key),de=b(Yn,de,Yt),Vt===null?mt=Yn:Vt.sibling=Yn,Vt=Yn);return r&&jt.forEach(function(eo){return i(ge,eo)}),bn&&fo(ge,Yt),mt}function Cr(ge,de,we,qe){var mt=G(we);if(typeof mt!="function")throw Error(c(150));if(we=mt.call(we),we==null)throw Error(c(151));for(var Vt=mt=null,jt=de,Yt=de=0,Yn=null,on=we.next();jt!==null&&!on.done;Yt++,on=we.next()){jt.index>Yt?(Yn=jt,jt=null):Yn=jt.sibling;var eo=wt(ge,jt,on.value,qe);if(eo===null){jt===null&&(jt=Yn);break}r&&jt&&eo.alternate===null&&i(ge,jt),de=b(eo,de,Yt),Vt===null?mt=eo:Vt.sibling=eo,Vt=eo,jt=Yn}if(on.done)return f(ge,jt),bn&&fo(ge,Yt),mt;if(jt===null){for(;!on.done;Yt++,on=we.next())on=Bt(ge,on.value,qe),on!==null&&(de=b(on,de,Yt),Vt===null?mt=on:Vt.sibling=on,Vt=on);return bn&&fo(ge,Yt),mt}for(jt=v(ge,jt);!on.done;Yt++,on=we.next())on=mn(jt,ge,Yt,on.value,qe),on!==null&&(r&&on.alternate!==null&&jt.delete(on.key===null?Yt:on.key),de=b(on,de,Yt),Vt===null?mt=on:Vt.sibling=on,Vt=on);return r&&jt.forEach(function(Sl){return i(ge,Sl)}),bn&&fo(ge,Yt),mt}function si(ge,de,we,qe){if(typeof we=="object"&&we!==null&&we.type===g&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var mt=we.key,Vt=de;Vt!==null;){if(Vt.key===mt){if(mt=we.type,mt===g){if(Vt.tag===7){f(ge,Vt.sibling),de=_(Vt,we.props.children),de.return=ge,ge=de;break e}}else if(Vt.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===L&&ms(mt)===Vt.type){f(ge,Vt.sibling),de=_(Vt,we.props),de.ref=La(ge,Vt,we),de.return=ge,ge=de;break e}f(ge,Vt);break}else i(ge,Vt);Vt=Vt.sibling}we.type===g?(de=zo(we.props.children,ge.mode,qe,we.key),de.return=ge,ge=de):(qe=wl(we.type,we.key,we.props,null,ge.mode,qe),qe.ref=La(ge,de,we),qe.return=ge,ge=qe)}return V(ge);case m:e:{for(Vt=we.key;de!==null;){if(de.key===Vt)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){f(ge,de.sibling),de=_(de,we.children||[]),de.return=ge,ge=de;break e}else{f(ge,de);break}else i(ge,de);de=de.sibling}de=yi(we,ge.mode,qe),de.return=ge,ge=de}return V(ge);case L:return Vt=we._init,si(ge,de,Vt(we._payload),qe)}if(xe(we))return pt(ge,de,we,qe);if(G(we))return Cr(ge,de,we,qe);Li(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(f(ge,de.sibling),de=_(de,we),de.return=ge,ge=de):(f(ge,de),de=Tr(we,ge.mode,qe),de.return=ge,ge=de),V(ge)):f(ge,de)}return si}var Ia=vc(!0),yc=vc(!1),Yi={},Un=dr(Yi),Ma=dr(Yi),Oa=dr(Yi);function Xi(r){if(r===Yi)throw Error(c(174));return r}function ru(r,i){en(Oa,i),en(Ma,r),en(Un,Yi),r=Ee(i),sn(Un),en(Un,r)}function Ua(){sn(Un),sn(Ma),sn(Oa)}function _c(r){var i=Xi(Oa.current),f=Xi(Un.current);i=X(f,r.type,i),f!==i&&(en(Ma,r),en(Un,i))}function Co(r){Ma.current===r&&(sn(Un),sn(Ma))}var re=dr(0);function be(r){for(var i=r;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Lr(f)||Ir(f)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ye=[];function $e(){for(var r=0;r<ye.length;r++){var i=ye[r];je?i._workInProgressVersionPrimary=null:i._workInProgressVersionSecondary=null}ye.length=0}var Lt=h.ReactCurrentDispatcher,Gt=h.ReactCurrentBatchConfig,Tn=0,At=null,nr=null,rr=null,Fr=!1,ko=!1,gs=0,Na=0;function Qn(){throw Error(c(321))}function Da(r,i){if(i===null)return!1;for(var f=0;f<i.length&&f<r.length;f++)if(!pn(r[f],i[f]))return!1;return!0}function dn(r,i,f,v,_,b){if(Tn=b,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Lt.current=r===null||r.memoizedState===null?Es:cu,r=f(v,_),ko){b=0;do{if(ko=!1,gs=0,25<=b)throw Error(c(301));b+=1,rr=nr=null,i.updateQueue=null,Lt.current=Ba,r=f(v,_)}while(ko)}if(Lt.current=za,i=nr!==null&&nr.next!==null,Tn=0,rr=nr=At=null,Fr=!1,i)throw Error(c(300));return r}function iu(){var r=gs!==0;return gs=0,r}function Ji(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?At.memoizedState=rr=r:rr=rr.next=r,rr}function ti(){if(nr===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=nr.next;var i=rr===null?At.memoizedState:rr.next;if(i!==null)rr=i,nr=r;else{if(r===null)throw Error(c(310));nr=r,r={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},rr===null?At.memoizedState=rr=r:rr=rr.next=r}return rr}function ta(r,i){return typeof i=="function"?i(r):i}function tl(r){var i=ti(),f=i.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=r;var v=nr,_=v.baseQueue,b=f.pending;if(b!==null){if(_!==null){var V=_.next;_.next=b.next,b.next=V}v.baseQueue=_=b,f.pending=null}if(_!==null){b=_.next,v=v.baseState;var ue=V=null,Se=null,De=b;do{var at=De.lane;if((Tn&at)===at)Se!==null&&(Se=Se.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),v=De.hasEagerState?De.eagerState:r(v,De.action);else{var Bt={lane:at,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};Se===null?(ue=Se=Bt,V=v):Se=Se.next=Bt,At.lanes|=at,Xa|=at}De=De.next}while(De!==null&&De!==b);Se===null?V=v:Se.next=ue,pn(v,i.memoizedState)||(ni=!0),i.memoizedState=v,i.baseState=V,i.baseQueue=Se,f.lastRenderedState=v}if(r=f.interleaved,r!==null){_=r;do b=_.lane,At.lanes|=b,Xa|=b,_=_.next;while(_!==r)}else _===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function nl(r){var i=ti(),f=i.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=r;var v=f.dispatch,_=f.pending,b=i.memoizedState;if(_!==null){f.pending=null;var V=_=_.next;do b=r(b,V.action),V=V.next;while(V!==_);pn(b,i.memoizedState)||(ni=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),f.lastRenderedState=b}return[b,v]}function vs(){}function ho(r,i){var f=At,v=ti(),_=i(),b=!pn(v.memoizedState,_);if(b&&(v.memoizedState=_,ni=!0),v=v.queue,ws(_s.bind(null,f,v,r),[r]),v.getSnapshot!==i||b||rr!==null&&rr.memoizedState.tag&1){if(f.flags|=2048,Ao(9,ou.bind(null,f,v,_,i),void 0,null),Hn===null)throw Error(c(349));Tn&30||ys(f,i,_)}return _}function ys(r,i,f){r.flags|=16384,r={getSnapshot:i,value:f},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[r]):(f=i.stores,f===null?i.stores=[r]:f.push(r))}function ou(r,i,f,v){i.value=f,i.getSnapshot=v,au(i)&&gi(r,1,-1)}function _s(r,i,f){return f(function(){au(i)&&gi(r,1,-1)})}function au(r){var i=r.getSnapshot;r=r.value;try{var f=i();return!pn(r,f)}catch{return!0}}function rl(r){var i=Ji();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:r},i.queue=r,r=r.dispatch=_r.bind(null,At,r),[i.memoizedState,r]}function Ao(r,i,f,v){return r={tag:r,create:i,destroy:f,deps:v,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=r.next=r):(f=i.lastEffect,f===null?i.lastEffect=r.next=r:(v=f.next,f.next=r,r.next=v,i.lastEffect=r)),r}function su(){return ti().memoizedState}function Ro(r,i,f,v){var _=Ji();At.flags|=r,_.memoizedState=Ao(1|i,f,void 0,v===void 0?null:v)}function qi(r,i,f,v){var _=ti();v=v===void 0?null:v;var b=void 0;if(nr!==null){var V=nr.memoizedState;if(b=V.destroy,v!==null&&Da(v,V.deps)){_.memoizedState=Ao(i,f,b,v);return}}At.flags|=r,_.memoizedState=Ao(1|i,f,b,v)}function Fa(r,i){return Ro(8390656,8,r,i)}function ws(r,i){return qi(2048,8,r,i)}function wc(r,i){return qi(4,2,r,i)}function xc(r,i){return qi(4,4,r,i)}function xs(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ss(r,i,f){return f=f!=null?f.concat([r]):null,qi(4,4,xs.bind(null,i,r),f)}function bs(){}function Sc(r,i){var f=ti();i=i===void 0?null:i;var v=f.memoizedState;return v!==null&&i!==null&&Da(i,v[1])?v[0]:(f.memoizedState=[r,i],r)}function lu(r,i){var f=ti();i=i===void 0?null:i;var v=f.memoizedState;return v!==null&&i!==null&&Da(i,v[1])?v[0]:(r=r(),f.memoizedState=[r,i],r)}function xd(r,i){var f=me;me=f!==0&&4>f?f:4,r(!0);var v=Gt.transition;Gt.transition={};try{r(!1),i()}finally{me=f,Gt.transition=v}}function bc(){return ti().memoizedState}function Zn(r,i,f){var v=Zi(r);f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},Ec(r)?Tc(i,f):(uu(r,i,f),f=Sr(),r=gi(r,v,f),r!==null&&Cc(r,i,v))}function _r(r,i,f){var v=Zi(r),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ec(r))Tc(i,_);else{uu(r,i,_);var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var V=i.lastRenderedState,ue=b(V,f);if(_.hasEagerState=!0,_.eagerState=ue,pn(ue,V))return}catch{}finally{}f=Sr(),r=gi(r,v,f),r!==null&&Cc(r,i,v)}}function Ec(r){var i=r.alternate;return r===At||i!==null&&i===At}function Tc(r,i){ko=Fr=!0;var f=r.pending;f===null?i.next=i:(i.next=f.next,f.next=i),r.pending=i}function uu(r,i,f){Hn!==null&&r.mode&1&&!(Ht&2)?(r=i.interleaved,r===null?(f.next=f,ei===null?ei=[i]:ei.push(i)):(f.next=r.next,r.next=f),i.interleaved=f):(r=i.pending,r===null?f.next=f:(f.next=r.next,r.next=f),i.pending=f)}function Cc(r,i,f){if(f&4194240){var v=i.lanes;v&=r.pendingLanes,f|=v,i.lanes=f,ve(r,f)}}var za={readContext:ln,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},Es={readContext:ln,useCallback:function(r,i){return Ji().memoizedState=[r,i===void 0?null:i],r},useContext:ln,useEffect:Fa,useImperativeHandle:function(r,i,f){return f=f!=null?f.concat([r]):null,Ro(4194308,4,xs.bind(null,i,r),f)},useLayoutEffect:function(r,i){return Ro(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ro(4,2,r,i)},useMemo:function(r,i){var f=Ji();return i=i===void 0?null:i,r=r(),f.memoizedState=[r,i],r},useReducer:function(r,i,f){var v=Ji();return i=f!==void 0?f(i):i,v.memoizedState=v.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},v.queue=r,r=r.dispatch=Zn.bind(null,At,r),[v.memoizedState,r]},useRef:function(r){var i=Ji();return r={current:r},i.memoizedState=r},useState:rl,useDebugValue:bs,useDeferredValue:function(r){var i=rl(r),f=i[0],v=i[1];return Fa(function(){var _=Gt.transition;Gt.transition={};try{v(r)}finally{Gt.transition=_}},[r]),f},useTransition:function(){var r=rl(!1),i=r[0];return r=xd.bind(null,r[1]),Ji().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,f){var v=At,_=Ji();if(bn){if(f===void 0)throw Error(c(407));f=f()}else{if(f=i(),Hn===null)throw Error(c(349));Tn&30||ys(v,i,f)}_.memoizedState=f;var b={value:f,getSnapshot:i};return _.queue=b,Fa(_s.bind(null,v,b,r),[r]),v.flags|=2048,Ao(9,ou.bind(null,v,b,f,i),void 0,null),f},useId:function(){var r=Ji(),i=Hn.identifierPrefix;if(bn){var f=Ri,v=co;f=(v&~(1<<32-ar(v)-1)).toString(32)+f,i=":"+i+"R"+f,f=gs++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=Na++,i=":"+i+"r"+f.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},cu={readContext:ln,useCallback:Sc,useContext:ln,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:wc,useLayoutEffect:xc,useMemo:lu,useReducer:tl,useRef:su,useState:function(){return tl(ta)},useDebugValue:bs,useDeferredValue:function(r){var i=tl(ta),f=i[0],v=i[1];return ws(function(){var _=Gt.transition;Gt.transition={};try{v(r)}finally{Gt.transition=_}},[r]),f},useTransition:function(){var r=tl(ta)[0],i=ti().memoizedState;return[r,i]},useMutableSource:vs,useSyncExternalStore:ho,useId:bc,unstable_isNewReconciler:!1},Ba={readContext:ln,useCallback:Sc,useContext:ln,useEffect:ws,useImperativeHandle:Ss,useInsertionEffect:wc,useLayoutEffect:xc,useMemo:lu,useReducer:nl,useRef:su,useState:function(){return nl(ta)},useDebugValue:bs,useDeferredValue:function(r){var i=nl(ta),f=i[0],v=i[1];return ws(function(){var _=Gt.transition;Gt.transition={};try{v(r)}finally{Gt.transition=_}},[r]),f},useTransition:function(){var r=nl(ta)[0],i=ti().memoizedState;return[r,i]},useMutableSource:vs,useSyncExternalStore:ho,useId:bc,unstable_isNewReconciler:!1};function na(r,i){try{var f="",v=i;do f+=lo(v),v=v.return;while(v);var _=f}catch(b){_=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:i,stack:_}}function ra(r,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var il=typeof WeakMap=="function"?WeakMap:Map;function ia(r,i,f){f=yr(-1,f),f.tag=3,f.payload={element:null};var v=i.value;return f.callback=function(){Is||(Is=!0,dl=v),ra(r,i)},f}function kc(r,i,f){f=yr(-1,f),f.tag=3;var v=r.type.getDerivedStateFromError;if(typeof v=="function"){var _=i.value;f.payload=function(){return v(_)},f.callback=function(){ra(r,i)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){ra(r,i),typeof v!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var V=i.stack;this.componentDidCatch(i.value,{componentStack:V!==null?V:""})}),f}function Ac(r,i,f){var v=r.pingCache;if(v===null){v=r.pingCache=new il;var _=new Set;v.set(i,_)}else _=v.get(i),_===void 0&&(_=new Set,v.set(i,_));_.has(f)||(_.add(f),r=Do.bind(null,r,i,f),i.then(r,r))}function Rc(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Pc(r,i,f,v,_){return r.mode&1?(r.flags|=65536,r.lanes=_,r):(r===i?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=yr(-1,1),i.tag=2,Ci(f,i))),f.lanes|=1),r)}function Ki(r){r.flags|=4}function Ts(r,i){if(r!==null&&r.child===i.child)return!0;if(i.flags&16)return!1;for(r=i.child;r!==null;){if(r.flags&12854||r.subtreeFlags&12854)return!1;r=r.sibling}return!0}var po,ja,O,mo;if(Le)po=function(r,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)Q(r,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ja=function(){},O=function(r,i,f,v,_){if(r=r.memoizedProps,r!==v){var b=i.stateNode,V=Xi(Un.current);f=oe(b,f,r,v,_,V),(i.updateQueue=f)&&Ki(i)}},mo=function(r,i,f,v){f!==v&&Ki(i)};else if(Ce){po=function(r,i,f,v){for(var _=i.child;_!==null;){if(_.tag===5){var b=_.stateNode;f&&v&&(b=Dt(b,_.type,_.memoizedProps,_)),Q(r,b)}else if(_.tag===6)b=_.stateNode,f&&v&&(b=yn(b,_.memoizedProps,_)),Q(r,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),po(r,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===i)break;for(;_.sibling===null;){if(_.return===null||_.return===i)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var Cs=function(r,i,f,v){for(var _=i.child;_!==null;){if(_.tag===5){var b=_.stateNode;f&&v&&(b=Dt(b,_.type,_.memoizedProps,_)),nn(r,b)}else if(_.tag===6)b=_.stateNode,f&&v&&(b=yn(b,_.memoizedProps,_)),nn(r,b);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)b=_.child,b!==null&&(b.return=_),Cs(r,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===i)break;for(;_.sibling===null;){if(_.return===null||_.return===i)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};ja=function(r,i){var f=i.stateNode;if(!Ts(r,i)){r=f.containerInfo;var v=zt(r);Cs(v,i,!1,!1),f.pendingChildren=v,Ki(i),Xt(r,v)}},O=function(r,i,f,v,_){var b=r.stateNode,V=r.memoizedProps;if((r=Ts(r,i))&&V===v)i.stateNode=b;else{var ue=i.stateNode,Se=Xi(Un.current),De=null;V!==v&&(De=oe(ue,f,V,v,_,Se)),r&&De===null?i.stateNode=b:(b=an(b,De,f,V,v,i,r,ue),te(b,f,v,_,Se)&&Ki(i),i.stateNode=b,r?Ki(i):po(b,i,!1,!1))}},mo=function(r,i,f,v){f!==v?(r=Xi(Oa.current),f=Xi(Un.current),i.stateNode=le(v,r,f,i),Ki(i)):i.stateNode=r.stateNode}}else ja=function(){},O=function(){},mo=function(){};function wr(r,i){if(!bn)switch(r.tailMode){case"hidden":i=r.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:v.sibling=null}}function Et(r){var i=r.alternate!==null&&r.alternate.child===r.child,f=0,v=0;if(i)for(var _=r.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=v,r.childLanes=f,i}function Sd(r,i,f){var v=i.pendingProps;switch(Nr(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(i),null;case 1:return Wn(i.type)&&Yr(),Et(i),null;case 3:return v=i.stateNode,Ua(),sn(Nn),sn(Cn),$e(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(r===null||r.child===null)&&(hs(i)?Ki(i):r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Pi!==null&&(ua(Pi),Pi=null))),ja(r,i),Et(i),null;case 5:Co(i),f=Xi(Oa.current);var _=i.type;if(r!==null&&i.stateNode!=null)O(r,i,_,v,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!v){if(i.stateNode===null)throw Error(c(166));return Et(i),null}if(r=Xi(Un.current),hs(i)){if(!ht)throw Error(c(175));r=Sa(i.stateNode,i.type,i.memoizedProps,f,r,i,!Ra),i.updateQueue=r,r!==null&&Ki(i)}else{var b=B(_,v,f,r,i);po(b,i,!1,!1),i.stateNode=b,te(b,_,v,f,r)&&Ki(i)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Et(i),null;case 6:if(r&&i.stateNode!=null)mo(r,i,r.memoizedProps,v);else{if(typeof v!="string"&&i.stateNode===null)throw Error(c(166));if(r=Xi(Oa.current),f=Xi(Un.current),hs(i)){if(!ht)throw Error(c(176));if(r=i.stateNode,v=i.memoizedProps,(f=qo(r,v,i,!Ra))&&(_=Dr,_!==null))switch(b=(_.mode&1)!==0,_.tag){case 3:Ln(_.stateNode.containerInfo,r,v,b);break;case 5:fi(_.type,_.memoizedProps,_.stateNode,r,v,b)}f&&Ki(i)}else i.stateNode=le(v,r,f,i)}return Et(i),null;case 13:if(sn(re),v=i.memoizedState,bn&&sr!==null&&i.mode&1&&!(i.flags&128)){for(r=sr;r;)r=fr(r);return Pa(),i.flags|=98560,i}if(v!==null&&v.dehydrated!==null){if(v=hs(i),r===null){if(!v)throw Error(c(318));if(!ht)throw Error(c(344));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));ba(r,i)}else Pa(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;return Et(i),null}return Pi!==null&&(ua(Pi),Pi=null),i.flags&128?(i.lanes=f,i):(v=v!==null,f=!1,r===null?hs(i):f=r.memoizedState!==null,v&&!f&&(i.child.flags|=8192,i.mode&1&&(r===null||re.current&1?Bn===0&&(Bn=3):vl())),i.updateQueue!==null&&(i.flags|=4),Et(i),null);case 4:return Ua(),ja(r,i),r===null&&Ve(i.stateNode.containerInfo),Et(i),null;case 10:return qn(i.type._context),Et(i),null;case 17:return Wn(i.type)&&Yr(),Et(i),null;case 19:if(sn(re),_=i.memoizedState,_===null)return Et(i),null;if(v=(i.flags&128)!==0,b=_.rendering,b===null)if(v)wr(_,!1);else{if(Bn!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(b=be(r),b!==null){for(i.flags|=128,wr(_,!1),r=b.updateQueue,r!==null&&(i.updateQueue=r,i.flags|=4),i.subtreeFlags=0,r=f,v=i.child;v!==null;)f=v,_=r,f.flags&=14680066,b=f.alternate,b===null?(f.childLanes=0,f.lanes=_,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=b.childLanes,f.lanes=b.lanes,f.child=b.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=b.memoizedProps,f.memoizedState=b.memoizedState,f.updateQueue=b.updateQueue,f.type=b.type,_=b.dependencies,f.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),v=v.sibling;return en(re,re.current&1|2),i.child}r=r.sibling}_.tail!==null&&Fe()>Ls&&(i.flags|=128,v=!0,wr(_,!1),i.lanes=4194304)}else{if(!v)if(r=be(b),r!==null){if(i.flags|=128,v=!0,r=r.updateQueue,r!==null&&(i.updateQueue=r,i.flags|=4),wr(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!bn)return Et(i),null}else 2*Fe()-_.renderingStartTime>Ls&&f!==1073741824&&(i.flags|=128,v=!0,wr(_,!1),i.lanes=4194304);_.isBackwards?(b.sibling=i.child,i.child=b):(r=_.last,r!==null?r.sibling=b:i.child=b,_.last=b)}return _.tail!==null?(i=_.tail,_.rendering=i,_.tail=i.sibling,_.renderingStartTime=Fe(),i.sibling=null,r=re.current,en(re,v?r&1|2:r&1),i):(Et(i),null);case 22:case 23:return Cu(),v=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==v&&(i.flags|=8192),v&&i.mode&1?oi&1073741824&&(Et(i),Le&&i.subtreeFlags&6&&(i.flags|=8192)):Et(i),null;case 24:return null;case 25:return null}throw Error(c(156,i.tag))}var bd=h.ReactCurrentOwner,ni=!1;function Fn(r,i,f,v){i.child=r===null?yc(i,null,f,v):Ia(i,r.child,f,v)}function Lc(r,i,f,v,_){f=f.render;var b=i.ref;return On(i,_),v=dn(r,i,f,v,b,_),f=iu(),r!==null&&!ni?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~_,$n(r,i,_)):(bn&&f&&el(i),i.flags|=1,Fn(r,i,v,_),i.child)}function Ic(r,i,f,v,_){if(r===null){var b=f.type;return typeof b=="function"&&!Iu(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=b,Mc(r,i,b,v,_)):(r=wl(f.type,null,v,i,i.mode,_),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,!(r.lanes&_)){var V=b.memoizedProps;if(f=f.compare,f=f!==null?f:kn,f(V,v)&&r.ref===i.ref)return $n(r,i,_)}return i.flags|=1,r=vo(b,v),r.ref=i.ref,r.return=i,i.child=r}function Mc(r,i,f,v,_){if(r!==null&&kn(r.memoizedProps,v)&&r.ref===i.ref)if(ni=!1,(r.lanes&_)!==0)r.flags&131072&&(ni=!0);else return i.lanes=r.lanes,$n(r,i,_);return Ii(r,i,f,v,_)}function Oc(r,i,f){var v=i.pendingProps,_=v.children,b=r!==null?r.memoizedState:null;if(v.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null},en(Va,oi),oi|=f;else if(f&1073741824)i.memoizedState={baseLanes:0,cachePool:null},v=b!==null?b.baseLanes:f,en(Va,oi),oi|=v;else return r=b!==null?b.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null},i.updateQueue=null,en(Va,oi),oi|=r,null;else b!==null?(v=b.baseLanes|f,i.memoizedState=null):v=f,en(Va,oi),oi|=v;return Fn(r,i,_,f),i.child}function Uc(r,i){var f=i.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Ii(r,i,f,v,_){var b=Wn(f)?Vr:Cn.current;return b=hr(i,b),On(i,_),f=dn(r,i,f,v,b,_),v=iu(),r!==null&&!ni?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~_,$n(r,i,_)):(bn&&v&&el(i),i.flags|=1,Fn(r,i,f,_),i.child)}function Nc(r,i,f,v,_){if(Wn(f)){var b=!0;hi(i)}else b=!1;if(On(i,_),i.stateNode===null)r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),hc(i,f,v),ka(i,f,v,_),v=!0;else if(r===null){var V=i.stateNode,ue=i.memoizedProps;V.props=ue;var Se=V.context,De=f.contextType;typeof De=="object"&&De!==null?De=ln(De):(De=Wn(f)?Vr:Cn.current,De=hr(i,De));var at=f.getDerivedStateFromProps,Bt=typeof at=="function"||typeof V.getSnapshotBeforeUpdate=="function";Bt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue!==v||Se!==De)&&eu(i,V,v,De),Kn=!1;var wt=i.memoizedState;V.state=wt,ki(i,v,V,_),Se=i.memoizedState,ue!==v||wt!==Se||Nn.current||Kn?(typeof at=="function"&&(cs(i,f,at,v),Se=i.memoizedState),(ue=Kn||dc(i,f,ue,v,wt,Se,De))?(Bt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(i.flags|=4194308)):(typeof V.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=v,i.memoizedState=Se),V.props=v,V.state=Se,V.context=De,v=ue):(typeof V.componentDidMount=="function"&&(i.flags|=4194308),v=!1)}else{V=i.stateNode,$l(r,i),ue=i.memoizedProps,De=i.type===i.elementType?ue:Dn(i.type,ue),V.props=De,Bt=i.pendingProps,wt=V.context,Se=f.contextType,typeof Se=="object"&&Se!==null?Se=ln(Se):(Se=Wn(f)?Vr:Cn.current,Se=hr(i,Se));var mn=f.getDerivedStateFromProps;(at=typeof mn=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ue!==Bt||wt!==Se)&&eu(i,V,v,Se),Kn=!1,wt=i.memoizedState,V.state=wt,ki(i,v,V,_);var pt=i.memoizedState;ue!==Bt||wt!==pt||Nn.current||Kn?(typeof mn=="function"&&(cs(i,f,mn,v),pt=i.memoizedState),(De=Kn||dc(i,f,De,v,wt,pt,Se)||!1)?(at||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,pt,Se),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,pt,Se)),typeof V.componentDidUpdate=="function"&&(i.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof V.componentDidUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=1024),i.memoizedProps=v,i.memoizedState=pt),V.props=v,V.state=pt,V.context=Se,v=De):(typeof V.componentDidUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ue===r.memoizedProps&&wt===r.memoizedState||(i.flags|=1024),v=!1)}return fu(r,i,f,v,b,_)}function fu(r,i,f,v,_,b){Uc(r,i);var V=(i.flags&128)!==0;if(!v&&!V)return _&&pr(i,f,!1),$n(r,i,b);v=i.stateNode,bd.current=i;var ue=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return i.flags|=1,r!==null&&V?(i.child=Ia(i,r.child,null,b),i.child=Ia(i,null,ue,b)):Fn(r,i,ue,b),i.memoizedState=v.state,_&&pr(i,f,!0),i.child}function Dc(r){var i=r.stateNode;i.pendingContext?di(r,i.pendingContext,i.pendingContext!==i.context):i.context&&di(r,i.context,!1),ru(r,i.containerInfo)}function Fc(r,i,f,v,_){return Pa(),ps(_),i.flags|=256,Fn(r,i,f,v),i.child}var ol={dehydrated:null,treeContext:null,retryLane:0};function mi(r){return{baseLanes:r,cachePool:null}}function zc(r,i,f){var v=i.pendingProps,_=re.current,b=!1,V=(i.flags&128)!==0,ue;if((ue=V)||(ue=r!==null&&r.memoizedState===null?!1:(_&2)!==0),ue?(b=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(_|=1),en(re,_&1),r===null)return nu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?Ir(r)?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=v.children,r=v.fallback,b?(v=i.mode,b=i.child,_={mode:"hidden",children:_},!(v&1)&&b!==null?(b.childLanes=0,b.pendingProps=_):b=Ns(_,v,0,null),r=zo(r,v,f,null),b.return=i,r.return=i,b.sibling=r,i.child=b,i.child.memoizedState=mi(f),i.memoizedState=ol,r):du(i,_));if(_=r.memoizedState,_!==null){if(ue=_.dehydrated,ue!==null){if(V)return i.flags&256?(i.flags&=-257,al(r,i,f,Error(c(422)))):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(b=v.fallback,_=i.mode,v=Ns({mode:"visible",children:v.children},_,0,null),b=zo(b,_,f,null),b.flags|=2,v.return=i,b.return=i,v.sibling=b,i.child=v,i.mode&1&&Ia(i,r.child,null,f),i.child.memoizedState=mi(f),i.memoizedState=ol,b);if(!(i.mode&1))i=al(r,i,f,null);else if(Ir(ue))i=al(r,i,f,Error(c(419)));else if(v=(f&r.childLanes)!==0,ni||v){if(v=Hn,v!==null){switch(f&-f){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}v=b&(v.suspendedLanes|f)?0:b,v!==0&&v!==_.retryLane&&(_.retryLane=v,gi(r,v,-1))}vl(),i=al(r,i,f,Error(c(421)))}else Lr(ue)?(i.flags|=128,i.child=r.child,i=Fo.bind(null,r),ci(ue,i),i=null):(f=_.treeContext,ht&&(sr=bi(ue),Dr=i,bn=!0,Pi=null,Ra=!1,f!==null&&(Jr[qr++]=co,Jr[qr++]=Ri,Jr[qr++]=To,co=f.id,Ri=f.overflow,To=i)),i=du(i,i.pendingProps.children),i.flags|=4096);return i}return b?(v=jc(r,i,v.children,v.fallback,f),b=i.child,_=r.child.memoizedState,b.memoizedState=_===null?mi(f):{baseLanes:_.baseLanes|f,cachePool:null},b.childLanes=r.childLanes&~f,i.memoizedState=ol,v):(f=Bc(r,i,v.children,f),i.memoizedState=null,f)}return b?(v=jc(r,i,v.children,v.fallback,f),b=i.child,_=r.child.memoizedState,b.memoizedState=_===null?mi(f):{baseLanes:_.baseLanes|f,cachePool:null},b.childLanes=r.childLanes&~f,i.memoizedState=ol,v):(f=Bc(r,i,v.children,f),i.memoizedState=null,f)}function du(r,i){return i=Ns({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Bc(r,i,f,v){var _=r.child;return r=_.sibling,f=vo(_,{mode:"visible",children:f}),!(i.mode&1)&&(f.lanes=v),f.return=i,f.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=f}function jc(r,i,f,v,_){var b=i.mode;r=r.child;var V=r.sibling,ue={mode:"hidden",children:f};return!(b&1)&&i.child!==r?(f=i.child,f.childLanes=0,f.pendingProps=ue,i.deletions=null):(f=vo(r,ue),f.subtreeFlags=r.subtreeFlags&14680064),V!==null?v=vo(V,v):(v=zo(v,b,_,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,v}function al(r,i,f,v){return v!==null&&ps(v),Ia(i,r.child,null,f),r=du(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Po(r,i,f){r.lanes|=i;var v=r.alternate;v!==null&&(v.lanes|=i),vr(r.return,i,f)}function hu(r,i,f,v,_){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=v,b.tail=f,b.tailMode=_)}function Gc(r,i,f){var v=i.pendingProps,_=v.revealOrder,b=v.tail;if(Fn(r,i,v.children,f),v=re.current,v&2)v=v&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Po(r,f,i);else if(r.tag===19)Po(r,f,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}v&=1}if(en(re,v),!(i.mode&1))i.memoizedState=null;else switch(_){case"forwards":for(f=i.child,_=null;f!==null;)r=f.alternate,r!==null&&be(r)===null&&(_=f),f=f.sibling;f=_,f===null?(_=i.child,i.child=null):(_=f.sibling,f.sibling=null),hu(i,!1,_,f,b);break;case"backwards":for(f=null,_=i.child,i.child=null;_!==null;){if(r=_.alternate,r!==null&&be(r)===null){i.child=_;break}r=_.sibling,_.sibling=f,f=_,_=r}hu(i,!0,f,null,b);break;case"together":hu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $n(r,i,f){if(r!==null&&(i.dependencies=r.dependencies),Xa|=i.lanes,!(f&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(c(153));if(i.child!==null){for(r=i.child,f=vo(r,r.pendingProps),i.child=f,f.return=i;r.sibling!==null;)r=r.sibling,f=f.sibling=vo(r,r.pendingProps),f.return=i;f.sibling=null}return i.child}function Ed(r,i,f){switch(i.tag){case 3:Dc(i),Pa();break;case 5:_c(i);break;case 1:Wn(i.type)&&hi(i);break;case 4:ru(i,i.stateNode.containerInfo);break;case 10:us(i,i.type._context,i.memoizedProps.value);break;case 13:var v=i.memoizedState;if(v!==null)return v.dehydrated!==null?(en(re,re.current&1),i.flags|=128,null):f&i.child.childLanes?zc(r,i,f):(en(re,re.current&1),r=$n(r,i,f),r!==null?r.sibling:null);en(re,re.current&1);break;case 19:if(v=(f&i.childLanes)!==0,r.flags&128){if(v)return Gc(r,i,f);i.flags|=128}var _=i.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),en(re,re.current),v)break;return null;case 22:case 23:return i.lanes=0,Oc(r,i,f)}return $n(r,i,f)}function Td(r,i){switch(Nr(i),i.tag){case 1:return Wn(i.type)&&Yr(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ua(),sn(Nn),sn(Cn),$e(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Co(i),null;case 13:if(sn(re),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(c(340));Pa()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return sn(re),null;case 4:return Ua(),null;case 10:return qn(i.type._context),null;case 22:case 23:return Cu(),null;case 24:return null;default:return null}}var sl=!1,oa=!1,Cd=typeof WeakSet=="function"?WeakSet:Set,We=null;function ks(r,i){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Er(r,i,v)}else f.current=null}function pu(r,i,f){try{f()}catch(v){Er(r,i,v)}}var Wc=!1;function mu(r,i){for(K(r.containerInfo),We=i;We!==null;)if(r=We,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,We=i;else for(;We!==null;){r=We;try{var f=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,_=f.memoizedState,b=r.stateNode,V=b.getSnapshotBeforeUpdate(r.elementType===r.type?v:Dn(r.type,v),_);b.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Le&&Pn(r.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(ue){Er(r,r.return,ue)}if(i=r.sibling,i!==null){i.return=r.return,We=i;break}We=r.return}return f=Wc,Wc=!1,f}function Mi(r,i,f){var v=i.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&r)===r){var b=_.destroy;_.destroy=void 0,b!==void 0&&pu(i,f,b)}_=_.next}while(_!==v)}}function Lo(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&r)===r){var v=f.create;f.destroy=v()}f=f.next}while(f!==i)}}function gu(r){var i=r.ref;if(i!==null){var f=r.stateNode;switch(r.tag){case 5:r=se(f);break;default:r=f}typeof i=="function"?i(r):i.current=r}}function vu(r,i,f){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Zt,i)}catch{}switch(i.tag){case 0:case 11:case 14:case 15:if(r=i.updateQueue,r!==null&&(r=r.lastEffect,r!==null)){var v=r=r.next;do{var _=v,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&pu(i,f,b),v=v.next}while(v!==r)}break;case 1:if(ks(i,f),r=i.stateNode,typeof r.componentWillUnmount=="function")try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(V){Er(i,f,V)}break;case 5:ks(i,f);break;case 4:Le?_u(r,i,f):Ce&&Ce&&(i=i.stateNode.containerInfo,f=zt(i),St(i,f))}}function Hc(r,i,f){for(var v=i;;)if(vu(r,v,f),v.child===null||Le&&v.tag===4){if(v===i)break;for(;v.sibling===null;){if(v.return===null||v.return===i)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else v.child.return=v,v=v.child}function Qi(r){var i=r.alternate;i!==null&&(r.alternate=null,Qi(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&et(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ll(r){return r.tag===5||r.tag===3||r.tag===4}function Io(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ll(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ri(r){if(Le){e:{for(var i=r.return;i!==null;){if(ll(i))break e;i=i.return}throw Error(c(160))}var f=i;switch(f.tag){case 5:i=f.stateNode,f.flags&32&&(Re(i),f.flags&=-33),f=Io(r),ul(r,f,i);break;case 3:case 4:i=f.stateNode.containerInfo,f=Io(r),yu(r,f,i);break;default:throw Error(c(161))}}}function yu(r,i,f){var v=r.tag;if(v===5||v===6)r=r.stateNode,i?Mt(f,r,i):gt(f,r);else if(v!==4&&(r=r.child,r!==null))for(yu(r,i,f),r=r.sibling;r!==null;)yu(r,i,f),r=r.sibling}function ul(r,i,f){var v=r.tag;if(v===5||v===6)r=r.stateNode,i?It(f,r,i):nt(f,r);else if(v!==4&&(r=r.child,r!==null))for(ul(r,i,f),r=r.sibling;r!==null;)ul(r,i,f),r=r.sibling}function _u(r,i,f){for(var v=i,_=!1,b,V;;){if(!_){_=v.return;e:for(;;){if(_===null)throw Error(c(160));switch(b=_.stateNode,_.tag){case 5:V=!1;break e;case 3:b=b.containerInfo,V=!0;break e;case 4:b=b.containerInfo,V=!0;break e}_=_.return}_=!0}if(v.tag===5||v.tag===6)Hc(r,v,f),V?ae(b,v.stateNode):ct(b,v.stateNode);else if(v.tag===18)V?Ta(b,v.stateNode):as(b,v.stateNode);else if(v.tag===4){if(v.child!==null){b=v.stateNode.containerInfo,V=!0,v.child.return=v,v=v.child;continue}}else if(vu(r,v,f),v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break;for(;v.sibling===null;){if(v.return===null||v.return===i)return;v=v.return,v.tag===4&&(_=!1)}v.sibling.return=v.return,v=v.sibling}}function aa(r,i){if(Le){switch(i.tag){case 0:case 11:case 14:case 15:Mi(3,i,i.return),Lo(3,i),Mi(5,i,i.return);return;case 1:return;case 5:var f=i.stateNode;if(f!=null){var v=i.memoizedProps;r=r!==null?r.memoizedProps:v;var _=i.type,b=i.updateQueue;i.updateQueue=null,b!==null&&fn(f,b,_,r,v,i)}return;case 6:if(i.stateNode===null)throw Error(c(162));f=i.memoizedProps,Ct(i.stateNode,r!==null?r.memoizedProps:f,f);return;case 3:ht&&r!==null&&r.memoizedState.isDehydrated&&oo(i.stateNode.containerInfo);return;case 12:return;case 13:Oi(i);return;case 19:Oi(i);return;case 17:return}throw Error(c(163))}switch(i.tag){case 0:case 11:case 14:case 15:Mi(3,i,i.return),Lo(3,i),Mi(5,i,i.return);return;case 12:return;case 13:Oi(i);return;case 19:Oi(i);return;case 3:ht&&r!==null&&r.memoizedState.isDehydrated&&oo(i.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ce){switch(i.tag){case 1:case 5:case 6:break e;case 3:case 4:i=i.stateNode,St(i.containerInfo,i.pendingChildren);break e}throw Error(c(163))}}function Oi(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new Cd),i.forEach(function(v){var _=Zc.bind(null,r,v);f.has(v)||(f.add(v),v.then(_,_))})}}function Vc(r,i){for(We=i;We!==null;){i=We;var f=i.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var b=r;Le?_u(b,_,i):Hc(b,_,i);var V=_.alternate;V!==null&&(V.return=null),_.return=null}catch(mt){Er(_,i,mt)}}if(f=i.child,i.subtreeFlags&12854&&f!==null)f.return=i,We=f;else for(;We!==null;){i=We;try{var ue=i.flags;if(ue&32&&Le&&Re(i.stateNode),ue&512){var Se=i.alternate;if(Se!==null){var De=Se.ref;De!==null&&(typeof De=="function"?De(null):De.current=null)}}if(ue&8192)switch(i.tag){case 13:if(i.memoizedState!==null){var at=i.alternate;(at===null||at.memoizedState===null)&&(Eu=Fe())}break;case 22:var Bt=i.memoizedState!==null,wt=i.alternate,mn=wt!==null&&wt.memoizedState!==null;if(f=i,Le){e:if(v=f,_=Bt,b=null,Le)for(var pt=v;;){if(pt.tag===5){if(b===null){b=pt;var Cr=pt.stateNode;_?rt(Cr):Ze(pt.stateNode,pt.memoizedProps)}}else if(pt.tag===6){if(b===null){var si=pt.stateNode;_?ft(si):Ot(si,pt.memoizedProps)}}else if((pt.tag!==22&&pt.tag!==23||pt.memoizedState===null||pt===v)&&pt.child!==null){pt.child.return=pt,pt=pt.child;continue}if(pt===v)break;for(;pt.sibling===null;){if(pt.return===null||pt.return===v)break e;b===pt&&(b=null),pt=pt.return}b===pt&&(b=null),pt.sibling.return=pt.return,pt=pt.sibling}}if(Bt&&!mn&&f.mode&1){We=f;for(var ge=f.child;ge!==null;){for(f=We=ge;We!==null;){v=We;var de=v.child;switch(v.tag){case 0:case 11:case 14:case 15:Mi(4,v,v.return);break;case 1:ks(v,v.return);var we=v.stateNode;if(typeof we.componentWillUnmount=="function"){var qe=v.return;try{we.props=v.memoizedProps,we.state=v.memoizedState,we.componentWillUnmount()}catch(mt){Er(v,qe,mt)}}break;case 5:ks(v,v.return);break;case 22:if(v.memoizedState!==null){wu(f);continue}}de!==null?(de.return=v,We=de):wu(f)}ge=ge.sibling}}}switch(ue&4102){case 2:ri(i),i.flags&=-3;break;case 6:ri(i),i.flags&=-3,aa(i.alternate,i);break;case 4096:i.flags&=-4097;break;case 4100:i.flags&=-4097,aa(i.alternate,i);break;case 4:aa(i.alternate,i)}}catch(mt){Er(i,i.return,mt)}if(f=i.sibling,f!==null){f.return=i.return,We=f;break}We=i.return}}}function kd(r,i,f){We=r,As(r)}function As(r,i,f){for(var v=(r.mode&1)!==0;We!==null;){var _=We,b=_.child;if(_.tag===22&&v){var V=_.memoizedState!==null||sl;if(!V){var ue=_.alternate,Se=ue!==null&&ue.memoizedState!==null||oa;ue=sl;var De=oa;if(sl=V,(oa=Se)&&!De)for(We=_;We!==null;)V=We,Se=V.child,V.tag===22&&V.memoizedState!==null?ir(_):Se!==null?(Se.return=V,We=Se):ir(_);for(;b!==null;)We=b,As(b),b=b.sibling;We=_,sl=ue,oa=De}Yc(r)}else _.subtreeFlags&8772&&b!==null?(b.return=_,We=b):Yc(r)}}function Yc(r){for(;We!==null;){var i=We;if(i.flags&8772){var f=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:oa||Lo(5,i);break;case 1:var v=i.stateNode;if(i.flags&4&&!oa)if(f===null)v.componentDidMount();else{var _=i.elementType===i.type?f.memoizedProps:Dn(i.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var b=i.updateQueue;b!==null&&Zs(i,b,v);break;case 3:var V=i.updateQueue;if(V!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=se(i.child.stateNode);break;case 1:f=i.child.stateNode}Zs(i,V,f)}break;case 5:var ue=i.stateNode;f===null&&i.flags&4&&tn(ue,i.type,i.memoizedProps,i);break;case 6:break;case 4:break;case 12:break;case 13:if(ht&&i.memoizedState===null){var Se=i.alternate;if(Se!==null){var De=Se.memoizedState;if(De!==null){var at=De.dehydrated;at!==null&&Ko(at)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}oa||i.flags&512&&gu(i)}catch(Bt){Er(i,i.return,Bt)}}if(i===r){We=null;break}if(f=i.sibling,f!==null){f.return=i.return,We=f;break}We=i.return}}function wu(r){for(;We!==null;){var i=We;if(i===r){We=null;break}var f=i.sibling;if(f!==null){f.return=i.return,We=f;break}We=i.return}}function ir(r){for(;We!==null;){var i=We;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{Lo(4,i)}catch(Se){Er(i,f,Se)}break;case 1:var v=i.stateNode;if(typeof v.componentDidMount=="function"){var _=i.return;try{v.componentDidMount()}catch(Se){Er(i,_,Se)}}var b=i.return;try{gu(i)}catch(Se){Er(i,b,Se)}break;case 5:var V=i.return;try{gu(i)}catch(Se){Er(i,V,Se)}}}catch(Se){Er(i,i.return,Se)}if(i===r){We=null;break}var ue=i.sibling;if(ue!==null){ue.return=i.return,We=ue;break}We=i.return}}var Ga=0,Rs=1,ii=2,Wa=3,sa=4;if(typeof Symbol=="function"&&Symbol.for){var Ui=Symbol.for;Ga=Ui("selector.component"),Rs=Ui("selector.has_pseudo_class"),ii=Ui("selector.role"),Wa=Ui("selector.test_id"),sa=Ui("selector.text")}function cl(r){var i=ot(r);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(c(364));return i}if(r=Te(r),r===null)throw Error(c(362));return r.stateNode.current}function lr(r,i){switch(i.$$typeof){case Ga:if(r.type===i.value)return!0;break;case Rs:e:{i=i.value,r=[r,0];for(var f=0;f<r.length;){var v=r[f++],_=r[f++],b=i[_];if(v.tag!==5||!Qe(v)){for(;b!=null&&lr(v,b);)_++,b=i[_];if(_===i.length){i=!0;break e}else for(v=v.child;v!==null;)r.push(v,_),v=v.sibling}}i=!1}return i;case ii:if(r.tag===5&&Be(r.stateNode,i.value))return!0;break;case sa:if((r.tag===5||r.tag===6)&&(r=Ge(r),r!==null&&0<=r.indexOf(i.value)))return!0;break;case Wa:if(r.tag===5&&(r=r.memoizedProps["data-testname"],typeof r=="string"&&r.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Ps(r){switch(r.$$typeof){case Ga:return"<"+(j(r.value)||"Unknown")+">";case Rs:return":has("+(Ps(r)||"")+")";case ii:return'[role="'+r.value+'"]';case sa:return'"'+r.value+'"';case Wa:return'[data-testname="'+r.value+'"]';default:throw Error(c(365))}}function Xc(r,i){var f=[];r=[r,0];for(var v=0;v<r.length;){var _=r[v++],b=r[v++],V=i[b];if(_.tag!==5||!Qe(_)){for(;V!=null&&lr(_,V);)b++,V=i[b];if(b===i.length)f.push(_);else for(_=_.child;_!==null;)r.push(_,b),_=_.sibling}}return f}function xu(r,i){if(!He)throw Error(c(363));r=cl(r),r=Xc(r,i),i=[],r=Array.from(r);for(var f=0;f<r.length;){var v=r[f++];if(v.tag===5)Qe(v)||i.push(v.stateNode);else for(v=v.child;v!==null;)r.push(v),v=v.sibling}return i}var Ad=Math.ceil,Ha=h.ReactCurrentDispatcher,Su=h.ReactCurrentOwner,En=h.ReactCurrentBatchConfig,Ht=0,Hn=null,Vn=null,zn=0,oi=0,Va=dr(0),Bn=0,Ya=null,Xa=0,fl=0,bu=0,Ja=null,xr=null,Eu=0,Ls=1/0;function la(){Ls=Fe()+500}var Is=!1,dl=null,Ni=null,hl=!1,go=null,Ms=0,Os=0,pl=null,ml=-1,qa=0;function Sr(){return Ht&6?Fe():ml!==-1?ml:ml=Fe()}function Zi(r){return r.mode&1?Ht&2&&zn!==0?zn&-zn:Zo.transition!==null?(qa===0&&(r=mr,mr<<=1,!(mr&4194240)&&(mr=64),qa=r),qa):(r=me,r!==0?r:st()):1}function gi(r,i,f){if(50<Os)throw Os=0,pl=null,Error(c(185));var v=Ka(r,i);return v===null?null:(M(v,i,f),(!(Ht&2)||v!==Hn)&&(v===Hn&&(!(Ht&2)&&(fl|=i),Bn===4&&Mo(v,zn)),bt(v,f),i===1&&Ht===0&&!(r.mode&1)&&(la(),pi&&Ur())),v)}function Ka(r,i){r.lanes|=i;var f=r.alternate;for(f!==null&&(f.lanes|=i),f=r,r=r.return;r!==null;)r.childLanes|=i,f=r.alternate,f!==null&&(f.childLanes|=i),f=r,r=r.return;return f.tag===3?f.stateNode:null}function bt(r,i){var f=r.callbackNode;C(r,i);var v=vt(r,r===Hn?zn:0);if(v===0)f!==null&&ze(f),r.callbackNode=null,r.callbackPriority=0;else if(i=v&-v,r.callbackPriority!==i){if(f!=null&&ze(f),i===1)r.tag===0?ls(Kc.bind(null,r)):ss(Kc.bind(null,r)),Ue?lt(function(){Ht===0&&Ur()}):Ne(Xe,Ur),f=null;else{switch(Ye(v)){case 1:f=Xe;break;case 4:f=_t;break;case 16:f=Ke;break;case 536870912:f=hn;break;default:f=Ke}f=_l(f,Jc.bind(null,r))}r.callbackPriority=i,r.callbackNode=f}}function Jc(r,i){if(ml=-1,qa=0,Ht&6)throw Error(c(327));var f=r.callbackNode;if(No()&&r.callbackNode!==f)return null;var v=vt(r,r===Hn?zn:0);if(v===0)return null;if(v&30||v&r.expiredLanes||i)i=br(r,v);else{i=v;var _=Ht;Ht|=2;var b=ku();(Hn!==r||zn!==i)&&(la(),$i(r,i));do try{Au();break}catch(ue){gl(r,ue)}while(!0);$o(),Ha.current=b,Ht=_,Vn!==null?i=0:(Hn=null,zn=0,i=Bn)}if(i!==0){if(i===2&&(_=T(r),_!==0&&(v=_,i=Tu(r,_))),i===1)throw f=Ya,$i(r,0),Mo(r,v),bt(r,Fe()),f;if(i===6)Mo(r,v);else{if(_=r.current.alternate,!(v&30)&&!qc(_)&&(i=br(r,v),i===2&&(b=T(r),b!==0&&(v=b,i=Tu(r,b))),i===1))throw f=Ya,$i(r,0),Mo(r,v),bt(r,Fe()),f;switch(r.finishedWork=_,r.finishedLanes=v,i){case 0:case 1:throw Error(c(345));case 2:Uo(r,xr);break;case 3:if(Mo(r,v),(v&130023424)===v&&(i=Eu+500-Fe(),10<i)){if(vt(r,0)!==0)break;if(_=r.suspendedLanes,(_&v)!==v){Sr(),r.pingedLanes|=r.suspendedLanes&_;break}r.timeoutHandle=fe(Uo.bind(null,r,xr),i);break}Uo(r,xr);break;case 4:if(Mo(r,v),(v&4194240)===v)break;for(i=r.eventTimes,_=-1;0<v;){var V=31-ar(v);b=1<<V,V=i[V],V>_&&(_=V),v&=~b}if(v=_,v=Fe()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Ad(v/1960))-v,10<v){r.timeoutHandle=fe(Uo.bind(null,r,xr),v);break}Uo(r,xr);break;case 5:Uo(r,xr);break;default:throw Error(c(329))}}}return bt(r,Fe()),r.callbackNode===f?Jc.bind(null,r):null}function Tu(r,i){var f=Ja;return r.current.memoizedState.isDehydrated&&($i(r,i).flags|=256),r=br(r,i),r!==2&&(i=xr,xr=f,i!==null&&ua(i)),r}function ua(r){xr===null?xr=r:xr.push.apply(xr,r)}function qc(r){for(var i=r;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],b=_.getSnapshot;_=_.value;try{if(!pn(b(),_))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mo(r,i){for(i&=~bu,i&=~fl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var f=31-ar(i),v=1<<f;r[f]=-1,i&=~v}}function Kc(r){if(Ht&6)throw Error(c(327));No();var i=vt(r,0);if(!(i&1))return bt(r,Fe()),null;var f=br(r,i);if(r.tag!==0&&f===2){var v=T(r);v!==0&&(i=v,f=Tu(r,v))}if(f===1)throw f=Ya,$i(r,0),Mo(r,i),bt(r,Fe()),f;if(f===6)throw Error(c(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Uo(r,xr),bt(r,Fe()),null}function ai(r){go!==null&&go.tag===0&&!(Ht&6)&&No();var i=Ht;Ht|=1;var f=En.transition,v=me;try{if(En.transition=null,me=1,r)return r()}finally{me=v,En.transition=f,Ht=i,!(Ht&6)&&Ur()}}function Cu(){oi=Va.current,sn(Va)}function $i(r,i){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==Oe&&(r.timeoutHandle=Oe,_e(f)),Vn!==null)for(f=Vn.return;f!==null;){var v=f;switch(Nr(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Yr();break;case 3:Ua(),sn(Nn),sn(Cn),$e();break;case 5:Co(v);break;case 4:Ua();break;case 13:sn(re);break;case 19:sn(re);break;case 10:qn(v.type._context);break;case 22:case 23:Cu()}f=f.return}if(Hn=r,Vn=r=vo(r.current,null),zn=oi=i,Bn=0,Ya=null,bu=fl=Xa=0,xr=Ja=null,ei!==null){for(i=0;i<ei.length;i++)if(f=ei[i],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,b=f.pending;if(b!==null){var V=b.next;b.next=_,v.next=V}f.pending=v}ei=null}return r}function gl(r,i){do{var f=Vn;try{if($o(),Lt.current=za,Fr){for(var v=At.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Fr=!1}if(Tn=0,rr=nr=At=null,ko=!1,gs=0,Su.current=null,f===null||f.return===null){Bn=1,Ya=i,Vn=null;break}e:{var b=r,V=f.return,ue=f,Se=i;if(i=zn,ue.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var De=Se,at=ue,Bt=at.tag;if(!(at.mode&1)&&(Bt===0||Bt===11||Bt===15)){var wt=at.alternate;wt?(at.updateQueue=wt.updateQueue,at.memoizedState=wt.memoizedState,at.lanes=wt.lanes):(at.updateQueue=null,at.memoizedState=null)}var mn=Rc(V);if(mn!==null){mn.flags&=-257,Pc(mn,V,ue,b,i),mn.mode&1&&Ac(b,De,i),i=mn,Se=De;var pt=i.updateQueue;if(pt===null){var Cr=new Set;Cr.add(Se),i.updateQueue=Cr}else pt.add(Se);break e}else{if(!(i&1)){Ac(b,De,i),vl();break e}Se=Error(c(426))}}else if(bn&&ue.mode&1){var si=Rc(V);if(si!==null){!(si.flags&65536)&&(si.flags|=256),Pc(si,V,ue,b,i),ps(Se);break e}}b=Se,Bn!==4&&(Bn=2),Ja===null?Ja=[b]:Ja.push(b),Se=na(Se,ue),ue=V;do{switch(ue.tag){case 3:ue.flags|=65536,i&=-i,ue.lanes|=i;var ge=ia(ue,Se,i);Sn(ue,ge);break e;case 1:b=Se;var de=ue.type,we=ue.stateNode;if(!(ue.flags&128)&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Ni===null||!Ni.has(we)))){ue.flags|=65536,i&=-i,ue.lanes|=i;var qe=kc(ue,b,i);Sn(ue,qe);break e}}ue=ue.return}while(ue!==null)}Us(f)}catch(mt){i=mt,Vn===f&&f!==null&&(Vn=f=f.return);continue}break}while(!0)}function ku(){var r=Ha.current;return Ha.current=za,r===null?za:r}function vl(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Hn===null||!(Xa&268435455)&&!(fl&268435455)||Mo(Hn,zn)}function br(r,i){var f=Ht;Ht|=2;var v=ku();Hn===r&&zn===i||$i(r,i);do try{Oo();break}catch(_){gl(r,_)}while(!0);if($o(),Ht=f,Ha.current=v,Vn!==null)throw Error(c(261));return Hn=null,zn=0,Bn}function Oo(){for(;Vn!==null;)Ru(Vn)}function Au(){for(;Vn!==null&&!ut();)Ru(Vn)}function Ru(r){var i=Lu(r.alternate,r,oi);r.memoizedProps=r.pendingProps,i===null?Us(r):Vn=i,Su.current=null}function Us(r){var i=r;do{var f=i.alternate;if(r=i.return,i.flags&32768){if(f=Td(f,i),f!==null){f.flags&=32767,Vn=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bn=6,Vn=null;return}}else if(f=Sd(f,i,oi),f!==null){Vn=f;return}if(i=i.sibling,i!==null){Vn=i;return}Vn=i=r}while(i!==null);Bn===0&&(Bn=5)}function Uo(r,i){var f=me,v=En.transition;try{En.transition=null,me=1,Pu(r,i,f)}finally{En.transition=v,me=f}return null}function Pu(r,i,f){do No();while(go!==null);if(Ht&6)throw Error(c(327));var v=r.finishedWork,_=r.finishedLanes;if(v===null)return null;if(r.finishedWork=null,r.finishedLanes=0,v===r.current)throw Error(c(177));r.callbackNode=null,r.callbackPriority=0;var b=v.lanes|v.childLanes;if(N(r,b),r===Hn&&(Vn=Hn=null,zn=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||hl||(hl=!0,_l(Ke,function(){return No(),null})),b=(v.flags&15990)!==0,v.subtreeFlags&15990||b){b=En.transition,En.transition=null;var V=me;me=1;var ue=Ht;Ht|=4,Su.current=null,mu(r,v),Vc(r,v),H(r.containerInfo),r.current=v,kd(v),Ie(),Ht=ue,me=V,En.transition=b}else r.current=v;if(hl&&(hl=!1,go=r,Ms=_),b=r.pendingLanes,b===0&&(Ni=null),dt(v.stateNode),bt(r,Fe()),i!==null)for(f=r.onRecoverableError,v=0;v<i.length;v++)f(i[v]);if(Is)throw Is=!1,r=dl,dl=null,r;return Ms&1&&r.tag!==0&&No(),b=r.pendingLanes,b&1?r===pl?Os++:(Os=0,pl=r):Os=0,Ur(),null}function No(){if(go!==null){var r=Ye(Ms),i=En.transition,f=me;try{if(En.transition=null,me=16>r?16:r,go===null)var v=!1;else{if(r=go,go=null,Ms=0,Ht&6)throw Error(c(331));var _=Ht;for(Ht|=4,We=r.current;We!==null;){var b=We,V=b.child;if(We.flags&16){var ue=b.deletions;if(ue!==null){for(var Se=0;Se<ue.length;Se++){var De=ue[Se];for(We=De;We!==null;){var at=We;switch(at.tag){case 0:case 11:case 15:Mi(8,at,b)}var Bt=at.child;if(Bt!==null)Bt.return=at,We=Bt;else for(;We!==null;){at=We;var wt=at.sibling,mn=at.return;if(Qi(at),at===De){We=null;break}if(wt!==null){wt.return=mn,We=wt;break}We=mn}}}var pt=b.alternate;if(pt!==null){var Cr=pt.child;if(Cr!==null){pt.child=null;do{var si=Cr.sibling;Cr.sibling=null,Cr=si}while(Cr!==null)}}We=b}}if(b.subtreeFlags&2064&&V!==null)V.return=b,We=V;else e:for(;We!==null;){if(b=We,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Mi(9,b,b.return)}var ge=b.sibling;if(ge!==null){ge.return=b.return,We=ge;break e}We=b.return}}var de=r.current;for(We=de;We!==null;){V=We;var we=V.child;if(V.subtreeFlags&2064&&we!==null)we.return=V,We=we;else e:for(V=de;We!==null;){if(ue=We,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Lo(9,ue)}}catch(mt){Er(ue,ue.return,mt)}if(ue===V){We=null;break e}var qe=ue.sibling;if(qe!==null){qe.return=ue.return,We=qe;break e}We=ue.return}}if(Ht=_,Ur(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Zt,r)}catch{}v=!0}return v}finally{me=f,En.transition=i}}return!1}function yl(r,i,f){i=na(f,i),i=ia(r,i,1),Ci(r,i),i=Sr(),r=Ka(r,1),r!==null&&(M(r,1,i),bt(r,i))}function Er(r,i,f){if(r.tag===3)yl(r,r,f);else for(;i!==null;){if(i.tag===3){yl(i,r,f);break}else if(i.tag===1){var v=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ni===null||!Ni.has(v))){r=na(f,r),r=kc(i,r,1),Ci(i,r),r=Sr(),i=Ka(i,1),i!==null&&(M(i,1,r),bt(i,r));break}}i=i.return}}function Do(r,i,f){var v=r.pingCache;v!==null&&v.delete(i),i=Sr(),r.pingedLanes|=r.suspendedLanes&f,Hn===r&&(zn&f)===f&&(Bn===4||Bn===3&&(zn&130023424)===zn&&500>Fe()-Eu?$i(r,0):bu|=f),bt(r,i)}function Qc(r,i){i===0&&(r.mode&1?(i=Xr,Xr<<=1,!(Xr&130023424)&&(Xr=4194304)):i=1);var f=Sr();r=Ka(r,i),r!==null&&(M(r,i,f),bt(r,f))}function Fo(r){var i=r.memoizedState,f=0;i!==null&&(f=i.retryLane),Qc(r,f)}function Zc(r,i){var f=0;switch(r.tag){case 13:var v=r.stateNode,_=r.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=r.stateNode;break;default:throw Error(c(314))}v!==null&&v.delete(i),Qc(r,f)}var Lu;Lu=function(r,i,f){if(r!==null)if(r.memoizedProps!==i.pendingProps||Nn.current)ni=!0;else{if(!(r.lanes&f)&&!(i.flags&128))return ni=!1,Ed(r,i,f);ni=!!(r.flags&131072)}else ni=!1,bn&&i.flags&1048576&&pc(i,ds,i.index);switch(i.lanes=0,i.tag){case 2:var v=i.type;r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),r=i.pendingProps;var _=hr(i,Cn.current);On(i,f),_=dn(null,i,v,r,_,f);var b=iu();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Wn(v)?(b=!0,hi(i)):b=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Zl(i),_.updater=$s,i.stateNode=_,_._reactInternals=i,ka(i,v,r,f),i=fu(null,i,v,!0,b,f)):(i.tag=0,bn&&b&&el(i),Fn(null,i,_,f),i=i.child),i;case 16:v=i.elementType;e:{switch(r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),r=i.pendingProps,_=v._init,v=_(v._payload),i.type=v,_=i.tag=$c(v),r=Dn(v,r),_){case 0:i=Ii(null,i,v,r,f);break e;case 1:i=Nc(null,i,v,r,f);break e;case 11:i=Lc(null,i,v,r,f);break e;case 14:i=Ic(null,i,v,Dn(v.type,r),f);break e}throw Error(c(306,v,""))}return i;case 0:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Ii(r,i,v,_,f);case 1:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Nc(r,i,v,_,f);case 3:e:{if(Dc(i),r===null)throw Error(c(387));v=i.pendingProps,b=i.memoizedState,_=b.element,$l(r,i),ki(i,v,null,f);var V=i.memoizedState;if(v=V.element,ht&&b.isDehydrated)if(b={element:v,isDehydrated:!1,cache:V.cache,transitions:V.transitions},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){_=Error(c(423)),i=Fc(r,i,v,f,_);break e}else if(v!==_){_=Error(c(424)),i=Fc(r,i,v,f,_);break e}else for(ht&&(sr=Gn(i.stateNode.containerInfo),Dr=i,bn=!0,Pi=null,Ra=!1),f=yc(i,null,v,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Pa(),v===_){i=$n(r,i,f);break e}Fn(r,i,v,f)}i=i.child}return i;case 5:return _c(i),r===null&&nu(i),v=i.type,_=i.pendingProps,b=r!==null?r.memoizedProps:null,V=_.children,ee(v,_)?V=null:b!==null&&ee(v,b)&&(i.flags|=32),Uc(r,i),Fn(r,i,V,f),i.child;case 6:return r===null&&nu(i),null;case 13:return zc(r,i,f);case 4:return ru(i,i.stateNode.containerInfo),v=i.pendingProps,r===null?i.child=Ia(i,null,v,f):Fn(r,i,v,f),i.child;case 11:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),Lc(r,i,v,_,f);case 7:return Fn(r,i,i.pendingProps,f),i.child;case 8:return Fn(r,i,i.pendingProps.children,f),i.child;case 12:return Fn(r,i,i.pendingProps.children,f),i.child;case 10:e:{if(v=i.type._context,_=i.pendingProps,b=i.memoizedProps,V=_.value,us(i,v,V),b!==null)if(pn(b.value,V)){if(b.children===_.children&&!Nn.current){i=$n(r,i,f);break e}}else for(b=i.child,b!==null&&(b.return=i);b!==null;){var ue=b.dependencies;if(ue!==null){V=b.child;for(var Se=ue.firstContext;Se!==null;){if(Se.context===v){if(b.tag===1){Se=yr(-1,f&-f),Se.tag=2;var De=b.updateQueue;if(De!==null){De=De.shared;var at=De.pending;at===null?Se.next=Se:(Se.next=at.next,at.next=Se),De.pending=Se}}b.lanes|=f,Se=b.alternate,Se!==null&&(Se.lanes|=f),vr(b.return,f,i),ue.lanes|=f;break}Se=Se.next}}else if(b.tag===10)V=b.type===i.type?null:b.child;else if(b.tag===18){if(V=b.return,V===null)throw Error(c(341));V.lanes|=f,ue=V.alternate,ue!==null&&(ue.lanes|=f),vr(V,f,i),V=b.sibling}else V=b.child;if(V!==null)V.return=b;else for(V=b;V!==null;){if(V===i){V=null;break}if(b=V.sibling,b!==null){b.return=V.return,V=b;break}V=V.return}b=V}Fn(r,i,_.children,f),i=i.child}return i;case 9:return _=i.type,v=i.pendingProps.children,On(i,f),_=ln(_),v=v(_),i.flags|=1,Fn(r,i,v,f),i.child;case 14:return v=i.type,_=Dn(v,i.pendingProps),_=Dn(v.type,_),Ic(r,i,v,_,f);case 15:return Mc(r,i,i.type,i.pendingProps,f);case 17:return v=i.type,_=i.pendingProps,_=i.elementType===v?_:Dn(v,_),r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,Wn(v)?(r=!0,hi(i)):r=!1,On(i,f),hc(i,v,_),ka(i,v,_,f),fu(null,i,v,!0,r,f);case 19:return Gc(r,i,f);case 22:return Oc(r,i,f)}throw Error(c(156,i.tag))};function _l(r,i){return Ne(r,i)}function Rd(r,i,f,v){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(r,i,f,v){return new Rd(r,i,f,v)}function Iu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $c(r){if(typeof r=="function")return Iu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===P)return 11;if(r===I)return 14}return 2}function vo(r,i){var f=r.alternate;return f===null?(f=vi(r.tag,i,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=i,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,i=r.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function wl(r,i,f,v,_,b){var V=2;if(v=r,typeof r=="function")Iu(r)&&(V=1);else if(typeof r=="string")V=5;else e:switch(r){case g:return zo(f.children,_,b,i);case y:V=8,_|=8;break;case w:return r=vi(12,f,i,_|2),r.elementType=w,r.lanes=b,r;case R:return r=vi(13,f,i,_),r.elementType=R,r.lanes=b,r;case A:return r=vi(19,f,i,_),r.elementType=A,r.lanes=b,r;case D:return Ns(f,_,b,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:V=10;break e;case E:V=9;break e;case P:V=11;break e;case I:V=14;break e;case L:V=16,v=null;break e}throw Error(c(130,r==null?r:typeof r,""))}return i=vi(V,f,i,_),i.elementType=r,i.type=v,i.lanes=b,i}function zo(r,i,f,v){return r=vi(7,r,v,i),r.lanes=f,r}function Ns(r,i,f,v){return r=vi(22,r,v,i),r.elementType=D,r.lanes=f,r.stateNode={},r}function Tr(r,i,f){return r=vi(6,r,null,i),r.lanes=f,r}function yi(r,i,f){return i=vi(4,r.children!==null?r.children:[],r.key,i),i.lanes=f,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Pd(r,i,f,v,_){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U(0),this.expirationTimes=U(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.identifierPrefix=v,this.onRecoverableError=_,ht&&(this.mutableSourceEagerHydrationData=null)}function ef(r,i,f,v,_,b,V,ue,Se){return r=new Pd(r,i,f,ue,Se),i===1?(i=1,b===!0&&(i|=8)):i=0,b=vi(3,null,null,i),r.current=b,b.stateNode=r,b.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null},Zl(b),r}function Ds(r){if(!r)return Mr;r=r._reactInternals;e:{if(q(r)!==r||r.tag!==1)throw Error(c(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Wn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(c(171))}if(r.tag===1){var f=r.type;if(Wn(f))return _n(r,f,i)}return i}function ca(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(c(188)):(r=Object.keys(r).join(","),Error(c(268,r)));return r=Y(i),r===null?null:r.stateNode}function Mu(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<i?f:i}}function xl(r,i){Mu(r,i),(r=r.alternate)&&Mu(r,i)}function Ld(r){return r=Y(r),r===null?null:r.stateNode}function tf(){return null}return s.attemptContinuousHydration=function(r){if(r.tag===13){var i=Sr();gi(r,134217728,i),xl(r,134217728)}},s.attemptHydrationAtCurrentPriority=function(r){if(r.tag===13){var i=Sr(),f=Zi(r);gi(r,f,i),xl(r,f)}},s.attemptSynchronousHydration=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var f=gr(i.pendingLanes);f!==0&&(ve(i,f|1),bt(i,Fe()),!(Ht&6)&&(la(),Ur()))}break;case 13:var v=Sr();ai(function(){return gi(r,1,v)}),xl(r,1)}},s.batchedUpdates=function(r,i){var f=Ht;Ht|=1;try{return r(i)}finally{Ht=f,Ht===0&&(la(),pi&&Ur())}},s.createComponentSelector=function(r){return{$$typeof:Ga,value:r}},s.createContainer=function(r,i,f,v,_,b,V){return ef(r,i,!1,null,f,v,_,b,V)},s.createHasPseudoClassSelector=function(r){return{$$typeof:Rs,value:r}},s.createHydrationContainer=function(r,i,f,v,_,b,V,ue,Se){return r=ef(f,v,!0,r,_,b,V,ue,Se),r.context=Ds(null),f=r.current,v=Sr(),_=Zi(f),b=yr(v,_),b.callback=i??null,Ci(f,b),r.current.lanes=_,M(r,_,v),bt(r,v),r},s.createPortal=function(r,i,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:v==null?null:""+v,children:r,containerInfo:i,implementation:f}},s.createRoleSelector=function(r){return{$$typeof:ii,value:r}},s.createTestNameSelector=function(r){return{$$typeof:Wa,value:r}},s.createTextSelector=function(r){return{$$typeof:sa,value:r}},s.deferredUpdates=function(r){var i=me,f=En.transition;try{return En.transition=null,me=16,r()}finally{me=i,En.transition=f}},s.discreteUpdates=function(r,i,f,v,_){var b=me,V=En.transition;try{return En.transition=null,me=1,r(i,f,v,_)}finally{me=b,En.transition=V,Ht===0&&la()}},s.findAllNodes=xu,s.findBoundingRects=function(r,i){if(!He)throw Error(c(363));i=xu(r,i),r=[];for(var f=0;f<i.length;f++)r.push(xt(i[f]));for(i=r.length-1;0<i;i--){f=r[i];for(var v=f.x,_=v+f.width,b=f.y,V=b+f.height,ue=i-1;0<=ue;ue--)if(i!==ue){var Se=r[ue],De=Se.x,at=De+Se.width,Bt=Se.y,wt=Bt+Se.height;if(v>=De&&b>=Bt&&_<=at&&V<=wt){r.splice(i,1);break}else if(v!==De||f.width!==Se.width||wt<b||Bt>V){if(!(b!==Bt||f.height!==Se.height||at<v||De>_)){De>v&&(Se.width+=De-v,Se.x=v),at<_&&(Se.width=_-De),r.splice(i,1);break}}else{Bt>b&&(Se.height+=Bt-b,Se.y=b),wt<V&&(Se.height=V-Bt),r.splice(i,1);break}}}return r},s.findHostInstance=ca,s.findHostInstanceWithNoPortals=function(r){return r=ie(r),r=r!==null?pe(r):null,r===null?null:r.stateNode},s.findHostInstanceWithWarning=function(r){return ca(r)},s.flushControlled=function(r){var i=Ht;Ht|=1;var f=En.transition,v=me;try{En.transition=null,me=1,r()}finally{me=v,En.transition=f,Ht=i,Ht===0&&(la(),Ur())}},s.flushPassiveEffects=No,s.flushSync=ai,s.focusWithin=function(r,i){if(!He)throw Error(c(363));for(r=cl(r),i=Xc(r,i),i=Array.from(i),r=0;r<i.length;){var f=i[r++];if(!Qe(f)){if(f.tag===5&&$t(f.stateNode))return!0;for(f=f.child;f!==null;)i.push(f),f=f.sibling}}return!1},s.getCurrentUpdatePriority=function(){return me},s.getFindAllNodesFailureDescription=function(r,i){if(!He)throw Error(c(363));var f=0,v=[];r=[cl(r),0];for(var _=0;_<r.length;){var b=r[_++],V=r[_++],ue=i[V];if((b.tag!==5||!Qe(b))&&(lr(b,ue)&&(v.push(Ps(ue)),V++,V>f&&(f=V)),V<i.length))for(b=b.child;b!==null;)r.push(b,V),b=b.sibling}if(f<i.length){for(r=[];f<i.length;f++)r.push(Ps(i[f]));return`findAllNodes was able to match part of the selector:
  `+(v.join(" > ")+`

No matching component was found for:
  `)+r.join(" > ")}return null},s.getPublicRootInstance=function(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return se(r.child.stateNode);default:return r.child.stateNode}},s.injectIntoDevTools=function(r){if(r={bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:Ld,findFiberByHostInstance:r.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")r=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)r=!0;else{try{Zt=i.inject(r),Ut=i}catch{}r=!!i.checkDCE}}return r},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(r,i,f,v){if(!He)throw Error(c(363));r=xu(r,i);var _=tt(r,f,v).disconnect;return{disconnect:function(){_()}}},s.registerMutableSourceForHydration=function(r,i){var f=i._getVersion;f=f(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,f]:r.mutableSourceEagerHydrationData.push(i,f)},s.runWithPriority=function(r,i){var f=me;try{return me=r,i()}finally{me=f}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(r,i,f,v){var _=i.current,b=Sr(),V=Zi(_);return f=Ds(f),i.context===null?i.context=f:i.pendingContext=f,i=yr(b,V),i.payload={element:r},v=v===void 0?null:v,v!==null&&(i.callback=v),Ci(_,i),r=gi(_,V,b),r!==null&&Ca(r,_,V),V},s}),sh}var Zm;function rS(){return Zm||(Zm=1,ih.exports=nS()),ih.exports}var iS=rS();const oS=_p(iS);var lh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function aS(){return $m||($m=1,function(e){function t(X,K){var H=X.length;X.push(K);e:for(;0<H;){var B=H-1>>>1,Q=X[B];if(0<a(Q,K))X[B]=K,X[H]=Q,H=B;else break e}}function s(X){return X.length===0?null:X[0]}function u(X){if(X.length===0)return null;var K=X[0],H=X.pop();if(H!==K){X[0]=H;e:for(var B=0,Q=X.length,te=Q>>>1;B<te;){var oe=2*(B+1)-1,ee=X[oe],le=oe+1,fe=X[le];if(0>a(ee,H))le<Q&&0>a(fe,ee)?(X[B]=fe,X[le]=H,B=le):(X[B]=ee,X[oe]=H,B=oe);else if(le<Q&&0>a(fe,H))X[B]=fe,X[le]=H,B=le;else break e}}return K}function a(X,K){var H=X.sortIndex-K.sortIndex;return H!==0?H:X.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var d=[],m=[],g=1,y=null,w=3,S=!1,E=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(X){for(var K=s(m);K!==null;){if(K.callback===null)u(m);else if(K.startTime<=X)u(m),K.sortIndex=K.expirationTime,t(d,K);else break;K=s(m)}}function D(X){if(P=!1,L(X),!E)if(s(d)!==null)E=!0,se(F);else{var K=s(m);K!==null&&Ee(D,K.startTime-X)}}function F(X,K){E=!1,P&&(P=!1,A(W),W=-1),S=!0;var H=w;try{for(L(K),y=s(d);y!==null&&(!(y.expirationTime>K)||X&&!ie());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var Q=B(y.expirationTime<=K);K=e.unstable_now(),typeof Q=="function"?y.callback=Q:y===s(d)&&u(d),L(K)}else u(d);y=s(d)}if(y!==null)var te=!0;else{var oe=s(m);oe!==null&&Ee(D,oe.startTime-K),te=!1}return te}finally{y=null,w=H,S=!1}}var G=!1,j=null,W=-1,q=5,J=-1;function ie(){return!(e.unstable_now()-J<q)}function Y(){if(j!==null){var X=e.unstable_now();J=X;var K=!0;try{K=j(!0,X)}finally{K?ce():(G=!1,j=null)}}else G=!1}var ce;if(typeof I=="function")ce=function(){I(Y)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,xe=pe.port2;pe.port1.onmessage=Y,ce=function(){xe.postMessage(null)}}else ce=function(){R(Y,0)};function se(X){j=X,G||(G=!0,ce())}function Ee(X,K){W=R(function(){X(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,se(F))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(X){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var H=w;w=K;try{return X()}finally{w=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var H=w;w=X;try{return K()}finally{w=H}},e.unstable_scheduleCallback=function(X,K,H){var B=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,X={id:g++,callback:K,priorityLevel:X,startTime:H,expirationTime:Q,sortIndex:-1},H>B?(X.sortIndex=H,t(m,X),s(d)===null&&X===s(m)&&(P?(A(W),W=-1):P=!0,Ee(D,H-B))):(X.sortIndex=Q,t(d,X),E||S||(E=!0,se(F))),X},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(X){var K=w;return function(){var H=w;w=K;try{return X.apply(this,arguments)}finally{w=H}}}}(uh)),uh}var eg;function sS(){return eg||(eg=1,lh.exports=aS()),lh.exports}var tg=sS();const Sp={},lS=e=>void Object.assign(Sp,e);function uS(e,t){function s(g,{args:y=[],attach:w,...S},E){let P=`${g[0].toUpperCase()}${g.slice(1)}`,R;if(g==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=S.object;R=Ol(A,{type:g,root:E,attach:w,primitive:!0})}else{const A=Sp[P];if(!A)throw new Error(`R3F: ${P} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(y))throw new Error("R3F: The args prop must be an array!");R=Ol(new A(...y),{type:g,root:E,attach:w,memoizedProps:{args:y}})}return R.__r3f.attach===void 0&&(R instanceof Vf?R.__r3f.attach="geometry":R instanceof n2&&(R.__r3f.attach="material")),P!=="inject"&&dh(R,S),R}function u(g,y){let w=!1;if(y){var S,E;(S=y.__r3f)!=null&&S.attach?fh(g,y,y.__r3f.attach):y.isObject3D&&g.isObject3D&&(g.add(y),w=!0),w||(E=g.__r3f)==null||E.objects.push(y),y.__r3f||Ol(y,{}),y.__r3f.parent=g,Zh(y),Ul(y)}}function a(g,y,w){let S=!1;if(y){var E,P;if((E=y.__r3f)!=null&&E.attach)fh(g,y,y.__r3f.attach);else if(y.isObject3D&&g.isObject3D){y.parent=g,y.dispatchEvent({type:"added"}),g.dispatchEvent({type:"childadded",child:y});const R=g.children.filter(I=>I!==y),A=R.indexOf(w);g.children=[...R.slice(0,A),y,...R.slice(A)],S=!0}S||(P=g.__r3f)==null||P.objects.push(y),y.__r3f||Ol(y,{}),y.__r3f.parent=g,Zh(y),Ul(y)}}function o(g,y,w=!1){g&&[...g].forEach(S=>c(y,S,w))}function c(g,y,w){if(y){var S,E,P;if(y.__r3f&&(y.__r3f.parent=null),(S=g.__r3f)!=null&&S.objects&&(g.__r3f.objects=g.__r3f.objects.filter(D=>D!==y)),(E=y.__r3f)!=null&&E.attach)ag(g,y,y.__r3f.attach);else if(y.isObject3D&&g.isObject3D){var R;g.remove(y),(R=y.__r3f)!=null&&R.root&&gS(Uf(y),y)}const I=(P=y.__r3f)==null?void 0:P.primitive,L=!I&&(w===void 0?y.dispose!==null:w);if(!I){var A;o((A=y.__r3f)==null?void 0:A.objects,y,L),o(y.children,y,L)}if(delete y.__r3f,L&&y.dispose&&y.type!=="Scene"){const D=()=>{try{y.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?tg.unstable_scheduleCallback(tg.unstable_IdlePriority,D):D()}Ul(g)}}function h(g,y,w,S){var E;const P=(E=g.__r3f)==null?void 0:E.parent;if(!P)return;const R=s(y,w,g.__r3f.root);if(g.children){for(const A of g.children)A.__r3f&&u(R,A);g.children=g.children.filter(A=>!A.__r3f)}g.__r3f.objects.forEach(A=>u(R,A)),g.__r3f.objects=[],g.__r3f.autoRemovedBeforeAppend||c(P,g),R.parent&&(R.__r3f.autoRemovedBeforeAppend=!0),u(P,R),R.raycast&&R.__r3f.eventCount&&Uf(R).getState().internal.interaction.push(R),[S,S.alternate].forEach(A=>{A!==null&&(A.stateNode=R,A.ref&&(typeof A.ref=="function"?A.ref(R):A.ref.current=R))})}const d=()=>{};return{reconciler:oS({createInstance:s,removeChild:c,appendChild:u,appendInitialChild:u,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(g,y)=>{if(!y)return;const w=g.getState().scene;w.__r3f&&(w.__r3f.root=g,u(w,y))},removeChildFromContainer:(g,y)=>{y&&c(g.getState().scene,y)},insertInContainerBefore:(g,y,w)=>{if(!y||!w)return;const S=g.getState().scene;S.__r3f&&a(S,y,w)},getRootHostContext:()=>null,getChildHostContext:g=>g,finalizeInitialChildren(g){var y;return!!((y=g==null?void 0:g.__r3f)!=null?y:{}).handlers},prepareUpdate(g,y,w,S){var E;if(((E=g==null?void 0:g.__r3f)!=null?E:{}).primitive&&S.object&&S.object!==g)return[!0];{const{args:R=[],children:A,...I}=S,{args:L=[],children:D,...F}=w;if(!Array.isArray(R))throw new Error("R3F: the args prop must be an array!");if(R.some((j,W)=>j!==L[W]))return[!0];const G=F0(g,I,F,!0);return G.changes.length?[!1,G]:null}},commitUpdate(g,[y,w],S,E,P,R){y?h(g,S,P,R):dh(g,w)},commitMount(g,y,w,S){var E;const P=(E=g.__r3f)!=null?E:{};g.raycast&&P.handlers&&P.eventCount&&Uf(g).getState().internal.interaction.push(g)},getPublicInstance:g=>g,prepareForCommit:()=>null,preparePortalMount:g=>Ol(g.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(g){var y;const{attach:w,parent:S}=(y=g.__r3f)!=null?y:{};w&&S&&ag(S,g,w),g.isObject3D&&(g.visible=!1),Ul(g)},unhideInstance(g,y){var w;const{attach:S,parent:E}=(w=g.__r3f)!=null?w:{};S&&E&&fh(E,g,S),(g.isObject3D&&y.visible==null||y.visible)&&(g.visible=!0),Ul(g)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>t(),beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Rn.fun(performance.now)?performance.now:Rn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Rn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Rn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:dh}}var ng,rg;const ch=e=>"colorSpace"in e||"outputColorSpace"in e,I0=()=>{var e;return(e=Sp.ColorManagement)!=null?e:null},M0=e=>e&&e.isOrthographicCamera,cS=e=>e&&e.hasOwnProperty("current"),sc=typeof window<"u"&&((ng=window.document)!=null&&ng.createElement||((rg=window.navigator)==null?void 0:rg.product)==="ReactNative")?$.useLayoutEffect:$.useEffect;function O0(e){const t=$.useRef(e);return sc(()=>void(t.current=e),[e]),t}function fS({set:e}){return sc(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class U0 extends $.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}U0.getDerivedStateFromError=()=>({error:!0});const N0="__default",ig=new Map,dS=e=>e&&!!e.memoized&&!!e.changes;function D0(e){var t;const s=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],s),e[1]):e}const Fu=e=>{var t;return(t=e.__r3f)==null?void 0:t.root.getState()};function Uf(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const Rn={obj:e=>e===Object(e)&&!Rn.arr(e)&&typeof e!="function",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",boo:e=>typeof e=="boolean",und:e=>e===void 0,arr:e=>Array.isArray(e),equ(e,t,{arrays:s="shallow",objects:u="reference",strict:a=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(Rn.str(e)||Rn.num(e)||Rn.boo(e))return e===t;const o=Rn.obj(e);if(o&&u==="reference")return e===t;const c=Rn.arr(e);if(c&&s==="reference")return e===t;if((c||o)&&e===t)return!0;let h;for(h in e)if(!(h in t))return!1;if(o&&s==="shallow"&&u==="shallow"){for(h in a?t:e)if(!Rn.equ(e[h],t[h],{strict:a,objects:"reference"}))return!1}else for(h in a?t:e)if(e[h]!==t[h])return!1;if(Rn.und(h)){if(c&&e.length===0&&t.length===0||o&&Object.keys(e).length===0&&Object.keys(t).length===0)return!0;if(e!==t)return!1}return!0}};function hS(e){e.dispose&&e.type!=="Scene"&&e.dispose();for(const t in e)t.dispose==null||t.dispose(),delete e[t]}function Ol(e,t){const s=e;return s.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function Qh(e,t){let s=e;if(t.includes("-")){const u=t.split("-"),a=u.pop();return s=u.reduce((o,c)=>o[c],e),{target:s,key:a}}else return{target:s,key:t}}const og=/-\d+$/;function fh(e,t,s){if(Rn.str(s)){if(og.test(s)){const o=s.replace(og,""),{target:c,key:h}=Qh(e,o);Array.isArray(c[h])||(c[h]=[])}const{target:u,key:a}=Qh(e,s);t.__r3f.previousAttach=u[a],u[a]=t}else t.__r3f.previousAttach=s(e,t)}function ag(e,t,s){var u,a;if(Rn.str(s)){const{target:o,key:c}=Qh(e,s),h=t.__r3f.previousAttach;h===void 0?delete o[c]:o[c]=h}else(u=t.__r3f)==null||u.previousAttach==null||u.previousAttach(e,t);(a=t.__r3f)==null||delete a.previousAttach}function F0(e,{children:t,key:s,ref:u,...a},{children:o,key:c,ref:h,...d}={},m=!1){const g=e.__r3f,y=Object.entries(a),w=[];if(m){const E=Object.keys(d);for(let P=0;P<E.length;P++)a.hasOwnProperty(E[P])||y.unshift([E[P],N0+"remove"])}y.forEach(([E,P])=>{var R;if((R=e.__r3f)!=null&&R.primitive&&E==="object"||Rn.equ(P,d[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return w.push([E,P,!0,[]]);let A=[];E.includes("-")&&(A=E.split("-")),w.push([E,P,!1,A]);for(const I in a){const L=a[I];I.startsWith(`${E}-`)&&w.push([I,L,!1,I.split("-")])}});const S={...a};return g!=null&&g.memoizedProps&&g!=null&&g.memoizedProps.args&&(S.args=g.memoizedProps.args),g!=null&&g.memoizedProps&&g!=null&&g.memoizedProps.attach&&(S.attach=g.memoizedProps.attach),{memoized:S,changes:w}}function dh(e,t){var s;const u=e.__r3f,a=u==null?void 0:u.root,o=a==null||a.getState==null?void 0:a.getState(),{memoized:c,changes:h}=dS(t)?t:F0(e,t),d=u==null?void 0:u.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(let g=0;g<h.length;g++){let[y,w,S,E]=h[g];if(ch(e)){const I="srgb",L="srgb-linear";y==="encoding"?(y="colorSpace",w=w===3001?I:L):y==="outputEncoding"&&(y="outputColorSpace",w=w===3001?I:L)}let P=e,R=P[y];if(E.length&&(R=E.reduce((A,I)=>A[I],e),!(R&&R.set))){const[A,...I]=E.reverse();P=I.reverse().reduce((L,D)=>L[D],e),y=A}if(w===N0+"remove")if(P.constructor){let A=ig.get(P.constructor);A||(A=new P.constructor,ig.set(P.constructor,A)),w=A[y]}else w=0;if(S&&u)w?u.handlers[y]=w:delete u.handlers[y],u.eventCount=Object.keys(u.handlers).length;else if(R&&R.set&&(R.copy||R instanceof $d)){if(Array.isArray(w))R.fromArray?R.fromArray(w):R.set(...w);else if(R.copy&&w&&w.constructor&&R.constructor===w.constructor)R.copy(w);else if(w!==void 0){const A=R instanceof _a;!A&&R.setScalar?R.setScalar(w):R instanceof $d&&w instanceof $d?R.mask=w.mask:R.set(w),!I0()&&o&&!o.linear&&A&&R.convertSRGBToLinear()}}else if(P[y]=w,P[y]instanceof E0&&P[y].format===Qx&&P[y].type===Zx&&o){const A=P[y];ch(A)&&ch(o.gl)?A.colorSpace=o.gl.outputColorSpace:A.encoding=o.gl.outputEncoding}Ul(e)}if(u&&u.parent&&e.raycast&&d!==u.eventCount){const g=Uf(e).getState().internal,y=g.interaction.indexOf(e);y>-1&&g.interaction.splice(y,1),u.eventCount&&g.interaction.push(e)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(s=e.__r3f)!=null&&s.parent&&Zh(e),e}function Ul(e){var t,s;const u=(t=e.__r3f)==null||(s=t.root)==null||s.getState==null?void 0:s.getState();u&&u.internal.frames===0&&u.invalidate()}function Zh(e){e.onUpdate==null||e.onUpdate(e)}function pS(e,t){e.manual||(M0(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function yf(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function mS(){var e;const t=typeof self<"u"&&self||typeof window<"u"&&window;if(!t)return Wu.DefaultEventPriority;switch((e=t.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Wu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wu.ContinuousEventPriority;default:return Wu.DefaultEventPriority}}function z0(e,t,s,u){const a=s.get(t);a&&(s.delete(t),s.size===0&&(e.delete(u),a.target.releasePointerCapture(u)))}function gS(e,t){const{internal:s}=e.getState();s.interaction=s.interaction.filter(u=>u!==t),s.initialHits=s.initialHits.filter(u=>u!==t),s.hovered.forEach((u,a)=>{(u.eventObject===t||u.object===t)&&s.hovered.delete(a)}),s.capturedMap.forEach((u,a)=>{z0(s.capturedMap,t,u,a)})}function vS(e){function t(d){const{internal:m}=e.getState(),g=d.offsetX-m.initialClick[0],y=d.offsetY-m.initialClick[1];return Math.round(Math.sqrt(g*g+y*y))}function s(d){return d.filter(m=>["Move","Over","Enter","Out","Leave"].some(g=>{var y;return(y=m.__r3f)==null?void 0:y.handlers["onPointer"+g]}))}function u(d,m){const g=e.getState(),y=new Set,w=[],S=m?m(g.internal.interaction):g.internal.interaction;for(let A=0;A<S.length;A++){const I=Fu(S[A]);I&&(I.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(d,g);function E(A){const I=Fu(A);if(!I||!I.events.enabled||I.raycaster.camera===null)return[];if(I.raycaster.camera===void 0){var L;I.events.compute==null||I.events.compute(d,I,(L=I.previousRoot)==null?void 0:L.getState()),I.raycaster.camera===void 0&&(I.raycaster.camera=null)}return I.raycaster.camera?I.raycaster.intersectObject(A,!0):[]}let P=S.flatMap(E).sort((A,I)=>{const L=Fu(A.object),D=Fu(I.object);return!L||!D?A.distance-I.distance:D.events.priority-L.events.priority||A.distance-I.distance}).filter(A=>{const I=yf(A);return y.has(I)?!1:(y.add(I),!0)});g.events.filter&&(P=g.events.filter(P,g));for(const A of P){let I=A.object;for(;I;){var R;(R=I.__r3f)!=null&&R.eventCount&&w.push({...A,eventObject:I}),I=I.parent}}if("pointerId"in d&&g.internal.capturedMap.has(d.pointerId))for(let A of g.internal.capturedMap.get(d.pointerId).values())y.has(yf(A.intersection))||w.push(A.intersection);return w}function a(d,m,g,y){const w=e.getState();if(d.length){const S={stopped:!1};for(const E of d){const P=Fu(E.object)||w,{raycaster:R,pointer:A,camera:I,internal:L}=P,D=new Nt(A.x,A.y,0).unproject(I),F=J=>{var ie,Y;return(ie=(Y=L.capturedMap.get(J))==null?void 0:Y.has(E.eventObject))!=null?ie:!1},G=J=>{const ie={intersection:E,target:m.target};L.capturedMap.has(J)?L.capturedMap.get(J).set(E.eventObject,ie):L.capturedMap.set(J,new Map([[E.eventObject,ie]])),m.target.setPointerCapture(J)},j=J=>{const ie=L.capturedMap.get(J);ie&&z0(L.capturedMap,E.eventObject,ie,J)};let W={};for(let J in m){let ie=m[J];typeof ie!="function"&&(W[J]=ie)}let q={...E,...W,pointer:A,intersections:d,stopped:S.stopped,delta:g,unprojectedPoint:D,ray:R.ray,camera:I,stopPropagation(){const J="pointerId"in m&&L.capturedMap.get(m.pointerId);if((!J||J.has(E.eventObject))&&(q.stopped=S.stopped=!0,L.hovered.size&&Array.from(L.hovered.values()).find(ie=>ie.eventObject===E.eventObject))){const ie=d.slice(0,d.indexOf(E));o([...ie,E])}},target:{hasPointerCapture:F,setPointerCapture:G,releasePointerCapture:j},currentTarget:{hasPointerCapture:F,setPointerCapture:G,releasePointerCapture:j},nativeEvent:m};if(y(q),S.stopped===!0)break}}return d}function o(d){const{internal:m}=e.getState();for(const g of m.hovered.values())if(!d.length||!d.find(y=>y.object===g.object&&y.index===g.index&&y.instanceId===g.instanceId)){const w=g.eventObject.__r3f,S=w==null?void 0:w.handlers;if(m.hovered.delete(yf(g)),w!=null&&w.eventCount){const E={...g,intersections:d};S.onPointerOut==null||S.onPointerOut(E),S.onPointerLeave==null||S.onPointerLeave(E)}}}function c(d,m){for(let g=0;g<m.length;g++){const y=m[g].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(d)}}function h(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return m=>{const{internal:g}=e.getState();"pointerId"in m&&g.capturedMap.has(m.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(m.pointerId)&&(g.capturedMap.delete(m.pointerId),o([]))})}}return function(g){const{onPointerMissed:y,internal:w}=e.getState();w.lastEvent.current=g;const S=d==="onPointerMove",E=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",R=u(g,S?s:void 0),A=E?t(g):0;d==="onPointerDown"&&(w.initialClick=[g.offsetX,g.offsetY],w.initialHits=R.map(L=>L.eventObject)),E&&!R.length&&A<=2&&(c(g,w.interaction),y&&y(g)),S&&o(R);function I(L){const D=L.eventObject,F=D.__r3f,G=F==null?void 0:F.handlers;if(F!=null&&F.eventCount)if(S){if(G.onPointerOver||G.onPointerEnter||G.onPointerOut||G.onPointerLeave){const j=yf(L),W=w.hovered.get(j);W?W.stopped&&L.stopPropagation():(w.hovered.set(j,L),G.onPointerOver==null||G.onPointerOver(L),G.onPointerEnter==null||G.onPointerEnter(L))}G.onPointerMove==null||G.onPointerMove(L)}else{const j=G[d];j?(!E||w.initialHits.includes(D))&&(c(g,w.interaction.filter(W=>!w.initialHits.includes(W))),j(L)):E&&w.initialHits.includes(D)&&c(g,w.interaction.filter(W=>!w.initialHits.includes(W)))}}a(R,g,A,I)}}return{handlePointer:h}}const B0=e=>!!(e!=null&&e.render),j0=$.createContext(null),yS=(e,t)=>{const s=q2((h,d)=>{const m=new Nt,g=new Nt,y=new Nt;function w(A=d().camera,I=g,L=d().size){const{width:D,height:F,top:G,left:j}=L,W=D/F;I instanceof Nt?y.copy(I):y.set(...I);const q=A.getWorldPosition(m).distanceTo(y);if(M0(A))return{width:D/A.zoom,height:F/A.zoom,top:G,left:j,factor:1,distance:q,aspect:W};{const J=A.fov*Math.PI/180,ie=2*Math.tan(J/2)*q,Y=ie*(D/F);return{width:Y,height:ie,top:G,left:j,factor:D/Y,distance:q,aspect:W}}}let S;const E=A=>h(I=>({performance:{...I.performance,current:A}})),P=new ur;return{set:h,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>e(d(),A),advance:(A,I)=>t(A,I,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new l2,pointer:P,mouse:P,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=d();S&&clearTimeout(S),A.performance.current!==A.performance.min&&E(A.performance.min),S=setTimeout(()=>E(d().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:w},setEvents:A=>h(I=>({...I,events:{...I.events,...A}})),setSize:(A,I,L,D,F)=>{const G=d().camera,j={width:A,height:I,top:D||0,left:F||0,updateStyle:L};h(W=>({size:j,viewport:{...W.viewport,...w(G,g,j)}}))},setDpr:A=>h(I=>{const L=D0(A);return{viewport:{...I.viewport,dpr:L,initialDpr:I.viewport.initialDpr||L}}}),setFrameloop:(A="always")=>{const I=d().clock;I.stop(),I.elapsedTime=0,A!=="never"&&(I.start(),I.elapsedTime=0),h(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:$.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,I,L)=>{const D=d().internal;return D.priority=D.priority+(I>0?1:0),D.subscribers.push({ref:A,priority:I,store:L}),D.subscribers=D.subscribers.sort((F,G)=>F.priority-G.priority),()=>{const F=d().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(I>0?1:0),F.subscribers=F.subscribers.filter(G=>G.ref!==A))}}}}}),u=s.getState();let a=u.size,o=u.viewport.dpr,c=u.camera;return s.subscribe(()=>{const{camera:h,size:d,viewport:m,gl:g,set:y}=s.getState();if(d.width!==a.width||d.height!==a.height||m.dpr!==o){var w;a=d,o=m.dpr,pS(h,d),g.setPixelRatio(m.dpr);const S=(w=d.updateStyle)!=null?w:typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(d.width,d.height,S)}h!==c&&(c=h,y(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(h)}})))}),s.subscribe(h=>e(h)),s};let _f,_S=new Set,wS=new Set,xS=new Set;function hh(e,t){if(e.size)for(const{callback:s}of e.values())s(t)}function zu(e,t){switch(e){case"before":return hh(_S,t);case"after":return hh(wS,t);case"tail":return hh(xS,t)}}let ph,mh;function gh(e,t,s){let u=t.clock.getDelta();for(t.frameloop==="never"&&typeof e=="number"&&(u=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),ph=t.internal.subscribers,_f=0;_f<ph.length;_f++)mh=ph[_f],mh.ref.current(mh.store.getState(),u,s);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}function SS(e){let t=!1,s=!1,u,a,o;function c(m){a=requestAnimationFrame(c),t=!0,u=0,zu("before",m),s=!0;for(const y of e.values()){var g;o=y.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((g=o.gl.xr)!=null&&g.isPresenting)&&(u+=gh(m,o))}if(s=!1,zu("after",m),u===0)return zu("tail",m),t=!1,cancelAnimationFrame(a)}function h(m,g=1){var y;if(!m)return e.forEach(w=>h(w.store.getState(),g));(y=m.gl.xr)!=null&&y.isPresenting||!m.internal.active||m.frameloop==="never"||(g>1?m.internal.frames=Math.min(60,m.internal.frames+g):s?m.internal.frames=2:m.internal.frames=1,t||(t=!0,requestAnimationFrame(c)))}function d(m,g=!0,y,w){if(g&&zu("before",m),y)gh(m,y,w);else for(const S of e.values())gh(m,S.store.getState());g&&zu("after",m)}return{loop:c,invalidate:h,advance:d}}function G0(){const e=$.useContext(j0);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function ro(e=s=>s,t){return G0()(e,t)}function bS(e,t=0){const s=G0(),u=s.getState().internal.subscribe,a=O0(e);return sc(()=>u(a,t,s),[t,u,s]),null}const Bl=new Map,{invalidate:sg,advance:lg}=SS(Bl),{reconciler:Yf,applyProps:Al}=uS(Bl,mS),Rl={objects:"shallow",strict:!1},ES=(e,t)=>{const s=typeof e=="function"?e(t):e;return B0(s)?s:new r2({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function TS(e,t){const s=typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement;if(t){const{width:u,height:a,top:o,left:c,updateStyle:h=s}=t;return{width:u,height:a,top:o,left:c,updateStyle:h}}else if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:u,height:a,top:o,left:c}=e.parentElement.getBoundingClientRect();return{width:u,height:a,top:o,left:c,updateStyle:s}}else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas)return{width:e.width,height:e.height,top:0,left:0,updateStyle:s};return{width:0,height:0,top:0,left:0}}function CS(e){const t=Bl.get(e),s=t==null?void 0:t.fiber,u=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=u||yS(sg,lg),c=s||Yf.createContainer(o,Wu.ConcurrentRoot,null,!1,null,"",a,null);t||Bl.set(e,{fiber:c,store:o});let h,d=!1,m;return{configure(g={}){let{gl:y,size:w,scene:S,events:E,onCreated:P,shadows:R=!1,linear:A=!1,flat:I=!1,legacy:L=!1,orthographic:D=!1,frameloop:F="always",dpr:G=[1,2],performance:j,raycaster:W,camera:q,onPointerMissed:J}=g,ie=o.getState(),Y=ie.gl;ie.gl||ie.set({gl:Y=ES(y,e)});let ce=ie.raycaster;ce||ie.set({raycaster:ce=new $x});const{params:pe,...xe}=W||{};if(Rn.equ(xe,ce,Rl)||Al(ce,{...xe}),Rn.equ(pe,ce.params,Rl)||Al(ce,{params:{...ce.params,...pe}}),!ie.camera||ie.camera===m&&!Rn.equ(m,q,Rl)){m=q;const H=q instanceof i2,B=H?q:D?new Xu(0,0,0,0,.1,1e3):new zl(75,0,.1,1e3);H||(B.position.z=5,q&&(Al(B,q),("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(B.manual=!0,B.updateProjectionMatrix())),!ie.camera&&!(q!=null&&q.rotation)&&B.lookAt(0,0,0)),ie.set({camera:B}),ce.camera=B}if(!ie.scene){let H;S instanceof Yh?H=S:(H=new Yh,S&&Al(H,S)),ie.set({scene:Ol(H)})}if(!ie.xr){var se;const H=(te,oe)=>{const ee=o.getState();ee.frameloop!=="never"&&lg(te,!0,ee,oe)},B=()=>{const te=o.getState();te.gl.xr.enabled=te.gl.xr.isPresenting,te.gl.xr.setAnimationLoop(te.gl.xr.isPresenting?H:null),te.gl.xr.isPresenting||sg(te)},Q={connect(){const te=o.getState().gl;te.xr.addEventListener("sessionstart",B),te.xr.addEventListener("sessionend",B)},disconnect(){const te=o.getState().gl;te.xr.removeEventListener("sessionstart",B),te.xr.removeEventListener("sessionend",B)}};typeof((se=Y.xr)==null?void 0:se.addEventListener)=="function"&&Q.connect(),ie.set({xr:Q})}if(Y.shadowMap){const H=Y.shadowMap.enabled,B=Y.shadowMap.type;if(Y.shadowMap.enabled=!!R,Rn.boo(R))Y.shadowMap.type=eh;else if(Rn.str(R)){var Ee;const Q={basic:o2,percentage:a2,soft:eh,variance:s2};Y.shadowMap.type=(Ee=Q[R])!=null?Ee:eh}else Rn.obj(R)&&Object.assign(Y.shadowMap,R);(H!==Y.shadowMap.enabled||B!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const X=I0();X&&("enabled"in X?X.enabled=!L:"legacyMode"in X&&(X.legacyMode=L)),d||Al(Y,{outputEncoding:A?3e3:3001,toneMapping:I?e2:t2}),ie.legacy!==L&&ie.set(()=>({legacy:L})),ie.linear!==A&&ie.set(()=>({linear:A})),ie.flat!==I&&ie.set(()=>({flat:I})),y&&!Rn.fun(y)&&!B0(y)&&!Rn.equ(y,Y,Rl)&&Al(Y,y),E&&!ie.events.handlers&&ie.set({events:E(o)});const K=TS(e,w);return Rn.equ(K,ie.size,Rl)||ie.setSize(K.width,K.height,K.updateStyle,K.top,K.left),G&&ie.viewport.dpr!==D0(G)&&ie.setDpr(G),ie.frameloop!==F&&ie.setFrameloop(F),ie.onPointerMissed||ie.set({onPointerMissed:J}),j&&!Rn.equ(j,ie.performance,Rl)&&ie.set(H=>({performance:{...H.performance,...j}})),h=P,d=!0,this},render(g){return d||this.configure(),Yf.updateContainer(Pe.jsx(kS,{store:o,children:g,onCreated:h,rootElement:e}),c,null,()=>{}),o},unmount(){W0(e)}}}function kS({store:e,children:t,onCreated:s,rootElement:u}){return sc(()=>{const a=e.getState();a.set(o=>({internal:{...o.internal,active:!0}})),s&&s(a),e.getState().events.connected||a.events.connect==null||a.events.connect(u)},[]),Pe.jsx(j0.Provider,{value:e,children:t})}function W0(e,t){const s=Bl.get(e),u=s==null?void 0:s.fiber;if(u){const a=s==null?void 0:s.store.getState();a&&(a.internal.active=!1),Yf.updateContainer(null,u,null,()=>{a&&setTimeout(()=>{try{var o,c,h,d;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(c=o.renderLists)==null||c.dispose==null||c.dispose(),(h=a.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(d=a.gl)!=null&&d.xr&&a.xr.disconnect(),hS(a),Bl.delete(e)}catch{}},500)})}}Yf.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:$.version});const vh={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function AS(e){const{handlePointer:t}=vS(e);return{priority:1,enabled:!0,compute(s,u,a){u.pointer.set(s.offsetX/u.size.width*2-1,-(s.offsetY/u.size.height)*2+1),u.raycaster.setFromCamera(u.pointer,u.camera)},connected:void 0,handlers:Object.keys(vh).reduce((s,u)=>({...s,[u]:t(u)}),{}),update:()=>{var s;const{events:u,internal:a}=e.getState();(s=a.lastEvent)!=null&&s.current&&u.handlers&&u.handlers.onPointerMove(a.lastEvent.current)},connect:s=>{var u;const{set:a,events:o}=e.getState();o.disconnect==null||o.disconnect(),a(c=>({events:{...c.events,connected:s}})),Object.entries((u=o.handlers)!=null?u:[]).forEach(([c,h])=>{const[d,m]=vh[c];s.addEventListener(d,h,{passive:m})})},disconnect:()=>{const{set:s,events:u}=e.getState();if(u.connected){var a;Object.entries((a=u.handlers)!=null?a:[]).forEach(([o,c])=>{if(u&&u.connected instanceof HTMLElement){const[h]=vh[o];u.connected.removeEventListener(h,c)}}),s(o=>({events:{...o.events,connected:void 0}}))}}}}var yh,ug;function RS(){if(ug)return yh;ug=1;function e(t,s,u){var a,o,c,h,d;s==null&&(s=100);function m(){var y=Date.now()-h;y<s&&y>=0?a=setTimeout(m,s-y):(a=null,u||(d=t.apply(c,o),c=o=null))}var g=function(){c=this,o=arguments,h=Date.now();var y=u&&!a;return a||(a=setTimeout(m,s)),y&&(d=t.apply(c,o),c=o=null),d};return g.clear=function(){a&&(clearTimeout(a),a=null)},g.flush=function(){a&&(d=t.apply(c,o),c=o=null,clearTimeout(a),a=null)},g}return e.debounce=e,yh=e,yh}var PS=RS();const cg=_p(PS);var LS=Object.defineProperty,IS=Object.defineProperties,MS=Object.getOwnPropertyDescriptors,fg=Object.getOwnPropertySymbols,OS=Object.prototype.hasOwnProperty,US=Object.prototype.propertyIsEnumerable,dg=(e,t,s)=>t in e?LS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,hg=(e,t)=>{for(var s in t||(t={}))OS.call(t,s)&&dg(e,s,t[s]);if(fg)for(var s of fg(t))US.call(t,s)&&dg(e,s,t[s]);return e},NS=(e,t)=>IS(e,MS(t)),pg,mg;typeof window<"u"&&((pg=window.document)!=null&&pg.createElement||((mg=window.navigator)==null?void 0:mg.product)==="ReactNative")?$.useLayoutEffect:$.useEffect;function H0(e,t,s){if(!e)return;if(s(e)===!0)return e;let u=e.child;for(;u;){const a=H0(u,t,s);if(a)return a;u=u.sibling}}function V0(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const gg=console.error;console.error=function(){const e=[...arguments].join("");if(e!=null&&e.startsWith("Warning:")&&e.includes("useContext")){console.error=gg;return}return gg.apply(this,arguments)};const bp=V0($.createContext(null));class Y0 extends $.Component{render(){return $.createElement(bp.Provider,{value:this._reactInternals},this.props.children)}}function DS(){const e=$.useContext(bp);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=$.useId();return $.useMemo(()=>{for(const u of[e,e==null?void 0:e.alternate]){if(!u)continue;const a=H0(u,!1,o=>{let c=o.memoizedState;for(;c;){if(c.memoizedState===t)return!0;c=c.next}});if(a)return a}},[e,t])}function FS(){const e=DS(),[t]=$.useState(()=>new Map);t.clear();let s=e;for(;s;){if(s.type&&typeof s.type=="object"){const a=s.type._context===void 0&&s.type.Provider===s.type?s.type:s.type._context;a&&a!==bp&&!t.has(a)&&t.set(a,$.useContext(V0(a)))}s=s.return}return t}function zS(){const e=FS();return $.useMemo(()=>Array.from(e.keys()).reduce((t,s)=>u=>$.createElement(t,null,$.createElement(s.Provider,NS(hg({},u),{value:e.get(s)}))),t=>$.createElement(Y0,hg({},t))),[e])}function BS({debounce:e,scroll:t,polyfill:s,offsetSize:u}={debounce:0,scroll:!1,offsetSize:!1}){const a=s||typeof window<"u"&&window.ResizeObserver,[o,c]=$.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!a)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const h=$.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),d=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,g=$.useRef(!1);$.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[y,w,S]=$.useMemo(()=>{const A=()=>{if(!h.current.element)return;const{left:I,top:L,width:D,height:F,bottom:G,right:j,x:W,y:q}=h.current.element.getBoundingClientRect(),J={left:I,top:L,width:D,height:F,bottom:G,right:j,x:W,y:q};h.current.element instanceof HTMLElement&&u&&(J.height=h.current.element.offsetHeight,J.width=h.current.element.offsetWidth),Object.freeze(J),g.current&&!HS(h.current.lastBounds,J)&&c(h.current.lastBounds=J)};return[A,m?cg(A,m):A,d?cg(A,d):A]},[c,u,d,m]);function E(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",S,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function P(){var A;h.current.element&&(h.current.resizeObserver=new a(w),(A=h.current.resizeObserver)==null||A.observe(h.current.element),t&&h.current.scrollContainers&&h.current.scrollContainers.forEach(I=>I.addEventListener("scroll",S,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const R=A=>{!A||A===h.current.element||(E(),h.current.element=A,h.current.scrollContainers=X0(A),P())};return GS(S,!!t),jS(w),$.useEffect(()=>{E(),P()},[t,S,w]),$.useEffect(()=>E,[]),[R,o,y]}function jS(e){$.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function GS(e,t){$.useEffect(()=>{if(t){const s=e;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[e,t])}function X0(e){const t=[];if(!e||e===document.body)return t;const{overflow:s,overflowX:u,overflowY:a}=window.getComputedStyle(e);return[s,u,a].some(o=>o==="auto"||o==="scroll")&&t.push(e),[...t,...X0(e.parentElement)]}const WS=["x","y","top","bottom","left","right","width","height"],HS=(e,t)=>WS.every(s=>e[s]===t[s]),VS=$.forwardRef(function({children:t,fallback:s,resize:u,style:a,gl:o,events:c=AS,eventSource:h,eventPrefix:d,shadows:m,linear:g,flat:y,legacy:w,orthographic:S,frameloop:E,dpr:P,performance:R,raycaster:A,camera:I,scene:L,onPointerMissed:D,onCreated:F,...G},j){$.useMemo(()=>lS(u2),[]);const W=zS(),[q,J]=BS({scroll:!0,debounce:{scroll:50,resize:0},...u}),ie=$.useRef(null),Y=$.useRef(null);$.useImperativeHandle(j,()=>ie.current);const ce=O0(D),[pe,xe]=$.useState(!1),[se,Ee]=$.useState(!1);if(pe)throw pe;if(se)throw se;const X=$.useRef(null);sc(()=>{const H=ie.current;J.width>0&&J.height>0&&H&&(X.current||(X.current=CS(H)),X.current.configure({gl:o,events:c,shadows:m,linear:g,flat:y,legacy:w,orthographic:S,frameloop:E,dpr:P,performance:R,raycaster:A,camera:I,scene:L,size:J,onPointerMissed:(...B)=>ce.current==null?void 0:ce.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(h?cS(h)?h.current:h:Y.current),d&&B.setEvents({compute:(Q,te)=>{const oe=Q[d+"X"],ee=Q[d+"Y"];te.pointer.set(oe/te.size.width*2-1,-(ee/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),F==null||F(B)}}),X.current.render(Pe.jsx(W,{children:Pe.jsx(U0,{set:Ee,children:Pe.jsx($.Suspense,{fallback:Pe.jsx(fS,{set:xe}),children:t})})})))}),$.useEffect(()=>{const H=ie.current;if(H)return()=>W0(H)},[]);const K=h?"none":"auto";return Pe.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...a},...G,children:Pe.jsx("div",{ref:q,style:{width:"100%",height:"100%"},children:Pe.jsx("canvas",{ref:ie,style:{display:"block"},children:s})})})}),YS=$.forwardRef(function(t,s){return Pe.jsx(Y0,{children:Pe.jsx(VS,{...t,ref:s})})});function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)({}).hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},jl.apply(null,arguments)}const XS=parseInt(T0.replace(/\D+/g,"")),J0=XS>=125?"uv1":"uv2";var JS=Object.defineProperty,qS=(e,t,s)=>t in e?JS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,KS=(e,t,s)=>(qS(e,t+"",s),s);class QS{constructor(){KS(this,"_listeners")}addEventListener(t,s){this._listeners===void 0&&(this._listeners={});const u=this._listeners;u[t]===void 0&&(u[t]=[]),u[t].indexOf(s)===-1&&u[t].push(s)}hasEventListener(t,s){if(this._listeners===void 0)return!1;const u=this._listeners;return u[t]!==void 0&&u[t].indexOf(s)!==-1}removeEventListener(t,s){if(this._listeners===void 0)return;const a=this._listeners[t];if(a!==void 0){const o=a.indexOf(s);o!==-1&&a.splice(o,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const u=this._listeners[t.type];if(u!==void 0){t.target=this;const a=u.slice(0);for(let o=0,c=a.length;o<c;o++)a[o].call(this,t);t.target=null}}}var ZS=Object.defineProperty,$S=(e,t,s)=>t in e?ZS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Tt=(e,t,s)=>($S(e,typeof t!="symbol"?t+"":t,s),s);const wf=new c2,vg=new f2,eb=Math.cos(70*(Math.PI/180)),yg=(e,t)=>(e%t+t)%t;let tb=class extends QS{constructor(t,s){super(),Tt(this,"object"),Tt(this,"domElement"),Tt(this,"enabled",!0),Tt(this,"target",new Nt),Tt(this,"minDistance",0),Tt(this,"maxDistance",1/0),Tt(this,"minZoom",0),Tt(this,"maxZoom",1/0),Tt(this,"minPolarAngle",0),Tt(this,"maxPolarAngle",Math.PI),Tt(this,"minAzimuthAngle",-1/0),Tt(this,"maxAzimuthAngle",1/0),Tt(this,"enableDamping",!1),Tt(this,"dampingFactor",.05),Tt(this,"enableZoom",!0),Tt(this,"zoomSpeed",1),Tt(this,"enableRotate",!0),Tt(this,"rotateSpeed",1),Tt(this,"enablePan",!0),Tt(this,"panSpeed",1),Tt(this,"screenSpacePanning",!0),Tt(this,"keyPanSpeed",7),Tt(this,"zoomToCursor",!1),Tt(this,"autoRotate",!1),Tt(this,"autoRotateSpeed",2),Tt(this,"reverseOrbit",!1),Tt(this,"reverseHorizontalOrbit",!1),Tt(this,"reverseVerticalOrbit",!1),Tt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Tt(this,"mouseButtons",{LEFT:Cl.ROTATE,MIDDLE:Cl.DOLLY,RIGHT:Cl.PAN}),Tt(this,"touches",{ONE:kl.ROTATE,TWO:kl.DOLLY_PAN}),Tt(this,"target0"),Tt(this,"position0"),Tt(this,"zoom0"),Tt(this,"_domElementKeyEvents",null),Tt(this,"getPolarAngle"),Tt(this,"getAzimuthalAngle"),Tt(this,"setPolarAngle"),Tt(this,"setAzimuthalAngle"),Tt(this,"getDistance"),Tt(this,"getZoomScale"),Tt(this,"listenToKeyEvents"),Tt(this,"stopListenToKeyEvents"),Tt(this,"saveState"),Tt(this,"reset"),Tt(this,"update"),Tt(this,"connect"),Tt(this,"dispose"),Tt(this,"dollyIn"),Tt(this,"dollyOut"),Tt(this,"getScale"),Tt(this,"setScale"),this.object=t,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=ae=>{let Re=yg(ae,2*Math.PI),rt=g.phi;rt<0&&(rt+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ft=Math.abs(Re-rt);2*Math.PI-ft<ft&&(Re<rt?Re+=2*Math.PI:rt+=2*Math.PI),y.phi=Re-rt,u.update()},this.setAzimuthalAngle=ae=>{let Re=yg(ae,2*Math.PI),rt=g.theta;rt<0&&(rt+=2*Math.PI),Re<0&&(Re+=2*Math.PI);let ft=Math.abs(Re-rt);2*Math.PI-ft<ft&&(Re<rt?Re+=2*Math.PI:rt+=2*Math.PI),y.theta=Re-rt,u.update()},this.getDistance=()=>u.object.position.distanceTo(u.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",nt),this._domElementKeyEvents=ae},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",nt),this._domElementKeyEvents=null},this.saveState=()=>{u.target0.copy(u.target),u.position0.copy(u.object.position),u.zoom0=u.object.zoom},this.reset=()=>{u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(a),u.update(),d=h.NONE},this.update=(()=>{const ae=new Nt,Re=new Nt(0,1,0),rt=new Zu().setFromUnitVectors(t.up,Re),ft=rt.clone().invert(),Ze=new Nt,Ot=new Zu,Pn=2*Math.PI;return function(){const zt=u.object.position;rt.setFromUnitVectors(t.up,Re),ft.copy(rt).invert(),ae.copy(zt).sub(u.target),ae.applyQuaternion(rt),g.setFromVector3(ae),u.autoRotate&&d===h.NONE&&pe(Y()),u.enableDamping?(g.theta+=y.theta*u.dampingFactor,g.phi+=y.phi*u.dampingFactor):(g.theta+=y.theta,g.phi+=y.phi);let nn=u.minAzimuthAngle,Xt=u.maxAzimuthAngle;isFinite(nn)&&isFinite(Xt)&&(nn<-Math.PI?nn+=Pn:nn>Math.PI&&(nn-=Pn),Xt<-Math.PI?Xt+=Pn:Xt>Math.PI&&(Xt-=Pn),nn<=Xt?g.theta=Math.max(nn,Math.min(Xt,g.theta)):g.theta=g.theta>(nn+Xt)/2?Math.max(nn,g.theta):Math.min(Xt,g.theta)),g.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,g.phi)),g.makeSafe(),u.enableDamping===!0?u.target.addScaledVector(S,u.dampingFactor):u.target.add(S),u.zoomToCursor&&q||u.object.isOrthographicCamera?g.radius=te(g.radius):g.radius=te(g.radius*w),ae.setFromSpherical(g),ae.applyQuaternion(ft),zt.copy(u.target).add(ae),u.object.matrixAutoUpdate||u.object.updateMatrix(),u.object.lookAt(u.target),u.enableDamping===!0?(y.theta*=1-u.dampingFactor,y.phi*=1-u.dampingFactor,S.multiplyScalar(1-u.dampingFactor)):(y.set(0,0,0),S.set(0,0,0));let St=!1;if(u.zoomToCursor&&q){let Dt=null;if(u.object instanceof zl&&u.object.isPerspectiveCamera){const yn=ae.length();Dt=te(yn*w);const wn=yn-Dt;u.object.position.addScaledVector(j,wn),u.object.updateMatrixWorld()}else if(u.object.isOrthographicCamera){const yn=new Nt(W.x,W.y,0);yn.unproject(u.object),u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/w)),u.object.updateProjectionMatrix(),St=!0;const wn=new Nt(W.x,W.y,0);wn.unproject(u.object),u.object.position.sub(wn).add(yn),u.object.updateMatrixWorld(),Dt=ae.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),u.zoomToCursor=!1;Dt!==null&&(u.screenSpacePanning?u.target.set(0,0,-1).transformDirection(u.object.matrix).multiplyScalar(Dt).add(u.object.position):(wf.origin.copy(u.object.position),wf.direction.set(0,0,-1).transformDirection(u.object.matrix),Math.abs(u.object.up.dot(wf.direction))<eb?t.lookAt(u.target):(vg.setFromNormalAndCoplanarPoint(u.object.up,u.target),wf.intersectPlane(vg,u.target))))}else u.object instanceof Xu&&u.object.isOrthographicCamera&&(St=w!==1,St&&(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/w)),u.object.updateProjectionMatrix()));return w=1,q=!1,St||Ze.distanceToSquared(u.object.position)>m||8*(1-Ot.dot(u.object.quaternion))>m?(u.dispatchEvent(a),Ze.copy(u.object.position),Ot.copy(u.object.quaternion),St=!1,!0):!1}})(),this.connect=ae=>{u.domElement=ae,u.domElement.style.touchAction="none",u.domElement.addEventListener("contextmenu",tn),u.domElement.addEventListener("pointerdown",xt),u.domElement.addEventListener("pointercancel",Qe),u.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var ae,Re,rt,ft,Ze,Ot;u.domElement&&(u.domElement.style.touchAction="auto"),(ae=u.domElement)==null||ae.removeEventListener("contextmenu",tn),(Re=u.domElement)==null||Re.removeEventListener("pointerdown",xt),(rt=u.domElement)==null||rt.removeEventListener("pointercancel",Qe),(ft=u.domElement)==null||ft.removeEventListener("wheel",tt),(Ze=u.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",Ge),(Ot=u.domElement)==null||Ot.ownerDocument.removeEventListener("pointerup",Qe),u._domElementKeyEvents!==null&&u._domElementKeyEvents.removeEventListener("keydown",nt)};const u=this,a={type:"change"},o={type:"start"},c={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=h.NONE;const m=1e-6,g=new Um,y=new Um;let w=1;const S=new Nt,E=new ur,P=new ur,R=new ur,A=new ur,I=new ur,L=new ur,D=new ur,F=new ur,G=new ur,j=new Nt,W=new ur;let q=!1;const J=[],ie={};function Y(){return 2*Math.PI/60/60*u.autoRotateSpeed}function ce(){return Math.pow(.95,u.zoomSpeed)}function pe(ae){u.reverseOrbit||u.reverseHorizontalOrbit?y.theta+=ae:y.theta-=ae}function xe(ae){u.reverseOrbit||u.reverseVerticalOrbit?y.phi+=ae:y.phi-=ae}const se=(()=>{const ae=new Nt;return function(rt,ft){ae.setFromMatrixColumn(ft,0),ae.multiplyScalar(-rt),S.add(ae)}})(),Ee=(()=>{const ae=new Nt;return function(rt,ft){u.screenSpacePanning===!0?ae.setFromMatrixColumn(ft,1):(ae.setFromMatrixColumn(ft,0),ae.crossVectors(u.object.up,ae)),ae.multiplyScalar(rt),S.add(ae)}})(),X=(()=>{const ae=new Nt;return function(rt,ft){const Ze=u.domElement;if(Ze&&u.object instanceof zl&&u.object.isPerspectiveCamera){const Ot=u.object.position;ae.copy(Ot).sub(u.target);let Pn=ae.length();Pn*=Math.tan(u.object.fov/2*Math.PI/180),se(2*rt*Pn/Ze.clientHeight,u.object.matrix),Ee(2*ft*Pn/Ze.clientHeight,u.object.matrix)}else Ze&&u.object instanceof Xu&&u.object.isOrthographicCamera?(se(rt*(u.object.right-u.object.left)/u.object.zoom/Ze.clientWidth,u.object.matrix),Ee(ft*(u.object.top-u.object.bottom)/u.object.zoom/Ze.clientHeight,u.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),u.enablePan=!1)}})();function K(ae){u.object instanceof zl&&u.object.isPerspectiveCamera||u.object instanceof Xu&&u.object.isOrthographicCamera?w=ae:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),u.enableZoom=!1)}function H(ae){K(w/ae)}function B(ae){K(w*ae)}function Q(ae){if(!u.zoomToCursor||!u.domElement)return;q=!0;const Re=u.domElement.getBoundingClientRect(),rt=ae.clientX-Re.left,ft=ae.clientY-Re.top,Ze=Re.width,Ot=Re.height;W.x=rt/Ze*2-1,W.y=-(ft/Ot)*2+1,j.set(W.x,W.y,1).unproject(u.object).sub(u.object.position).normalize()}function te(ae){return Math.max(u.minDistance,Math.min(u.maxDistance,ae))}function oe(ae){E.set(ae.clientX,ae.clientY)}function ee(ae){Q(ae),D.set(ae.clientX,ae.clientY)}function le(ae){A.set(ae.clientX,ae.clientY)}function fe(ae){P.set(ae.clientX,ae.clientY),R.subVectors(P,E).multiplyScalar(u.rotateSpeed);const Re=u.domElement;Re&&(pe(2*Math.PI*R.x/Re.clientHeight),xe(2*Math.PI*R.y/Re.clientHeight)),E.copy(P),u.update()}function _e(ae){F.set(ae.clientX,ae.clientY),G.subVectors(F,D),G.y>0?H(ce()):G.y<0&&B(ce()),D.copy(F),u.update()}function Oe(ae){I.set(ae.clientX,ae.clientY),L.subVectors(I,A).multiplyScalar(u.panSpeed),X(L.x,L.y),A.copy(I),u.update()}function je(ae){Q(ae),ae.deltaY<0?B(ce()):ae.deltaY>0&&H(ce()),u.update()}function Le(ae){let Re=!1;switch(ae.code){case u.keys.UP:X(0,u.keyPanSpeed),Re=!0;break;case u.keys.BOTTOM:X(0,-u.keyPanSpeed),Re=!0;break;case u.keys.LEFT:X(u.keyPanSpeed,0),Re=!0;break;case u.keys.RIGHT:X(-u.keyPanSpeed,0),Re=!0;break}Re&&(ae.preventDefault(),u.update())}function Ce(){if(J.length==1)E.set(J[0].pageX,J[0].pageY);else{const ae=.5*(J[0].pageX+J[1].pageX),Re=.5*(J[0].pageY+J[1].pageY);E.set(ae,Re)}}function ht(){if(J.length==1)A.set(J[0].pageX,J[0].pageY);else{const ae=.5*(J[0].pageX+J[1].pageX),Re=.5*(J[0].pageY+J[1].pageY);A.set(ae,Re)}}function ot(){const ae=J[0].pageX-J[1].pageX,Re=J[0].pageY-J[1].pageY,rt=Math.sqrt(ae*ae+Re*Re);D.set(0,rt)}function Ve(){u.enableZoom&&ot(),u.enablePan&&ht()}function st(){u.enableZoom&&ot(),u.enableRotate&&Ce()}function et(ae){if(J.length==1)P.set(ae.pageX,ae.pageY);else{const rt=ct(ae),ft=.5*(ae.pageX+rt.x),Ze=.5*(ae.pageY+rt.y);P.set(ft,Ze)}R.subVectors(P,E).multiplyScalar(u.rotateSpeed);const Re=u.domElement;Re&&(pe(2*Math.PI*R.x/Re.clientHeight),xe(2*Math.PI*R.y/Re.clientHeight)),E.copy(P)}function Ue(ae){if(J.length==1)I.set(ae.pageX,ae.pageY);else{const Re=ct(ae),rt=.5*(ae.pageX+Re.x),ft=.5*(ae.pageY+Re.y);I.set(rt,ft)}L.subVectors(I,A).multiplyScalar(u.panSpeed),X(L.x,L.y),A.copy(I)}function lt(ae){const Re=ct(ae),rt=ae.pageX-Re.x,ft=ae.pageY-Re.y,Ze=Math.sqrt(rt*rt+ft*ft);F.set(0,Ze),G.set(0,Math.pow(F.y/D.y,u.zoomSpeed)),H(G.y),D.copy(F)}function He(ae){u.enableZoom&&lt(ae),u.enablePan&&Ue(ae)}function Te(ae){u.enableZoom&&lt(ae),u.enableRotate&&et(ae)}function xt(ae){var Re,rt;u.enabled!==!1&&(J.length===0&&((Re=u.domElement)==null||Re.ownerDocument.addEventListener("pointermove",Ge),(rt=u.domElement)==null||rt.ownerDocument.addEventListener("pointerup",Qe)),fn(ae),ae.pointerType==="touch"?gt(ae):Be(ae))}function Ge(ae){u.enabled!==!1&&(ae.pointerType==="touch"?Ct(ae):$t(ae))}function Qe(ae){var Re,rt,ft;It(ae),J.length===0&&((Re=u.domElement)==null||Re.releasePointerCapture(ae.pointerId),(rt=u.domElement)==null||rt.ownerDocument.removeEventListener("pointermove",Ge),(ft=u.domElement)==null||ft.ownerDocument.removeEventListener("pointerup",Qe)),u.dispatchEvent(c),d=h.NONE}function Be(ae){let Re;switch(ae.button){case 0:Re=u.mouseButtons.LEFT;break;case 1:Re=u.mouseButtons.MIDDLE;break;case 2:Re=u.mouseButtons.RIGHT;break;default:Re=-1}switch(Re){case Cl.DOLLY:if(u.enableZoom===!1)return;ee(ae),d=h.DOLLY;break;case Cl.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(u.enablePan===!1)return;le(ae),d=h.PAN}else{if(u.enableRotate===!1)return;oe(ae),d=h.ROTATE}break;case Cl.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(u.enableRotate===!1)return;oe(ae),d=h.ROTATE}else{if(u.enablePan===!1)return;le(ae),d=h.PAN}break;default:d=h.NONE}d!==h.NONE&&u.dispatchEvent(o)}function $t(ae){if(u.enabled!==!1)switch(d){case h.ROTATE:if(u.enableRotate===!1)return;fe(ae);break;case h.DOLLY:if(u.enableZoom===!1)return;_e(ae);break;case h.PAN:if(u.enablePan===!1)return;Oe(ae);break}}function tt(ae){u.enabled===!1||u.enableZoom===!1||d!==h.NONE&&d!==h.ROTATE||(ae.preventDefault(),u.dispatchEvent(o),je(ae),u.dispatchEvent(c))}function nt(ae){u.enabled===!1||u.enablePan===!1||Le(ae)}function gt(ae){switch(Mt(ae),J.length){case 1:switch(u.touches.ONE){case kl.ROTATE:if(u.enableRotate===!1)return;Ce(),d=h.TOUCH_ROTATE;break;case kl.PAN:if(u.enablePan===!1)return;ht(),d=h.TOUCH_PAN;break;default:d=h.NONE}break;case 2:switch(u.touches.TWO){case kl.DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;Ve(),d=h.TOUCH_DOLLY_PAN;break;case kl.DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;st(),d=h.TOUCH_DOLLY_ROTATE;break;default:d=h.NONE}break;default:d=h.NONE}d!==h.NONE&&u.dispatchEvent(o)}function Ct(ae){switch(Mt(ae),d){case h.TOUCH_ROTATE:if(u.enableRotate===!1)return;et(ae),u.update();break;case h.TOUCH_PAN:if(u.enablePan===!1)return;Ue(ae),u.update();break;case h.TOUCH_DOLLY_PAN:if(u.enableZoom===!1&&u.enablePan===!1)return;He(ae),u.update();break;case h.TOUCH_DOLLY_ROTATE:if(u.enableZoom===!1&&u.enableRotate===!1)return;Te(ae),u.update();break;default:d=h.NONE}}function tn(ae){u.enabled!==!1&&ae.preventDefault()}function fn(ae){J.push(ae)}function It(ae){delete ie[ae.pointerId];for(let Re=0;Re<J.length;Re++)if(J[Re].pointerId==ae.pointerId){J.splice(Re,1);return}}function Mt(ae){let Re=ie[ae.pointerId];Re===void 0&&(Re=new ur,ie[ae.pointerId]=Re),Re.set(ae.pageX,ae.pageY)}function ct(ae){const Re=ae.pointerId===J[0].pointerId?J[1]:J[0];return ie[Re.pointerId]}this.dollyIn=(ae=ce())=>{B(ae),u.update()},this.dollyOut=(ae=ce())=>{H(ae),u.update()},this.getScale=()=>w,this.setScale=ae=>{K(ae),u.update()},this.getZoomScale=()=>ce(),s!==void 0&&this.connect(s),this.update()}};const _g=new ac,xf=new Nt;class Ep extends C0{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const t=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],s=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],u=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(u),this.setAttribute("position",new wo(t,3)),this.setAttribute("uv",new wo(s,2))}applyMatrix4(t){const s=this.attributes.instanceStart,u=this.attributes.instanceEnd;return s!==void 0&&(s.applyMatrix4(t),u.applyMatrix4(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(t){let s;t instanceof Float32Array?s=t:Array.isArray(t)&&(s=new Float32Array(t));const u=new Xh(s,6,1);return this.setAttribute("instanceStart",new Dl(u,3,0)),this.setAttribute("instanceEnd",new Dl(u,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t,s=3){let u;t instanceof Float32Array?u=t:Array.isArray(t)&&(u=new Float32Array(t));const a=new Xh(u,s*2,1);return this.setAttribute("instanceColorStart",new Dl(a,s,0)),this.setAttribute("instanceColorEnd",new Dl(a,s,s)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new d2(t.geometry)),this}fromLineSegments(t){const s=t.geometry;return this.setPositions(s.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ac);const t=this.attributes.instanceStart,s=this.attributes.instanceEnd;t!==void 0&&s!==void 0&&(this.boundingBox.setFromBufferAttribute(t),_g.setFromBufferAttribute(s),this.boundingBox.union(_g))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wp),this.boundingBox===null&&this.computeBoundingBox();const t=this.attributes.instanceStart,s=this.attributes.instanceEnd;if(t!==void 0&&s!==void 0){const u=this.boundingSphere.center;this.boundingBox.getCenter(u);let a=0;for(let o=0,c=t.count;o<c;o++)xf.fromBufferAttribute(t,o),a=Math.max(a,u.distanceToSquared(xf)),xf.fromBufferAttribute(s,o),a=Math.max(a,u.distanceToSquared(xf));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}class q0 extends Ep{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(t){const s=t.length-3,u=new Float32Array(2*s);for(let a=0;a<s;a+=3)u[2*a]=t[a],u[2*a+1]=t[a+1],u[2*a+2]=t[a+2],u[2*a+3]=t[a+3],u[2*a+4]=t[a+4],u[2*a+5]=t[a+5];return super.setPositions(u),this}setColors(t,s=3){const u=t.length-s,a=new Float32Array(2*u);if(s===3)for(let o=0;o<u;o+=s)a[2*o]=t[o],a[2*o+1]=t[o+1],a[2*o+2]=t[o+2],a[2*o+3]=t[o+3],a[2*o+4]=t[o+4],a[2*o+5]=t[o+5];else for(let o=0;o<u;o+=s)a[2*o]=t[o],a[2*o+1]=t[o+1],a[2*o+2]=t[o+2],a[2*o+3]=t[o+3],a[2*o+4]=t[o+4],a[2*o+5]=t[o+5],a[2*o+6]=t[o+6],a[2*o+7]=t[o+7];return super.setColors(a,s),this}fromLine(t){const s=t.geometry;return this.setPositions(s.attributes.position.array),this}}class Tp extends h2{constructor(t){super({type:"LineMaterial",uniforms:Jh.clone(Jh.merge([Nm.common,Nm.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new ur(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${parseInt(T0.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(s){this.uniforms.diffuse.value=s}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(s){s===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(s){this.uniforms.linewidth.value=s}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(s){!!s!="USE_DASH"in this.defines&&(this.needsUpdate=!0),s===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(s){this.uniforms.dashScale.value=s}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(s){this.uniforms.dashSize.value=s}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(s){this.uniforms.dashOffset.value=s}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(s){this.uniforms.gapSize.value=s}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(s){this.uniforms.opacity.value=s}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(s){this.uniforms.resolution.value.copy(s)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(s){!!s!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),s===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(t)}}const _h=new rs,wg=new Nt,xg=new Nt,zr=new rs,Br=new rs,jo=new rs,wh=new Nt,xh=new ji,Wr=new p2,Sg=new Nt,Sf=new ac,bf=new wp,Go=new rs;let Yo,Hs;function bg(e,t,s){return Go.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),Go.multiplyScalar(1/Go.w),Go.x=Hs/s.width,Go.y=Hs/s.height,Go.applyMatrix4(e.projectionMatrixInverse),Go.multiplyScalar(1/Go.w),Math.abs(Math.max(Go.x,Go.y))}function nb(e,t){const s=e.matrixWorld,u=e.geometry,a=u.attributes.instanceStart,o=u.attributes.instanceEnd,c=Math.min(u.instanceCount,a.count);for(let h=0,d=c;h<d;h++){Wr.start.fromBufferAttribute(a,h),Wr.end.fromBufferAttribute(o,h),Wr.applyMatrix4(s);const m=new Nt,g=new Nt;Yo.distanceSqToSegment(Wr.start,Wr.end,g,m),g.distanceTo(m)<Hs*.5&&t.push({point:g,pointOnLine:m,distance:Yo.origin.distanceTo(g),object:e,face:null,faceIndex:h,uv:null,[J0]:null})}}function rb(e,t,s){const u=t.projectionMatrix,o=e.material.resolution,c=e.matrixWorld,h=e.geometry,d=h.attributes.instanceStart,m=h.attributes.instanceEnd,g=Math.min(h.instanceCount,d.count),y=-t.near;Yo.at(1,jo),jo.w=1,jo.applyMatrix4(t.matrixWorldInverse),jo.applyMatrix4(u),jo.multiplyScalar(1/jo.w),jo.x*=o.x/2,jo.y*=o.y/2,jo.z=0,wh.copy(jo),xh.multiplyMatrices(t.matrixWorldInverse,c);for(let w=0,S=g;w<S;w++){if(zr.fromBufferAttribute(d,w),Br.fromBufferAttribute(m,w),zr.w=1,Br.w=1,zr.applyMatrix4(xh),Br.applyMatrix4(xh),zr.z>y&&Br.z>y)continue;if(zr.z>y){const L=zr.z-Br.z,D=(zr.z-y)/L;zr.lerp(Br,D)}else if(Br.z>y){const L=Br.z-zr.z,D=(Br.z-y)/L;Br.lerp(zr,D)}zr.applyMatrix4(u),Br.applyMatrix4(u),zr.multiplyScalar(1/zr.w),Br.multiplyScalar(1/Br.w),zr.x*=o.x/2,zr.y*=o.y/2,Br.x*=o.x/2,Br.y*=o.y/2,Wr.start.copy(zr),Wr.start.z=0,Wr.end.copy(Br),Wr.end.z=0;const P=Wr.closestPointToPointParameter(wh,!0);Wr.at(P,Sg);const R=Ml.lerp(zr.z,Br.z,P),A=R>=-1&&R<=1,I=wh.distanceTo(Sg)<Hs*.5;if(A&&I){Wr.start.fromBufferAttribute(d,w),Wr.end.fromBufferAttribute(m,w),Wr.start.applyMatrix4(c),Wr.end.applyMatrix4(c);const L=new Nt,D=new Nt;Yo.distanceSqToSegment(Wr.start,Wr.end,D,L),s.push({point:D,pointOnLine:L,distance:Yo.origin.distanceTo(D),object:e,face:null,faceIndex:w,uv:null,[J0]:null})}}}class K0 extends Vo{constructor(t=new Ep,s=new Tp({color:Math.random()*16777215})){super(t,s),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,s=t.attributes.instanceStart,u=t.attributes.instanceEnd,a=new Float32Array(2*s.count);for(let c=0,h=0,d=s.count;c<d;c++,h+=2)wg.fromBufferAttribute(s,c),xg.fromBufferAttribute(u,c),a[h]=h===0?0:a[h-1],a[h+1]=a[h]+wg.distanceTo(xg);const o=new Xh(a,2,1);return t.setAttribute("instanceDistanceStart",new Dl(o,1,0)),t.setAttribute("instanceDistanceEnd",new Dl(o,1,1)),this}raycast(t,s){const u=this.material.worldUnits,a=t.camera;a===null&&!u&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const o=t.params.Line2!==void 0&&t.params.Line2.threshold||0;Yo=t.ray;const c=this.matrixWorld,h=this.geometry,d=this.material;Hs=d.linewidth+o,h.boundingSphere===null&&h.computeBoundingSphere(),bf.copy(h.boundingSphere).applyMatrix4(c);let m;if(u)m=Hs*.5;else{const y=Math.max(a.near,bf.distanceToPoint(Yo.origin));m=bg(a,y,d.resolution)}if(bf.radius+=m,Yo.intersectsSphere(bf)===!1)return;h.boundingBox===null&&h.computeBoundingBox(),Sf.copy(h.boundingBox).applyMatrix4(c);let g;if(u)g=Hs*.5;else{const y=Math.max(a.near,Sf.distanceToPoint(Yo.origin));g=bg(a,y,d.resolution)}Sf.expandByScalar(g),Yo.intersectsBox(Sf)!==!1&&(u?nb(this,s):rb(this,a,s))}onBeforeRender(t){const s=this.material.uniforms;s&&s.resolution&&(t.getViewport(_h),this.material.uniforms.resolution.value.set(_h.z,_h.w))}}class ib extends K0{constructor(t=new q0,s=new Tp({color:Math.random()*16777215})){super(t,s),this.isLine2=!0,this.type="Line2"}}const ob=$.forwardRef(function({points:t,color:s=16777215,vertexColors:u,linewidth:a,lineWidth:o,segments:c,dashed:h,...d},m){var g,y;const w=ro(A=>A.size),S=$.useMemo(()=>c?new K0:new ib,[c]),[E]=$.useState(()=>new Tp),P=(u==null||(g=u[0])==null?void 0:g.length)===4?4:3,R=$.useMemo(()=>{const A=c?new Ep:new q0,I=t.map(L=>{const D=Array.isArray(L);return L instanceof Nt||L instanceof rs?[L.x,L.y,L.z]:L instanceof ur?[L.x,L.y,0]:D&&L.length===3?[L[0],L[1],L[2]]:D&&L.length===2?[L[0],L[1],0]:L});if(A.setPositions(I.flat()),u){s=16777215;const L=u.map(D=>D instanceof _a?D.toArray():D);A.setColors(L.flat(),P)}return A},[t,c,u,P]);return $.useLayoutEffect(()=>{S.computeLineDistances()},[t,S]),$.useLayoutEffect(()=>{h?E.defines.USE_DASH="":delete E.defines.USE_DASH,E.needsUpdate=!0},[h,E]),$.useEffect(()=>()=>{R.dispose(),E.dispose()},[R]),$.createElement("primitive",jl({object:S,ref:m},d),$.createElement("primitive",{object:R,attach:"geometry"}),$.createElement("primitive",jl({object:E,attach:"material",color:s,vertexColors:!!u,resolution:[w.width,w.height],linewidth:(y=a??o)!==null&&y!==void 0?y:1,dashed:h,transparent:P===4},d)))});function ab(){var e=Object.create(null);function t(a,o){var c=a.id,h=a.name,d=a.dependencies;d===void 0&&(d=[]);var m=a.init;m===void 0&&(m=function(){});var g=a.getTransferables;if(g===void 0&&(g=null),!e[c])try{d=d.map(function(w){return w&&w.isWorkerModule&&(t(w,function(S){if(S instanceof Error)throw S}),w=e[w.id].value),w}),m=u("<"+h+">.init",m),g&&(g=u("<"+h+">.getTransferables",g));var y=null;typeof m=="function"?y=m.apply(void 0,d):console.error("worker module init function failed to rehydrate"),e[c]={id:c,value:y,getTransferables:g},o(y)}catch(w){w&&w.noLog||console.error(w),o(w)}}function s(a,o){var c,h=a.id,d=a.args;(!e[h]||typeof e[h].value!="function")&&o(new Error("Worker module "+h+": not found or its 'init' did not return a function"));try{var m=(c=e[h]).value.apply(c,d);m&&typeof m.then=="function"?m.then(g,function(y){return o(y instanceof Error?y:new Error(""+y))}):g(m)}catch(y){o(y)}function g(y){try{var w=e[h].getTransferables&&e[h].getTransferables(y);(!w||!Array.isArray(w)||!w.length)&&(w=void 0),o(y,w)}catch(S){console.error(S),o(S)}}}function u(a,o){var c=void 0;self.troikaDefine=function(d){return c=d};var h=URL.createObjectURL(new Blob(["/** "+a.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(h)}catch(d){console.error(d)}return URL.revokeObjectURL(h),delete self.troikaDefine,c}self.addEventListener("message",function(a){var o=a.data,c=o.messageId,h=o.action,d=o.data;try{h==="registerModule"&&t(d,function(m){m instanceof Error?postMessage({messageId:c,success:!1,error:m.message}):postMessage({messageId:c,success:!0,result:{isCallable:typeof m=="function"}})}),h==="callModule"&&s(d,function(m,g){m instanceof Error?postMessage({messageId:c,success:!1,error:m.message}):postMessage({messageId:c,success:!0,result:m},g||void 0)})}catch(m){postMessage({messageId:c,success:!1,error:m.stack})}})}function sb(e){var t=function(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];return t._getInitResult().then(function(a){if(typeof a=="function")return a.apply(void 0,s);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var s=e.dependencies,u=e.init;s=Array.isArray(s)?s.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var a=Promise.all(s).then(function(o){return u.apply(null,o)});return t._getInitResult=function(){return a},a},t}var Q0=function(){var e=!1;if(typeof window<"u"&&typeof window.document<"u")try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),e=!0}catch(s){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+s.message+"]")}return Q0=function(){return e},e},lb=0,ub=0,Sh=!1,qu=Object.create(null),Ku=Object.create(null),$h=Object.create(null);function Xl(e){if((!e||typeof e.init!="function")&&!Sh)throw new Error("requires `options.init` function");var t=e.dependencies,s=e.init,u=e.getTransferables,a=e.workerId,o=sb(e);a==null&&(a="#default");var c="workerModule"+ ++lb,h=e.name||c,d=null;t=t&&t.map(function(g){return typeof g=="function"&&!g.workerModuleData&&(Sh=!0,g=Xl({workerId:a,name:"<"+h+"> function dependency: "+g.name,init:`function(){return (
`+Nf(g)+`
)}`}),Sh=!1),g&&g.workerModuleData&&(g=g.workerModuleData),g});function m(){for(var g=[],y=arguments.length;y--;)g[y]=arguments[y];if(!Q0())return o.apply(void 0,g);if(!d){d=Eg(a,"registerModule",m.workerModuleData);var w=function(){d=null,Ku[a].delete(w)};(Ku[a]||(Ku[a]=new Set)).add(w)}return d.then(function(S){var E=S.isCallable;if(E)return Eg(a,"callModule",{id:c,args:g});throw new Error("Worker module function was called but `init` did not return a callable function")})}return m.workerModuleData={isWorkerModule:!0,id:c,name:h,dependencies:t,init:Nf(s),getTransferables:u&&Nf(u)},m.onMainThread=o,m}function cb(e){Ku[e]&&Ku[e].forEach(function(t){t()}),qu[e]&&(qu[e].terminate(),delete qu[e])}function Nf(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function fb(e){var t=qu[e];if(!t){var s=Nf(ab);t=qu[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+` **/

;(`+s+")()"],{type:"application/javascript"}))),t.onmessage=function(u){var a=u.data,o=a.messageId,c=$h[o];if(!c)throw new Error("WorkerModule response with empty or unknown messageId");delete $h[o],c(a)}}return t}function Eg(e,t,s){return new Promise(function(u,a){var o=++ub;$h[o]=function(c){c.success?u(c.result):a(new Error("Error in worker "+t+" call: "+c.error))},fb(e).postMessage({messageId:o,action:t,data:s})})}function Z0(){var e=function(t){function s(K,H,B,Q,te,oe,ee,le){var fe=1-ee;le.x=fe*fe*K+2*fe*ee*B+ee*ee*te,le.y=fe*fe*H+2*fe*ee*Q+ee*ee*oe}function u(K,H,B,Q,te,oe,ee,le,fe,_e){var Oe=1-fe;_e.x=Oe*Oe*Oe*K+3*Oe*Oe*fe*B+3*Oe*fe*fe*te+fe*fe*fe*ee,_e.y=Oe*Oe*Oe*H+3*Oe*Oe*fe*Q+3*Oe*fe*fe*oe+fe*fe*fe*le}function a(K,H){for(var B=/([MLQCZ])([^MLQCZ]*)/g,Q,te,oe,ee,le;Q=B.exec(K);){var fe=Q[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(_e){return parseFloat(_e)});switch(Q[1]){case"M":ee=te=fe[0],le=oe=fe[1];break;case"L":(fe[0]!==ee||fe[1]!==le)&&H("L",ee,le,ee=fe[0],le=fe[1]);break;case"Q":{H("Q",ee,le,ee=fe[2],le=fe[3],fe[0],fe[1]);break}case"C":{H("C",ee,le,ee=fe[4],le=fe[5],fe[0],fe[1],fe[2],fe[3]);break}case"Z":(ee!==te||le!==oe)&&H("L",ee,le,te,oe);break}}}function o(K,H,B){B===void 0&&(B=16);var Q={x:0,y:0};a(K,function(te,oe,ee,le,fe,_e,Oe,je,Le){switch(te){case"L":H(oe,ee,le,fe);break;case"Q":{for(var Ce=oe,ht=ee,ot=1;ot<B;ot++)s(oe,ee,_e,Oe,le,fe,ot/(B-1),Q),H(Ce,ht,Q.x,Q.y),Ce=Q.x,ht=Q.y;break}case"C":{for(var Ve=oe,st=ee,et=1;et<B;et++)u(oe,ee,_e,Oe,je,Le,le,fe,et/(B-1),Q),H(Ve,st,Q.x,Q.y),Ve=Q.x,st=Q.y;break}}})}var c="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",h="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",d=new WeakMap,m={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function g(K,H){var B=K.getContext?K.getContext("webgl",m):K,Q=d.get(B);if(!Q){let Oe=function(Ve){var st=oe[Ve];if(!st&&(st=oe[Ve]=B.getExtension(Ve),!st))throw new Error(Ve+" not supported");return st},je=function(Ve,st){var et=B.createShader(st);return B.shaderSource(et,Ve),B.compileShader(et),et},Le=function(Ve,st,et,Ue){if(!ee[Ve]){var lt={},He={},Te=B.createProgram();B.attachShader(Te,je(st,B.VERTEX_SHADER)),B.attachShader(Te,je(et,B.FRAGMENT_SHADER)),B.linkProgram(Te),ee[Ve]={program:Te,transaction:function(Ge){B.useProgram(Te),Ge({setUniform:function(Be,$t){for(var tt=[],nt=arguments.length-2;nt-- >0;)tt[nt]=arguments[nt+2];var gt=He[$t]||(He[$t]=B.getUniformLocation(Te,$t));B["uniform"+Be].apply(B,[gt].concat(tt))},setAttribute:function(Be,$t,tt,nt,gt){var Ct=lt[Be];Ct||(Ct=lt[Be]={buf:B.createBuffer(),loc:B.getAttribLocation(Te,Be),data:null}),B.bindBuffer(B.ARRAY_BUFFER,Ct.buf),B.vertexAttribPointer(Ct.loc,$t,B.FLOAT,!1,0,0),B.enableVertexAttribArray(Ct.loc),te?B.vertexAttribDivisor(Ct.loc,nt):Oe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ct.loc,nt),gt!==Ct.data&&(B.bufferData(B.ARRAY_BUFFER,gt,tt),Ct.data=gt)}})}}}ee[Ve].transaction(Ue)},Ce=function(Ve,st){fe++;try{B.activeTexture(B.TEXTURE0+fe);var et=le[Ve];et||(et=le[Ve]=B.createTexture(),B.bindTexture(B.TEXTURE_2D,et),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST)),B.bindTexture(B.TEXTURE_2D,et),st(et,fe)}finally{fe--}},ht=function(Ve,st,et){var Ue=B.createFramebuffer();_e.push(Ue),B.bindFramebuffer(B.FRAMEBUFFER,Ue),B.activeTexture(B.TEXTURE0+st),B.bindTexture(B.TEXTURE_2D,Ve),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,Ve,0);try{et(Ue)}finally{B.deleteFramebuffer(Ue),B.bindFramebuffer(B.FRAMEBUFFER,_e[--_e.length-1]||null)}},ot=function(){oe={},ee={},le={},fe=-1,_e.length=0};var te=typeof WebGL2RenderingContext<"u"&&B instanceof WebGL2RenderingContext,oe={},ee={},le={},fe=-1,_e=[];B.canvas.addEventListener("webglcontextlost",function(Ve){ot(),Ve.preventDefault()},!1),d.set(B,Q={gl:B,isWebGL2:te,getExtension:Oe,withProgram:Le,withTexture:Ce,withTextureFramebuffer:ht,handleContextLoss:ot})}H(Q)}function y(K,H,B,Q,te,oe,ee,le){ee===void 0&&(ee=15),le===void 0&&(le=null),g(K,function(fe){var _e=fe.gl,Oe=fe.withProgram,je=fe.withTexture;je("copy",function(Le,Ce){_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,te,oe,0,_e.RGBA,_e.UNSIGNED_BYTE,H),Oe("copy",c,h,function(ht){var ot=ht.setUniform,Ve=ht.setAttribute;Ve("aUV",2,_e.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ot("1i","image",Ce),_e.bindFramebuffer(_e.FRAMEBUFFER,le||null),_e.disable(_e.BLEND),_e.colorMask(ee&8,ee&4,ee&2,ee&1),_e.viewport(B,Q,te,oe),_e.scissor(B,Q,te,oe),_e.drawArrays(_e.TRIANGLES,0,3)})})})}function w(K,H,B){var Q=K.width,te=K.height;g(K,function(oe){var ee=oe.gl,le=new Uint8Array(Q*te*4);ee.readPixels(0,0,Q,te,ee.RGBA,ee.UNSIGNED_BYTE,le),K.width=H,K.height=B,y(ee,le,0,0,Q,te)})}var S=Object.freeze({__proto__:null,withWebGLContext:g,renderImageData:y,resizeWebGLCanvasWithoutClearing:w});function E(K,H,B,Q,te,oe){oe===void 0&&(oe=1);var ee=new Uint8Array(K*H),le=Q[2]-Q[0],fe=Q[3]-Q[1],_e=[];o(B,function(Ve,st,et,Ue){_e.push({x1:Ve,y1:st,x2:et,y2:Ue,minX:Math.min(Ve,et),minY:Math.min(st,Ue),maxX:Math.max(Ve,et),maxY:Math.max(st,Ue)})}),_e.sort(function(Ve,st){return Ve.maxX-st.maxX});for(var Oe=0;Oe<K;Oe++)for(var je=0;je<H;je++){var Le=ht(Q[0]+le*(Oe+.5)/K,Q[1]+fe*(je+.5)/H),Ce=Math.pow(1-Math.abs(Le)/te,oe)/2;Le<0&&(Ce=1-Ce),Ce=Math.max(0,Math.min(255,Math.round(Ce*255))),ee[je*K+Oe]=Ce}return ee;function ht(Ve,st){for(var et=1/0,Ue=1/0,lt=_e.length;lt--;){var He=_e[lt];if(He.maxX+Ue<=Ve)break;if(Ve+Ue>He.minX&&st-Ue<He.maxY&&st+Ue>He.minY){var Te=A(Ve,st,He.x1,He.y1,He.x2,He.y2);Te<et&&(et=Te,Ue=Math.sqrt(et))}}return ot(Ve,st)&&(Ue=-Ue),Ue}function ot(Ve,st){for(var et=0,Ue=_e.length;Ue--;){var lt=_e[Ue];if(lt.maxX<=Ve)break;var He=lt.y1>st!=lt.y2>st&&Ve<(lt.x2-lt.x1)*(st-lt.y1)/(lt.y2-lt.y1)+lt.x1;He&&(et+=lt.y1<lt.y2?1:-1)}return et!==0}}function P(K,H,B,Q,te,oe,ee,le,fe,_e){oe===void 0&&(oe=1),le===void 0&&(le=0),fe===void 0&&(fe=0),_e===void 0&&(_e=0),R(K,H,B,Q,te,oe,ee,null,le,fe,_e)}function R(K,H,B,Q,te,oe,ee,le,fe,_e,Oe){oe===void 0&&(oe=1),fe===void 0&&(fe=0),_e===void 0&&(_e=0),Oe===void 0&&(Oe=0);for(var je=E(K,H,B,Q,te,oe),Le=new Uint8Array(je.length*4),Ce=0;Ce<je.length;Ce++)Le[Ce*4+Oe]=je[Ce];y(ee,Le,fe,_e,K,H,1<<3-Oe,le)}function A(K,H,B,Q,te,oe){var ee=te-B,le=oe-Q,fe=ee*ee+le*le,_e=fe?Math.max(0,Math.min(1,((K-B)*ee+(H-Q)*le)/fe)):0,Oe=K-(B+_e*ee),je=H-(Q+_e*le);return Oe*Oe+je*je}var I=Object.freeze({__proto__:null,generate:E,generateIntoCanvas:P,generateIntoFramebuffer:R}),L="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",D="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",F="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",G=new Float32Array([0,0,2,0,0,2]),j=null,W=!1,q={},J=new WeakMap;function ie(K){if(!W&&!xe(K))throw new Error("WebGL generation not supported")}function Y(K,H,B,Q,te,oe,ee){if(oe===void 0&&(oe=1),ee===void 0&&(ee=null),!ee&&(ee=j,!ee)){var le=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!le)throw new Error("OffscreenCanvas or DOM canvas not supported");ee=j=le.getContext("webgl",{depth:!1})}ie(ee);var fe=new Uint8Array(K*H*4);g(ee,function(Le){var Ce=Le.gl,ht=Le.withTexture,ot=Le.withTextureFramebuffer;ht("readable",function(Ve,st){Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,K,H,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null),ot(Ve,st,function(et){pe(K,H,B,Q,te,oe,Ce,et,0,0,0),Ce.readPixels(0,0,K,H,Ce.RGBA,Ce.UNSIGNED_BYTE,fe)})})});for(var _e=new Uint8Array(K*H),Oe=0,je=0;Oe<fe.length;Oe+=4)_e[je++]=fe[Oe];return _e}function ce(K,H,B,Q,te,oe,ee,le,fe,_e){oe===void 0&&(oe=1),le===void 0&&(le=0),fe===void 0&&(fe=0),_e===void 0&&(_e=0),pe(K,H,B,Q,te,oe,ee,null,le,fe,_e)}function pe(K,H,B,Q,te,oe,ee,le,fe,_e,Oe){oe===void 0&&(oe=1),fe===void 0&&(fe=0),_e===void 0&&(_e=0),Oe===void 0&&(Oe=0),ie(ee);var je=[];o(B,function(Le,Ce,ht,ot){je.push(Le,Ce,ht,ot)}),je=new Float32Array(je),g(ee,function(Le){var Ce=Le.gl,ht=Le.isWebGL2,ot=Le.getExtension,Ve=Le.withProgram,st=Le.withTexture,et=Le.withTextureFramebuffer,Ue=Le.handleContextLoss;if(st("rawDistances",function(lt,He){(K!==lt._lastWidth||H!==lt._lastHeight)&&Ce.texImage2D(Ce.TEXTURE_2D,0,Ce.RGBA,lt._lastWidth=K,lt._lastHeight=H,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null),Ve("main",L,D,function(Te){var xt=Te.setAttribute,Ge=Te.setUniform,Qe=!ht&&ot("ANGLE_instanced_arrays"),Be=!ht&&ot("EXT_blend_minmax");xt("aUV",2,Ce.STATIC_DRAW,0,G),xt("aLineSegment",4,Ce.DYNAMIC_DRAW,1,je),Ge.apply(void 0,["4f","uGlyphBounds"].concat(Q)),Ge("1f","uMaxDistance",te),Ge("1f","uExponent",oe),et(lt,He,function($t){Ce.enable(Ce.BLEND),Ce.colorMask(!0,!0,!0,!0),Ce.viewport(0,0,K,H),Ce.scissor(0,0,K,H),Ce.blendFunc(Ce.ONE,Ce.ONE),Ce.blendEquationSeparate(Ce.FUNC_ADD,ht?Ce.MAX:Be.MAX_EXT),Ce.clear(Ce.COLOR_BUFFER_BIT),ht?Ce.drawArraysInstanced(Ce.TRIANGLES,0,3,je.length/4):Qe.drawArraysInstancedANGLE(Ce.TRIANGLES,0,3,je.length/4)})}),Ve("post",c,F,function(Te){Te.setAttribute("aUV",2,Ce.STATIC_DRAW,0,G),Te.setUniform("1i","tex",He),Ce.bindFramebuffer(Ce.FRAMEBUFFER,le),Ce.disable(Ce.BLEND),Ce.colorMask(Oe===0,Oe===1,Oe===2,Oe===3),Ce.viewport(fe,_e,K,H),Ce.scissor(fe,_e,K,H),Ce.drawArrays(Ce.TRIANGLES,0,3)})}),Ce.isContextLost())throw Ue(),new Error("webgl context lost")})}function xe(K){var H=!K||K===j?q:K.canvas||K,B=J.get(H);if(B===void 0){W=!0;var Q=null;try{var te=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],oe=Y(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,K);B=oe&&te.length===oe.length&&oe.every(function(ee,le){return ee===te[le]}),B||(Q="bad trial run results",console.info(te,oe))}catch(ee){B=!1,Q=ee.message}Q&&console.warn("WebGL SDF generation not supported:",Q),W=!1,J.set(H,B)}return B}var se=Object.freeze({__proto__:null,generate:Y,generateIntoCanvas:ce,generateIntoFramebuffer:pe,isSupported:xe});function Ee(K,H,B,Q,te,oe){te===void 0&&(te=Math.max(Q[2]-Q[0],Q[3]-Q[1])/2),oe===void 0&&(oe=1);try{return Y.apply(se,arguments)}catch(ee){return console.info("WebGL SDF generation failed, falling back to JS",ee),E.apply(I,arguments)}}function X(K,H,B,Q,te,oe,ee,le,fe,_e){te===void 0&&(te=Math.max(Q[2]-Q[0],Q[3]-Q[1])/2),oe===void 0&&(oe=1),le===void 0&&(le=0),fe===void 0&&(fe=0),_e===void 0&&(_e=0);try{return ce.apply(se,arguments)}catch(Oe){return console.info("WebGL SDF generation failed, falling back to JS",Oe),P.apply(I,arguments)}}return t.forEachPathCommand=a,t.generate=Ee,t.generateIntoCanvas=X,t.javascript=I,t.pathToLineSegments=o,t.webgl=se,t.webglUtils=S,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return e}function db(){var e=function(t){var s={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},u={},a={};u.L=1,a[1]="L",Object.keys(s).forEach(function(Ue,lt){u[Ue]=1<<lt+1,a[u[Ue]]=Ue}),Object.freeze(u);var o=u.LRI|u.RLI|u.FSI,c=u.L|u.R|u.AL,h=u.B|u.S|u.WS|u.ON|u.FSI|u.LRI|u.RLI|u.PDI,d=u.BN|u.RLE|u.LRE|u.RLO|u.LRO|u.PDF,m=u.S|u.WS|u.B|o|u.PDI|d,g=null;function y(){if(!g){g=new Map;var Ue=function(He){if(s.hasOwnProperty(He)){var Te=0;s[He].split(",").forEach(function(xt){var Ge=xt.split("+"),Qe=Ge[0],Be=Ge[1];Qe=parseInt(Qe,36),Be=Be?parseInt(Be,36):0,g.set(Te+=Qe,u[He]);for(var $t=0;$t<Be;$t++)g.set(++Te,u[He])})}};for(var lt in s)Ue(lt)}}function w(Ue){return y(),g.get(Ue.codePointAt(0))||u.L}function S(Ue){return a[w(Ue)]}var E={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function P(Ue,lt){var He=36,Te=0,xt=new Map,Ge=lt&&new Map,Qe;return Ue.split(",").forEach(function Be($t){if($t.indexOf("+")!==-1)for(var tt=+$t;tt--;)Be(Qe);else{Qe=$t;var nt=$t.split(">"),gt=nt[0],Ct=nt[1];gt=String.fromCodePoint(Te+=parseInt(gt,He)),Ct=String.fromCodePoint(Te+=parseInt(Ct,He)),xt.set(gt,Ct),lt&&Ge.set(Ct,gt)}}),{map:xt,reverseMap:Ge}}var R,A,I;function L(){if(!R){var Ue=P(E.pairs,!0),lt=Ue.map,He=Ue.reverseMap;R=lt,A=He,I=P(E.canonical,!1).map}}function D(Ue){return L(),R.get(Ue)||null}function F(Ue){return L(),A.get(Ue)||null}function G(Ue){return L(),I.get(Ue)||null}var j=u.L,W=u.R,q=u.EN,J=u.ES,ie=u.ET,Y=u.AN,ce=u.CS,pe=u.B,xe=u.S,se=u.ON,Ee=u.BN,X=u.NSM,K=u.AL,H=u.LRO,B=u.RLO,Q=u.LRE,te=u.RLE,oe=u.PDF,ee=u.LRI,le=u.RLI,fe=u.FSI,_e=u.PDI;function Oe(Ue,lt){for(var He=125,Te=new Uint32Array(Ue.length),xt=0;xt<Ue.length;xt++)Te[xt]=w(Ue[xt]);var Ge=new Map;function Qe(qn,vr){var On=Te[qn];Te[qn]=vr,Ge.set(On,Ge.get(On)-1),On&h&&Ge.set(h,Ge.get(h)-1),Ge.set(vr,(Ge.get(vr)||0)+1),vr&h&&Ge.set(h,(Ge.get(h)||0)+1)}for(var Be=new Uint8Array(Ue.length),$t=new Map,tt=[],nt=null,gt=0;gt<Ue.length;gt++)nt||tt.push(nt={start:gt,end:Ue.length-1,level:lt==="rtl"?1:lt==="ltr"?0:$o(gt,!1)}),Te[gt]&pe&&(nt.end=gt,nt=null);for(var Ct=te|Q|B|H|o|_e|oe|pe,tn=function(qn){return qn+(qn&1?1:2)},fn=function(qn){return qn+(qn&1?2:1)},It=0;It<tt.length;It++){nt=tt[It];var Mt=[{_level:nt.level,_override:0,_isolate:0}],ct=void 0,ae=0,Re=0,rt=0;Ge.clear();for(var ft=nt.start;ft<=nt.end;ft++){var Ze=Te[ft];if(ct=Mt[Mt.length-1],Ge.set(Ze,(Ge.get(Ze)||0)+1),Ze&h&&Ge.set(h,(Ge.get(h)||0)+1),Ze&Ct)if(Ze&(te|Q)){Be[ft]=ct._level;var Ot=(Ze===te?fn:tn)(ct._level);Ot<=He&&!ae&&!Re?Mt.push({_level:Ot,_override:0,_isolate:0}):ae||Re++}else if(Ze&(B|H)){Be[ft]=ct._level;var Pn=(Ze===B?fn:tn)(ct._level);Pn<=He&&!ae&&!Re?Mt.push({_level:Pn,_override:Ze&B?W:j,_isolate:0}):ae||Re++}else if(Ze&o){Ze&fe&&(Ze=$o(ft+1,!0)===1?le:ee),Be[ft]=ct._level,ct._override&&Qe(ft,ct._override);var an=(Ze===le?fn:tn)(ct._level);an<=He&&ae===0&&Re===0?(rt++,Mt.push({_level:an,_override:0,_isolate:1,_isolInitIndex:ft})):ae++}else if(Ze&_e){if(ae>0)ae--;else if(rt>0){for(Re=0;!Mt[Mt.length-1]._isolate;)Mt.pop();var zt=Mt[Mt.length-1]._isolInitIndex;zt!=null&&($t.set(zt,ft),$t.set(ft,zt)),Mt.pop(),rt--}ct=Mt[Mt.length-1],Be[ft]=ct._level,ct._override&&Qe(ft,ct._override)}else Ze&oe?(ae===0&&(Re>0?Re--:!ct._isolate&&Mt.length>1&&(Mt.pop(),ct=Mt[Mt.length-1])),Be[ft]=ct._level):Ze&pe&&(Be[ft]=nt.level);else Be[ft]=ct._level,ct._override&&Ze!==Ee&&Qe(ft,ct._override)}for(var nn=[],Xt=null,St=nt.start;St<=nt.end;St++){var Dt=Te[St];if(!(Dt&d)){var yn=Be[St],wn=Dt&o,xn=Dt===_e;Xt&&yn===Xt._level?(Xt._end=St,Xt._endsWithIsolInit=wn):nn.push(Xt={_start:St,_end:St,_level:yn,_startsWithPDI:xn,_endsWithIsolInit:wn})}}for(var Pr=[],Lr=0;Lr<nn.length;Lr++){var Ir=nn[Lr];if(!Ir._startsWithPDI||Ir._startsWithPDI&&!$t.has(Ir._start)){for(var ci=[Xt=Ir],fr=void 0;Xt&&Xt._endsWithIsolInit&&(fr=$t.get(Xt._end))!=null;)for(var Qr=Lr+1;Qr<nn.length;Qr++)if(nn[Qr]._start===fr){ci.push(Xt=nn[Qr]);break}for(var Gn=[],bi=0;bi<ci.length;bi++)for(var Sa=ci[bi],qo=Sa._start;qo<=Sa._end;qo++)Gn.push(qo);for(var ba=Be[Gn[0]],Ea=nt.level,oo=Gn[0]-1;oo>=0;oo--)if(!(Te[oo]&d)){Ea=Be[oo];break}var Ko=Gn[Gn.length-1],as=Be[Ko],Ta=nt.level;if(!(Te[Ko]&o)){for(var bo=Ko+1;bo<=nt.end;bo++)if(!(Te[bo]&d)){Ta=Be[bo];break}}Pr.push({_seqIndices:Gn,_sosType:Math.max(Ea,ba)%2?W:j,_eosType:Math.max(Ta,as)%2?W:j})}}for(var Ln=0;Ln<Pr.length;Ln++){var fi=Pr[Ln],it=fi._seqIndices,Hr=fi._sosType,Qo=fi._eosType,Zr=Be[it[0]]&1?W:j;if(Ge.get(X))for(var ao=0;ao<it.length;ao++){var so=it[ao];if(Te[so]&X){for(var $r=Hr,dr=ao-1;dr>=0;dr--)if(!(Te[it[dr]]&d)){$r=Te[it[dr]];break}Qe(so,$r&(o|_e)?se:$r)}}if(Ge.get(q))for(var sn=0;sn<it.length;sn++){var en=it[sn];if(Te[en]&q)for(var Mr=sn-1;Mr>=-1;Mr--){var Cn=Mr===-1?Hr:Te[it[Mr]];if(Cn&c){Cn===K&&Qe(en,Y);break}}}if(Ge.get(K))for(var Nn=0;Nn<it.length;Nn++){var Vr=it[Nn];Te[Vr]&K&&Qe(Vr,W)}if(Ge.get(J)||Ge.get(ce))for(var hr=1;hr<it.length-1;hr++){var Wn=it[hr];if(Te[Wn]&(J|ce)){for(var Yr=0,di=0,_n=hr-1;_n>=0&&(Yr=Te[it[_n]],!!(Yr&d));_n--);for(var hi=hr+1;hi<it.length&&(di=Te[it[hi]],!!(di&d));hi++);Yr===di&&(Te[Wn]===J?Yr===q:Yr&(q|Y))&&Qe(Wn,Yr)}}if(Ge.get(q))for(var pr=0;pr<it.length;pr++){var ar=it[pr];if(Te[ar]&q){for(var Ei=pr-1;Ei>=0&&Te[it[Ei]]&(ie|d);Ei--)Qe(it[Ei],q);for(pr++;pr<it.length&&Te[it[pr]]&(ie|d|q);pr++)Te[it[pr]]!==q&&Qe(it[pr],q)}}if(Ge.get(ie)||Ge.get(J)||Ge.get(ce))for(var Ti=0;Ti<it.length;Ti++){var Hi=it[Ti];if(Te[Hi]&(ie|J|ce)){Qe(Hi,se);for(var mr=Ti-1;mr>=0&&Te[it[mr]]&d;mr--)Qe(it[mr],se);for(var Xr=Ti+1;Xr<it.length&&Te[it[Xr]]&d;Xr++)Qe(it[Xr],se)}}if(Ge.get(q))for(var gr=0,vt=Hr;gr<it.length;gr++){var Vi=it[gr],C=Te[Vi];C&q?vt===j&&Qe(Vi,j):C&c&&(vt=C)}if(Ge.get(h)){var T=W|q|Y,U=T|j,M=[];{for(var N=[],ve=0;ve<it.length;ve++)if(Te[it[ve]]&h){var me=Ue[it[ve]],Ye=void 0;if(D(me)!==null)if(N.length<63)N.push({char:me,seqIndex:ve});else break;else if((Ye=F(me))!==null)for(var Ne=N.length-1;Ne>=0;Ne--){var ze=N[Ne].char;if(ze===Ye||ze===F(G(me))||D(G(ze))===me){M.push([N[Ne].seqIndex,ve]),N.length=Ne;break}}}M.sort(function(qn,vr){return qn[0]-vr[0]})}for(var ut=0;ut<M.length;ut++){for(var Ie=M[ut],Fe=Ie[0],Xe=Ie[1],_t=!1,Ke=0,hn=Fe+1;hn<Xe;hn++){var Zt=it[hn];if(Te[Zt]&U){_t=!0;var Ut=Te[Zt]&T?W:j;if(Ut===Zr){Ke=Ut;break}}}if(_t&&!Ke){Ke=Hr;for(var dt=Fe-1;dt>=0;dt--){var Jt=it[dt];if(Te[Jt]&U){var pn=Te[Jt]&T?W:j;pn!==Zr?Ke=pn:Ke=Zr;break}}}if(Ke){if(Te[it[Fe]]=Te[it[Xe]]=Ke,Ke!==Zr){for(var In=Fe+1;In<it.length;In++)if(!(Te[it[In]]&d)){w(Ue[it[In]])&X&&(Te[it[In]]=Ke);break}}if(Ke!==Zr){for(var pi=Xe+1;pi<it.length;pi++)if(!(Te[it[pi]]&d)){w(Ue[it[pi]])&X&&(Te[it[pi]]=Ke);break}}}}for(var Or=0;Or<it.length;Or++)if(Te[it[Or]]&h){for(var ss=Or,ls=Or,Ur=Hr,Zo=Or-1;Zo>=0;Zo--)if(Te[it[Zo]]&d)ss=Zo;else{Ur=Te[it[Zo]]&T?W:j;break}for(var kn=Qo,lo=Or+1;lo<it.length;lo++)if(Te[it[lo]]&(h|d))ls=lo;else{kn=Te[it[lo]]&T?W:j;break}for(var Dn=ss;Dn<=ls;Dn++)Te[it[Dn]]=Ur===kn?Ur:Zr;Or=ls}}}for(var Jn=nt.start;Jn<=nt.end;Jn++){var Eo=Be[Jn],Mn=Te[Jn];if(Eo&1?Mn&(j|q|Y)&&Be[Jn]++:Mn&W?Be[Jn]++:Mn&(Y|q)&&(Be[Jn]+=2),Mn&d&&(Be[Jn]=Jn===0?nt.level:Be[Jn-1]),Jn===nt.end||w(Ue[Jn])&(xe|pe))for(var uo=Jn;uo>=0&&w(Ue[uo])&m;uo--)Be[uo]=nt.level}}return{levels:Be,paragraphs:tt};function $o(qn,vr){for(var On=qn;On<Ue.length;On++){var ln=Te[On];if(ln&(W|K))return 1;if(ln&(pe|j)||vr&&ln===_e)return 0;if(ln&o){var ei=us(On);On=ei===-1?Ue.length:ei}}return 0}function us(qn){for(var vr=1,On=qn+1;On<Ue.length;On++){var ln=Te[On];if(ln&pe)break;if(ln&_e){if(--vr===0)return On}else ln&o&&vr++}return-1}}var je="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Le;function Ce(){if(!Le){var Ue=P(je,!0),lt=Ue.map,He=Ue.reverseMap;He.forEach(function(Te,xt){lt.set(xt,Te)}),Le=lt}}function ht(Ue){return Ce(),Le.get(Ue)||null}function ot(Ue,lt,He,Te){var xt=Ue.length;He=Math.max(0,He==null?0:+He),Te=Math.min(xt-1,Te==null?xt-1:+Te);for(var Ge=new Map,Qe=He;Qe<=Te;Qe++)if(lt[Qe]&1){var Be=ht(Ue[Qe]);Be!==null&&Ge.set(Qe,Be)}return Ge}function Ve(Ue,lt,He,Te){var xt=Ue.length;He=Math.max(0,He==null?0:+He),Te=Math.min(xt-1,Te==null?xt-1:+Te);var Ge=[];return lt.paragraphs.forEach(function(Qe){var Be=Math.max(He,Qe.start),$t=Math.min(Te,Qe.end);if(Be<$t){for(var tt=lt.levels.slice(Be,$t+1),nt=$t;nt>=Be&&w(Ue[nt])&m;nt--)tt[nt]=Qe.level;for(var gt=Qe.level,Ct=1/0,tn=0;tn<tt.length;tn++){var fn=tt[tn];fn>gt&&(gt=fn),fn<Ct&&(Ct=fn|1)}for(var It=gt;It>=Ct;It--)for(var Mt=0;Mt<tt.length;Mt++)if(tt[Mt]>=It){for(var ct=Mt;Mt+1<tt.length&&tt[Mt+1]>=It;)Mt++;Mt>ct&&Ge.push([ct+Be,Mt+Be])}}}),Ge}function st(Ue,lt,He,Te){var xt=et(Ue,lt,He,Te),Ge=[].concat(Ue);return xt.forEach(function(Qe,Be){Ge[Be]=(lt.levels[Qe]&1?ht(Ue[Qe]):null)||Ue[Qe]}),Ge.join("")}function et(Ue,lt,He,Te){for(var xt=Ve(Ue,lt,He,Te),Ge=[],Qe=0;Qe<Ue.length;Qe++)Ge[Qe]=Qe;return xt.forEach(function(Be){for(var $t=Be[0],tt=Be[1],nt=Ge.slice($t,tt+1),gt=nt.length;gt--;)Ge[tt-gt]=nt[gt]}),Ge}return t.closingToOpeningBracket=F,t.getBidiCharType=w,t.getBidiCharTypeName=S,t.getCanonicalBracket=G,t.getEmbeddingLevels=Oe,t.getMirroredCharacter=ht,t.getMirroredCharactersMap=ot,t.getReorderSegments=Ve,t.getReorderedIndices=et,t.getReorderedString=st,t.openingToClosingBracket=D,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return e}const $0=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ep(e){const t=/^[ \t]*#include +<([\w\d./]+)>/gm;function s(u,a){let o=y2[a];return o?ep(o):u}return e.replace(t,s)}const jr=[];for(let e=0;e<256;e++)jr[e]=(e<16?"0":"")+e.toString(16);function hb(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0,u=Math.random()*4294967295|0;return(jr[e&255]+jr[e>>8&255]+jr[e>>16&255]+jr[e>>24&255]+"-"+jr[t&255]+jr[t>>8&255]+"-"+jr[t>>16&15|64]+jr[t>>24&255]+"-"+jr[s&63|128]+jr[s>>8&255]+"-"+jr[s>>16&255]+jr[s>>24&255]+jr[u&255]+jr[u>>8&255]+jr[u>>16&255]+jr[u>>24&255]).toUpperCase()}const js=Object.assign||function(){let e=arguments[0];for(let t=1,s=arguments.length;t<s;t++){let u=arguments[t];if(u)for(let a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a])}return e},pb=Date.now(),Tg=new WeakMap,Cg=new Map;let mb=1e10;function tp(e,t){const s=_b(t);let u=Tg.get(e);if(u||Tg.set(e,u=Object.create(null)),u[s])return new u[s];const a=`_onBeforeCompile${s}`,o=function(m,g){e.onBeforeCompile.call(this,m,g);const y=this.customProgramCacheKey()+"|"+m.vertexShader+"|"+m.fragmentShader;let w=Cg[y];if(!w){const S=gb(this,m,t,s);w=Cg[y]=S}m.vertexShader=w.vertexShader,m.fragmentShader=w.fragmentShader,js(m.uniforms,this.uniforms),t.timeUniform&&(m.uniforms[t.timeUniform]={get value(){return Date.now()-pb}}),this[a]&&this[a](m)},c=function(){return h(t.chained?e:e.clone())},h=function(m){const g=Object.create(m,d);return Object.defineProperty(g,"baseMaterial",{value:e}),Object.defineProperty(g,"id",{value:mb++}),g.uuid=hb(),g.uniforms=js({},m.uniforms,t.uniforms),g.defines=js({},m.defines,t.defines),g.defines[`TROIKA_DERIVED_MATERIAL_${s}`]="",g.extensions=js({},m.extensions,t.extensions),g._listeners=void 0,g},d={constructor:{value:c},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:m=>{e.type=m}},isDerivedFrom:{writable:!0,configurable:!0,value:function(m){const g=this.baseMaterial;return m===g||g.isDerivedMaterial&&g.isDerivedFrom(m)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+s}},onBeforeCompile:{get(){return o},set(m){this[a]=m}},copy:{writable:!0,configurable:!0,value:function(m){return e.copy.call(this,m),!e.isShaderMaterial&&!e.isDerivedMaterial&&(js(this.extensions,m.extensions),js(this.defines,m.defines),js(this.uniforms,Jh.clone(m.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const m=new e.constructor;return h(m).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let m=this._depthMaterial;return m||(m=this._depthMaterial=tp(e.isDerivedMaterial?e.getDepthMaterial():new m2({depthPacking:g2}),t),m.defines.IS_DEPTH_MATERIAL="",m.uniforms=this.uniforms),m}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let m=this._distanceMaterial;return m||(m=this._distanceMaterial=tp(e.isDerivedMaterial?e.getDistanceMaterial():new v2,t),m.defines.IS_DISTANCE_MATERIAL="",m.uniforms=this.uniforms),m}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:m,_distanceMaterial:g}=this;m&&m.dispose(),g&&g.dispose(),e.dispose.call(this)}}};return u[s]=c,new c}function gb(e,{vertexShader:t,fragmentShader:s},u,a){let{vertexDefs:o,vertexMainIntro:c,vertexMainOutro:h,vertexTransform:d,fragmentDefs:m,fragmentMainIntro:g,fragmentMainOutro:y,fragmentColorTransform:w,customRewriter:S,timeUniform:E}=u;if(o=o||"",c=c||"",h=h||"",m=m||"",g=g||"",y=y||"",(d||S)&&(t=ep(t)),(w||S)&&(s=s.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),s=ep(s)),S){let P=S({vertexShader:t,fragmentShader:s});t=P.vertexShader,s=P.fragmentShader}if(w){let P=[];s=s.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,R=>(P.push(R),"")),y=`${w}
${P.join(`
`)}
${y}`}if(E){const P=`
uniform float ${E};
`;o=P+o,m=P+m}return d&&(t=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${t}
`,o=`${o}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${d}
}
`,c=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${c}
`,t=t.replace(/\b(position|normal|uv)\b/g,(P,R,A,I)=>/\battribute\s+vec[23]\s+$/.test(I.substr(0,A))?R:`troika_${R}_${a}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),t=kg(t,a,o,c,h),s=kg(s,a,m,g,y),{vertexShader:t,fragmentShader:s}}function kg(e,t,s,u,a){return(u||a||s)&&(e=e.replace($0,`
${s}
void troikaOrigMain${t}() {`),e+=`
void main() {
  ${u}
  troikaOrigMain${t}();
  ${a}
}`),e}function vb(e,t){return e==="uniforms"?void 0:typeof t=="function"?t.toString():t}let yb=0;const Ag=new Map;function _b(e){const t=JSON.stringify(e,vb);let s=Ag.get(t);return s==null&&Ag.set(t,s=++yb),s}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function wb(){return typeof window>"u"&&(self.window=self),function(e){var t={parse:function(a){var o=t._bin,c=new Uint8Array(a);if(o.readASCII(c,0,4)=="ttcf"){var h=4;o.readUshort(c,h),h+=2,o.readUshort(c,h),h+=2;var d=o.readUint(c,h);h+=4;for(var m=[],g=0;g<d;g++){var y=o.readUint(c,h);h+=4,m.push(t._readFont(c,y))}return m}return[t._readFont(c,0)]},_readFont:function(a,o){var c=t._bin,h=o;c.readFixed(a,o),o+=4;var d=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2;for(var m=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],g={_data:a,_offset:h},y={},w=0;w<d;w++){var S=c.readASCII(a,o,4);o+=4,c.readUint(a,o),o+=4;var E=c.readUint(a,o);o+=4;var P=c.readUint(a,o);o+=4,y[S]={offset:E,length:P}}for(w=0;w<m.length;w++){var R=m[w];y[R]&&(g[R.trim()]=t[R.trim()].parse(a,y[R].offset,y[R].length,g))}return g},_tabOffset:function(a,o,c){for(var h=t._bin,d=h.readUshort(a,c+4),m=c+12,g=0;g<d;g++){var y=h.readASCII(a,m,4);m+=4,h.readUint(a,m),m+=4;var w=h.readUint(a,m);if(m+=4,h.readUint(a,m),m+=4,y==o)return w}return 0}};t._bin={readFixed:function(a,o){return(a[o]<<8|a[o+1])+(a[o+2]<<8|a[o+3])/65540},readF2dot14:function(a,o){return t._bin.readShort(a,o)/16384},readInt:function(a,o){return t._bin._view(a).getInt32(o)},readInt8:function(a,o){return t._bin._view(a).getInt8(o)},readShort:function(a,o){return t._bin._view(a).getInt16(o)},readUshort:function(a,o){return t._bin._view(a).getUint16(o)},readUshorts:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(t._bin.readUshort(a,o+2*d));return h},readUint:function(a,o){return t._bin._view(a).getUint32(o)},readUint64:function(a,o){return 4294967296*t._bin.readUint(a,o)+t._bin.readUint(a,o+4)},readASCII:function(a,o,c){for(var h="",d=0;d<c;d++)h+=String.fromCharCode(a[o+d]);return h},readUnicode:function(a,o,c){for(var h="",d=0;d<c;d++){var m=a[o++]<<8|a[o++];h+=String.fromCharCode(m)}return h},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(a,o,c){var h=t._bin._tdec;return h&&o==0&&c==a.length?h.decode(a):t._bin.readASCII(a,o,c)},readBytes:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(a[o+d]);return h},readASCIIArray:function(a,o,c){for(var h=[],d=0;d<c;d++)h.push(String.fromCharCode(a[o+d]));return h},_view:function(a){return a._dataView||(a._dataView=a.buffer?new DataView(a.buffer,a.byteOffset,a.byteLength):new DataView(new Uint8Array(a).buffer))}},t._lctf={},t._lctf.parse=function(a,o,c,h,d){var m=t._bin,g={},y=o;m.readFixed(a,o),o+=4;var w=m.readUshort(a,o);o+=2;var S=m.readUshort(a,o);o+=2;var E=m.readUshort(a,o);return o+=2,g.scriptList=t._lctf.readScriptList(a,y+w),g.featureList=t._lctf.readFeatureList(a,y+S),g.lookupList=t._lctf.readLookupList(a,y+E,d),g},t._lctf.readLookupList=function(a,o,c){var h=t._bin,d=o,m=[],g=h.readUshort(a,o);o+=2;for(var y=0;y<g;y++){var w=h.readUshort(a,o);o+=2;var S=t._lctf.readLookupTable(a,d+w,c);m.push(S)}return m},t._lctf.readLookupTable=function(a,o,c){var h=t._bin,d=o,m={tabs:[]};m.ltype=h.readUshort(a,o),o+=2,m.flag=h.readUshort(a,o),o+=2;var g=h.readUshort(a,o);o+=2;for(var y=m.ltype,w=0;w<g;w++){var S=h.readUshort(a,o);o+=2;var E=c(a,y,d+S,m);m.tabs.push(E)}return m},t._lctf.numOfOnes=function(a){for(var o=0,c=0;c<32;c++)a>>>c&1&&o++;return o},t._lctf.readClassDef=function(a,o){var c=t._bin,h=[],d=c.readUshort(a,o);if(o+=2,d==1){var m=c.readUshort(a,o);o+=2;var g=c.readUshort(a,o);o+=2;for(var y=0;y<g;y++)h.push(m+y),h.push(m+y),h.push(c.readUshort(a,o)),o+=2}if(d==2){var w=c.readUshort(a,o);for(o+=2,y=0;y<w;y++)h.push(c.readUshort(a,o)),o+=2,h.push(c.readUshort(a,o)),o+=2,h.push(c.readUshort(a,o)),o+=2}return h},t._lctf.getInterval=function(a,o){for(var c=0;c<a.length;c+=3){var h=a[c],d=a[c+1];if(a[c+2],h<=o&&o<=d)return c}return-1},t._lctf.readCoverage=function(a,o){var c=t._bin,h={};h.fmt=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);return o+=2,h.fmt==1&&(h.tab=c.readUshorts(a,o,d)),h.fmt==2&&(h.tab=c.readUshorts(a,o,3*d)),h},t._lctf.coverageIndex=function(a,o){var c=a.tab;if(a.fmt==1)return c.indexOf(o);if(a.fmt==2){var h=t._lctf.getInterval(c,o);if(h!=-1)return c[h+2]+(o-c[h])}return-1},t._lctf.readFeatureList=function(a,o){var c=t._bin,h=o,d=[],m=c.readUshort(a,o);o+=2;for(var g=0;g<m;g++){var y=c.readASCII(a,o,4);o+=4;var w=c.readUshort(a,o);o+=2;var S=t._lctf.readFeatureTable(a,h+w);S.tag=y.trim(),d.push(S)}return d},t._lctf.readFeatureTable=function(a,o){var c=t._bin,h=o,d={},m=c.readUshort(a,o);o+=2,m>0&&(d.featureParams=h+m);var g=c.readUshort(a,o);o+=2,d.tab=[];for(var y=0;y<g;y++)d.tab.push(c.readUshort(a,o+2*y));return d},t._lctf.readScriptList=function(a,o){var c=t._bin,h=o,d={},m=c.readUshort(a,o);o+=2;for(var g=0;g<m;g++){var y=c.readASCII(a,o,4);o+=4;var w=c.readUshort(a,o);o+=2,d[y.trim()]=t._lctf.readScriptTable(a,h+w)}return d},t._lctf.readScriptTable=function(a,o){var c=t._bin,h=o,d={},m=c.readUshort(a,o);o+=2,m>0&&(d.default=t._lctf.readLangSysTable(a,h+m));var g=c.readUshort(a,o);o+=2;for(var y=0;y<g;y++){var w=c.readASCII(a,o,4);o+=4;var S=c.readUshort(a,o);o+=2,d[w.trim()]=t._lctf.readLangSysTable(a,h+S)}return d},t._lctf.readLangSysTable=function(a,o){var c=t._bin,h={};c.readUshort(a,o),o+=2,h.reqFeature=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);return o+=2,h.features=c.readUshorts(a,o,d),h},t.CFF={},t.CFF.parse=function(a,o,c){var h=t._bin;(a=new Uint8Array(a.buffer,o,c))[o=0],a[++o],a[++o],a[++o],o++;var d=[];o=t.CFF.readIndex(a,o,d);for(var m=[],g=0;g<d.length-1;g++)m.push(h.readASCII(a,o+d[g],d[g+1]-d[g]));o+=d[d.length-1];var y=[];o=t.CFF.readIndex(a,o,y);var w=[];for(g=0;g<y.length-1;g++)w.push(t.CFF.readDict(a,o+y[g],o+y[g+1]));o+=y[y.length-1];var S=w[0],E=[];o=t.CFF.readIndex(a,o,E);var P=[];for(g=0;g<E.length-1;g++)P.push(h.readASCII(a,o+E[g],E[g+1]-E[g]));if(o+=E[E.length-1],t.CFF.readSubrs(a,o,S),S.CharStrings){o=S.CharStrings,E=[],o=t.CFF.readIndex(a,o,E);var R=[];for(g=0;g<E.length-1;g++)R.push(h.readBytes(a,o+E[g],E[g+1]-E[g]));S.CharStrings=R}if(S.ROS){o=S.FDArray;var A=[];for(o=t.CFF.readIndex(a,o,A),S.FDArray=[],g=0;g<A.length-1;g++){var I=t.CFF.readDict(a,o+A[g],o+A[g+1]);t.CFF._readFDict(a,I,P),S.FDArray.push(I)}o+=A[A.length-1],o=S.FDSelect,S.FDSelect=[];var L=a[o];if(o++,L!=3)throw L;var D=h.readUshort(a,o);for(o+=2,g=0;g<D+1;g++)S.FDSelect.push(h.readUshort(a,o),a[o+2]),o+=3}return S.Encoding&&(S.Encoding=t.CFF.readEncoding(a,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=t.CFF.readCharset(a,S.charset,S.CharStrings.length)),t.CFF._readFDict(a,S,P),S},t.CFF._readFDict=function(a,o,c){var h;for(var d in o.Private&&(h=o.Private[1],o.Private=t.CFF.readDict(a,h,h+o.Private[0]),o.Private.Subrs&&t.CFF.readSubrs(a,h+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(d)!=-1&&(o[d]=c[o[d]-426+35])},t.CFF.readSubrs=function(a,o,c){var h=t._bin,d=[];o=t.CFF.readIndex(a,o,d);var m,g=d.length;m=g<1240?107:g<33900?1131:32768,c.Bias=m,c.Subrs=[];for(var y=0;y<d.length-1;y++)c.Subrs.push(h.readBytes(a,o+d[y],d[y+1]-d[y]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(a,o){for(var c=0;c<a.charset.length;c++)if(a.charset[c]==o)return c;return-1},t.CFF.glyphBySE=function(a,o){return o<0||o>255?-1:t.CFF.glyphByUnicode(a,t.CFF.tableSE[o])},t.CFF.readEncoding=function(a,o,c){t._bin;var h=[".notdef"],d=a[o];if(o++,d!=0)throw"error: unknown encoding format: "+d;var m=a[o];o++;for(var g=0;g<m;g++)h.push(a[o+g]);return h},t.CFF.readCharset=function(a,o,c){var h=t._bin,d=[".notdef"],m=a[o];if(o++,m==0)for(var g=0;g<c;g++){var y=h.readUshort(a,o);o+=2,d.push(y)}else{if(m!=1&&m!=2)throw"error: format: "+m;for(;d.length<c;){y=h.readUshort(a,o),o+=2;var w=0;for(m==1?(w=a[o],o++):(w=h.readUshort(a,o),o+=2),g=0;g<=w;g++)d.push(y),y++}}return d},t.CFF.readIndex=function(a,o,c){var h=t._bin,d=h.readUshort(a,o)+1,m=a[o+=2];if(o++,m==1)for(var g=0;g<d;g++)c.push(a[o+g]);else if(m==2)for(g=0;g<d;g++)c.push(h.readUshort(a,o+2*g));else if(m==3)for(g=0;g<d;g++)c.push(16777215&h.readUint(a,o+3*g-1));else if(d!=1)throw"unsupported offset size: "+m+", count: "+d;return(o+=d*m)-1},t.CFF.getCharString=function(a,o,c){var h=t._bin,d=a[o],m=a[o+1];a[o+2],a[o+3],a[o+4];var g=1,y=null,w=null;d<=20&&(y=d,g=1),d==12&&(y=100*d+m,g=2),21<=d&&d<=27&&(y=d,g=1),d==28&&(w=h.readShort(a,o+1),g=3),29<=d&&d<=31&&(y=d,g=1),32<=d&&d<=246&&(w=d-139,g=1),247<=d&&d<=250&&(w=256*(d-247)+m+108,g=2),251<=d&&d<=254&&(w=256*-(d-251)-m-108,g=2),d==255&&(w=h.readInt(a,o+1)/65535,g=5),c.val=w??"o"+y,c.size=g},t.CFF.readCharString=function(a,o,c){for(var h=o+c,d=t._bin,m=[];o<h;){var g=a[o],y=a[o+1];a[o+2],a[o+3],a[o+4];var w=1,S=null,E=null;g<=20&&(S=g,w=1),g==12&&(S=100*g+y,w=2),g!=19&&g!=20||(S=g,w=2),21<=g&&g<=27&&(S=g,w=1),g==28&&(E=d.readShort(a,o+1),w=3),29<=g&&g<=31&&(S=g,w=1),32<=g&&g<=246&&(E=g-139,w=1),247<=g&&g<=250&&(E=256*(g-247)+y+108,w=2),251<=g&&g<=254&&(E=256*-(g-251)-y-108,w=2),g==255&&(E=d.readInt(a,o+1)/65535,w=5),m.push(E??"o"+S),o+=w}return m},t.CFF.readDict=function(a,o,c){for(var h=t._bin,d={},m=[];o<c;){var g=a[o],y=a[o+1];a[o+2],a[o+3],a[o+4];var w=1,S=null,E=null;if(g==28&&(E=h.readShort(a,o+1),w=3),g==29&&(E=h.readInt(a,o+1),w=5),32<=g&&g<=246&&(E=g-139,w=1),247<=g&&g<=250&&(E=256*(g-247)+y+108,w=2),251<=g&&g<=254&&(E=256*-(g-251)-y-108,w=2),g==255)throw E=h.readInt(a,o+1)/65535,w=5,"unknown number";if(g==30){var P=[];for(w=1;;){var R=a[o+w];w++;var A=R>>4,I=15&R;if(A!=15&&P.push(A),I!=15&&P.push(I),I==15)break}for(var L="",D=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],F=0;F<P.length;F++)L+=D[P[F]];E=parseFloat(L)}g<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][g],w=1,g==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][y],w=2)),S!=null?(d[S]=m.length==1?m[0]:m,m=[]):m.push(E),o+=w}return d},t.cmap={},t.cmap.parse=function(a,o,c){a=new Uint8Array(a.buffer,o,c),o=0;var h=t._bin,d={};h.readUshort(a,o),o+=2;var m=h.readUshort(a,o);o+=2;var g=[];d.tables=[];for(var y=0;y<m;y++){var w=h.readUshort(a,o);o+=2;var S=h.readUshort(a,o);o+=2;var E=h.readUint(a,o);o+=4;var P="p"+w+"e"+S,R=g.indexOf(E);if(R==-1){var A;R=d.tables.length,g.push(E);var I=h.readUshort(a,E);I==0?A=t.cmap.parse0(a,E):I==4?A=t.cmap.parse4(a,E):I==6?A=t.cmap.parse6(a,E):I==12?A=t.cmap.parse12(a,E):console.debug("unknown format: "+I,w,S,E),d.tables.push(A)}if(d[P]!=null)throw"multiple tables for one platform+encoding";d[P]=R}return d},t.cmap.parse0=function(a,o){var c=t._bin,h={};h.format=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2,h.map=[];for(var m=0;m<d-6;m++)h.map.push(a[o+m]);return h},t.cmap.parse4=function(a,o){var c=t._bin,h=o,d={};d.format=c.readUshort(a,o),o+=2;var m=c.readUshort(a,o);o+=2,c.readUshort(a,o),o+=2;var g=c.readUshort(a,o);o+=2;var y=g/2;d.searchRange=c.readUshort(a,o),o+=2,d.entrySelector=c.readUshort(a,o),o+=2,d.rangeShift=c.readUshort(a,o),o+=2,d.endCount=c.readUshorts(a,o,y),o+=2*y,o+=2,d.startCount=c.readUshorts(a,o,y),o+=2*y,d.idDelta=[];for(var w=0;w<y;w++)d.idDelta.push(c.readShort(a,o)),o+=2;for(d.idRangeOffset=c.readUshorts(a,o,y),o+=2*y,d.glyphIdArray=[];o<h+m;)d.glyphIdArray.push(c.readUshort(a,o)),o+=2;return d},t.cmap.parse6=function(a,o){var c=t._bin,h={};h.format=c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,c.readUshort(a,o),o+=2,h.firstCode=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2,h.glyphIdArray=[];for(var m=0;m<d;m++)h.glyphIdArray.push(c.readUshort(a,o)),o+=2;return h},t.cmap.parse12=function(a,o){var c=t._bin,h={};h.format=c.readUshort(a,o),o+=2,o+=2,c.readUint(a,o),o+=4,c.readUint(a,o),o+=4;var d=c.readUint(a,o);o+=4,h.groups=[];for(var m=0;m<d;m++){var g=o+12*m,y=c.readUint(a,g+0),w=c.readUint(a,g+4),S=c.readUint(a,g+8);h.groups.push([y,w,S])}return h},t.glyf={},t.glyf.parse=function(a,o,c,h){for(var d=[],m=0;m<h.maxp.numGlyphs;m++)d.push(null);return d},t.glyf._parseGlyf=function(a,o){var c=t._bin,h=a._data,d=t._tabOffset(h,"glyf",a._offset)+a.loca[o];if(a.loca[o]==a.loca[o+1])return null;var m={};if(m.noc=c.readShort(h,d),d+=2,m.xMin=c.readShort(h,d),d+=2,m.yMin=c.readShort(h,d),d+=2,m.xMax=c.readShort(h,d),d+=2,m.yMax=c.readShort(h,d),d+=2,m.xMin>=m.xMax||m.yMin>=m.yMax)return null;if(m.noc>0){m.endPts=[];for(var g=0;g<m.noc;g++)m.endPts.push(c.readUshort(h,d)),d+=2;var y=c.readUshort(h,d);if(d+=2,h.length-d<y)return null;m.instructions=c.readBytes(h,d,y),d+=y;var w=m.endPts[m.noc-1]+1;for(m.flags=[],g=0;g<w;g++){var S=h[d];if(d++,m.flags.push(S),(8&S)!=0){var E=h[d];d++;for(var P=0;P<E;P++)m.flags.push(S),g++}}for(m.xs=[],g=0;g<w;g++){var R=(2&m.flags[g])!=0,A=(16&m.flags[g])!=0;R?(m.xs.push(A?h[d]:-h[d]),d++):A?m.xs.push(0):(m.xs.push(c.readShort(h,d)),d+=2)}for(m.ys=[],g=0;g<w;g++)R=(4&m.flags[g])!=0,A=(32&m.flags[g])!=0,R?(m.ys.push(A?h[d]:-h[d]),d++):A?m.ys.push(0):(m.ys.push(c.readShort(h,d)),d+=2);var I=0,L=0;for(g=0;g<w;g++)I+=m.xs[g],L+=m.ys[g],m.xs[g]=I,m.ys[g]=L}else{var D;m.parts=[];do{D=c.readUshort(h,d),d+=2;var F={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(m.parts.push(F),F.glyphIndex=c.readUshort(h,d),d+=2,1&D){var G=c.readShort(h,d);d+=2;var j=c.readShort(h,d);d+=2}else G=c.readInt8(h,d),d++,j=c.readInt8(h,d),d++;2&D?(F.m.tx=G,F.m.ty=j):(F.p1=G,F.p2=j),8&D?(F.m.a=F.m.d=c.readF2dot14(h,d),d+=2):64&D?(F.m.a=c.readF2dot14(h,d),d+=2,F.m.d=c.readF2dot14(h,d),d+=2):128&D&&(F.m.a=c.readF2dot14(h,d),d+=2,F.m.b=c.readF2dot14(h,d),d+=2,F.m.c=c.readF2dot14(h,d),d+=2,F.m.d=c.readF2dot14(h,d),d+=2)}while(32&D);if(256&D){var W=c.readUshort(h,d);for(d+=2,m.instr=[],g=0;g<W;g++)m.instr.push(h[d]),d++}}return m},t.GDEF={},t.GDEF.parse=function(a,o,c,h){var d=o;o+=4;var m=t._bin.readUshort(a,o);return{glyphClassDef:m===0?null:t._lctf.readClassDef(a,d+m)}},t.GPOS={},t.GPOS.parse=function(a,o,c,h){return t._lctf.parse(a,o,c,h,t.GPOS.subt)},t.GPOS.subt=function(a,o,c,h){var d=t._bin,m=c,g={};if(g.fmt=d.readUshort(a,c),c+=2,o==1||o==2||o==3||o==7||o==8&&g.fmt<=2){var y=d.readUshort(a,c);c+=2,g.coverage=t._lctf.readCoverage(a,y+m)}if(o==1&&g.fmt==1){var w=d.readUshort(a,c);c+=2,w!=0&&(g.pos=t.GPOS.readValueRecord(a,c,w))}else if(o==2&&g.fmt>=1&&g.fmt<=2){w=d.readUshort(a,c),c+=2;var S=d.readUshort(a,c);c+=2;var E=t._lctf.numOfOnes(w),P=t._lctf.numOfOnes(S);if(g.fmt==1){g.pairsets=[];var R=d.readUshort(a,c);c+=2;for(var A=0;A<R;A++){var I=m+d.readUshort(a,c);c+=2;var L=d.readUshort(a,I);I+=2;for(var D=[],F=0;F<L;F++){var G=d.readUshort(a,I);I+=2,w!=0&&(Y=t.GPOS.readValueRecord(a,I,w),I+=2*E),S!=0&&(ce=t.GPOS.readValueRecord(a,I,S),I+=2*P),D.push({gid2:G,val1:Y,val2:ce})}g.pairsets.push(D)}}if(g.fmt==2){var j=d.readUshort(a,c);c+=2;var W=d.readUshort(a,c);c+=2;var q=d.readUshort(a,c);c+=2;var J=d.readUshort(a,c);for(c+=2,g.classDef1=t._lctf.readClassDef(a,m+j),g.classDef2=t._lctf.readClassDef(a,m+W),g.matrix=[],A=0;A<q;A++){var ie=[];for(F=0;F<J;F++){var Y=null,ce=null;w!=0&&(Y=t.GPOS.readValueRecord(a,c,w),c+=2*E),S!=0&&(ce=t.GPOS.readValueRecord(a,c,S),c+=2*P),ie.push({val1:Y,val2:ce})}g.matrix.push(ie)}}}else if(o==4&&g.fmt==1)g.markCoverage=t._lctf.readCoverage(a,d.readUshort(a,c)+m),g.baseCoverage=t._lctf.readCoverage(a,d.readUshort(a,c+2)+m),g.markClassCount=d.readUshort(a,c+4),g.markArray=t.GPOS.readMarkArray(a,d.readUshort(a,c+6)+m),g.baseArray=t.GPOS.readBaseArray(a,d.readUshort(a,c+8)+m,g.markClassCount);else if(o==6&&g.fmt==1)g.mark1Coverage=t._lctf.readCoverage(a,d.readUshort(a,c)+m),g.mark2Coverage=t._lctf.readCoverage(a,d.readUshort(a,c+2)+m),g.markClassCount=d.readUshort(a,c+4),g.mark1Array=t.GPOS.readMarkArray(a,d.readUshort(a,c+6)+m),g.mark2Array=t.GPOS.readBaseArray(a,d.readUshort(a,c+8)+m,g.markClassCount);else{if(o==9&&g.fmt==1){var pe=d.readUshort(a,c);c+=2;var xe=d.readUint(a,c);if(c+=4,h.ltype==9)h.ltype=pe;else if(h.ltype!=pe)throw"invalid extension substitution";return t.GPOS.subt(a,h.ltype,m+xe)}console.debug("unsupported GPOS table LookupType",o,"format",g.fmt)}return g},t.GPOS.readValueRecord=function(a,o,c){var h=t._bin,d=[];return d.push(1&c?h.readShort(a,o):0),o+=1&c?2:0,d.push(2&c?h.readShort(a,o):0),o+=2&c?2:0,d.push(4&c?h.readShort(a,o):0),o+=4&c?2:0,d.push(8&c?h.readShort(a,o):0),o+=8&c?2:0,d},t.GPOS.readBaseArray=function(a,o,c){var h=t._bin,d=[],m=o,g=h.readUshort(a,o);o+=2;for(var y=0;y<g;y++){for(var w=[],S=0;S<c;S++)w.push(t.GPOS.readAnchorRecord(a,m+h.readUshort(a,o))),o+=2;d.push(w)}return d},t.GPOS.readMarkArray=function(a,o){var c=t._bin,h=[],d=o,m=c.readUshort(a,o);o+=2;for(var g=0;g<m;g++){var y=t.GPOS.readAnchorRecord(a,c.readUshort(a,o+2)+d);y.markClass=c.readUshort(a,o),h.push(y),o+=4}return h},t.GPOS.readAnchorRecord=function(a,o){var c=t._bin,h={};return h.fmt=c.readUshort(a,o),h.x=c.readShort(a,o+2),h.y=c.readShort(a,o+4),h},t.GSUB={},t.GSUB.parse=function(a,o,c,h){return t._lctf.parse(a,o,c,h,t.GSUB.subt)},t.GSUB.subt=function(a,o,c,h){var d=t._bin,m=c,g={};if(g.fmt=d.readUshort(a,c),c+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&g.fmt<=2||o==6&&g.fmt<=2){var y=d.readUshort(a,c);c+=2,g.coverage=t._lctf.readCoverage(a,m+y)}if(o==1&&g.fmt>=1&&g.fmt<=2){if(g.fmt==1)g.delta=d.readShort(a,c),c+=2;else if(g.fmt==2){var w=d.readUshort(a,c);c+=2,g.newg=d.readUshorts(a,c,w),c+=2*g.newg.length}}else if(o==2&&g.fmt==1){w=d.readUshort(a,c),c+=2,g.seqs=[];for(var S=0;S<w;S++){var E=d.readUshort(a,c)+m;c+=2;var P=d.readUshort(a,E);g.seqs.push(d.readUshorts(a,E+2,P))}}else if(o==4)for(g.vals=[],w=d.readUshort(a,c),c+=2,S=0;S<w;S++){var R=d.readUshort(a,c);c+=2,g.vals.push(t.GSUB.readLigatureSet(a,m+R))}else if(o==5&&g.fmt==2){if(g.fmt==2){var A=d.readUshort(a,c);c+=2,g.cDef=t._lctf.readClassDef(a,m+A),g.scset=[];var I=d.readUshort(a,c);for(c+=2,S=0;S<I;S++){var L=d.readUshort(a,c);c+=2,g.scset.push(L==0?null:t.GSUB.readSubClassSet(a,m+L))}}}else if(o==6&&g.fmt==3){if(g.fmt==3){for(S=0;S<3;S++){w=d.readUshort(a,c),c+=2;for(var D=[],F=0;F<w;F++)D.push(t._lctf.readCoverage(a,m+d.readUshort(a,c+2*F)));c+=2*w,S==0&&(g.backCvg=D),S==1&&(g.inptCvg=D),S==2&&(g.ahedCvg=D)}w=d.readUshort(a,c),c+=2,g.lookupRec=t.GSUB.readSubstLookupRecords(a,c,w)}}else{if(o==7&&g.fmt==1){var G=d.readUshort(a,c);c+=2;var j=d.readUint(a,c);if(c+=4,h.ltype==9)h.ltype=G;else if(h.ltype!=G)throw"invalid extension substitution";return t.GSUB.subt(a,h.ltype,m+j)}console.debug("unsupported GSUB table LookupType",o,"format",g.fmt)}return g},t.GSUB.readSubClassSet=function(a,o){var c=t._bin.readUshort,h=o,d=[],m=c(a,o);o+=2;for(var g=0;g<m;g++){var y=c(a,o);o+=2,d.push(t.GSUB.readSubClassRule(a,h+y))}return d},t.GSUB.readSubClassRule=function(a,o){var c=t._bin.readUshort,h={},d=c(a,o),m=c(a,o+=2);o+=2,h.input=[];for(var g=0;g<d-1;g++)h.input.push(c(a,o)),o+=2;return h.substLookupRecords=t.GSUB.readSubstLookupRecords(a,o,m),h},t.GSUB.readSubstLookupRecords=function(a,o,c){for(var h=t._bin.readUshort,d=[],m=0;m<c;m++)d.push(h(a,o),h(a,o+2)),o+=4;return d},t.GSUB.readChainSubClassSet=function(a,o){var c=t._bin,h=o,d=[],m=c.readUshort(a,o);o+=2;for(var g=0;g<m;g++){var y=c.readUshort(a,o);o+=2,d.push(t.GSUB.readChainSubClassRule(a,h+y))}return d},t.GSUB.readChainSubClassRule=function(a,o){for(var c=t._bin,h={},d=["backtrack","input","lookahead"],m=0;m<d.length;m++){var g=c.readUshort(a,o);o+=2,m==1&&g--,h[d[m]]=c.readUshorts(a,o,g),o+=2*h[d[m]].length}return g=c.readUshort(a,o),o+=2,h.subst=c.readUshorts(a,o,2*g),o+=2*h.subst.length,h},t.GSUB.readLigatureSet=function(a,o){var c=t._bin,h=o,d=[],m=c.readUshort(a,o);o+=2;for(var g=0;g<m;g++){var y=c.readUshort(a,o);o+=2,d.push(t.GSUB.readLigature(a,h+y))}return d},t.GSUB.readLigature=function(a,o){var c=t._bin,h={chain:[]};h.nglyph=c.readUshort(a,o),o+=2;var d=c.readUshort(a,o);o+=2;for(var m=0;m<d-1;m++)h.chain.push(c.readUshort(a,o)),o+=2;return h},t.head={},t.head.parse=function(a,o,c){var h=t._bin,d={};return h.readFixed(a,o),o+=4,d.fontRevision=h.readFixed(a,o),o+=4,h.readUint(a,o),o+=4,h.readUint(a,o),o+=4,d.flags=h.readUshort(a,o),o+=2,d.unitsPerEm=h.readUshort(a,o),o+=2,d.created=h.readUint64(a,o),o+=8,d.modified=h.readUint64(a,o),o+=8,d.xMin=h.readShort(a,o),o+=2,d.yMin=h.readShort(a,o),o+=2,d.xMax=h.readShort(a,o),o+=2,d.yMax=h.readShort(a,o),o+=2,d.macStyle=h.readUshort(a,o),o+=2,d.lowestRecPPEM=h.readUshort(a,o),o+=2,d.fontDirectionHint=h.readShort(a,o),o+=2,d.indexToLocFormat=h.readShort(a,o),o+=2,d.glyphDataFormat=h.readShort(a,o),o+=2,d},t.hhea={},t.hhea.parse=function(a,o,c){var h=t._bin,d={};return h.readFixed(a,o),o+=4,d.ascender=h.readShort(a,o),o+=2,d.descender=h.readShort(a,o),o+=2,d.lineGap=h.readShort(a,o),o+=2,d.advanceWidthMax=h.readUshort(a,o),o+=2,d.minLeftSideBearing=h.readShort(a,o),o+=2,d.minRightSideBearing=h.readShort(a,o),o+=2,d.xMaxExtent=h.readShort(a,o),o+=2,d.caretSlopeRise=h.readShort(a,o),o+=2,d.caretSlopeRun=h.readShort(a,o),o+=2,d.caretOffset=h.readShort(a,o),o+=2,o+=8,d.metricDataFormat=h.readShort(a,o),o+=2,d.numberOfHMetrics=h.readUshort(a,o),o+=2,d},t.hmtx={},t.hmtx.parse=function(a,o,c,h){for(var d=t._bin,m={aWidth:[],lsBearing:[]},g=0,y=0,w=0;w<h.maxp.numGlyphs;w++)w<h.hhea.numberOfHMetrics&&(g=d.readUshort(a,o),o+=2,y=d.readShort(a,o),o+=2),m.aWidth.push(g),m.lsBearing.push(y);return m},t.kern={},t.kern.parse=function(a,o,c,h){var d=t._bin,m=d.readUshort(a,o);if(o+=2,m==1)return t.kern.parseV1(a,o-2,c,h);var g=d.readUshort(a,o);o+=2;for(var y={glyph1:[],rval:[]},w=0;w<g;w++){o+=2,c=d.readUshort(a,o),o+=2;var S=d.readUshort(a,o);o+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;o=t.kern.readFormat0(a,o,y)}return y},t.kern.parseV1=function(a,o,c,h){var d=t._bin;d.readFixed(a,o),o+=4;var m=d.readUint(a,o);o+=4;for(var g={glyph1:[],rval:[]},y=0;y<m;y++){d.readUint(a,o),o+=4;var w=d.readUshort(a,o);o+=2,d.readUshort(a,o),o+=2;var S=w>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;o=t.kern.readFormat0(a,o,g)}return g},t.kern.readFormat0=function(a,o,c){var h=t._bin,d=-1,m=h.readUshort(a,o);o+=2,h.readUshort(a,o),o+=2,h.readUshort(a,o),o+=2,h.readUshort(a,o),o+=2;for(var g=0;g<m;g++){var y=h.readUshort(a,o);o+=2;var w=h.readUshort(a,o);o+=2;var S=h.readShort(a,o);o+=2,y!=d&&(c.glyph1.push(y),c.rval.push({glyph2:[],vals:[]}));var E=c.rval[c.rval.length-1];E.glyph2.push(w),E.vals.push(S),d=y}return o},t.loca={},t.loca.parse=function(a,o,c,h){var d=t._bin,m=[],g=h.head.indexToLocFormat,y=h.maxp.numGlyphs+1;if(g==0)for(var w=0;w<y;w++)m.push(d.readUshort(a,o+(w<<1))<<1);if(g==1)for(w=0;w<y;w++)m.push(d.readUint(a,o+(w<<2)));return m},t.maxp={},t.maxp.parse=function(a,o,c){var h=t._bin,d={},m=h.readUint(a,o);return o+=4,d.numGlyphs=h.readUshort(a,o),o+=2,m==65536&&(d.maxPoints=h.readUshort(a,o),o+=2,d.maxContours=h.readUshort(a,o),o+=2,d.maxCompositePoints=h.readUshort(a,o),o+=2,d.maxCompositeContours=h.readUshort(a,o),o+=2,d.maxZones=h.readUshort(a,o),o+=2,d.maxTwilightPoints=h.readUshort(a,o),o+=2,d.maxStorage=h.readUshort(a,o),o+=2,d.maxFunctionDefs=h.readUshort(a,o),o+=2,d.maxInstructionDefs=h.readUshort(a,o),o+=2,d.maxStackElements=h.readUshort(a,o),o+=2,d.maxSizeOfInstructions=h.readUshort(a,o),o+=2,d.maxComponentElements=h.readUshort(a,o),o+=2,d.maxComponentDepth=h.readUshort(a,o),o+=2),d},t.name={},t.name.parse=function(a,o,c){var h=t._bin,d={};h.readUshort(a,o),o+=2;var m=h.readUshort(a,o);o+=2,h.readUshort(a,o);for(var g,y=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],w=o+=2,S=0;S<m;S++){var E=h.readUshort(a,o);o+=2;var P=h.readUshort(a,o);o+=2;var R=h.readUshort(a,o);o+=2;var A=h.readUshort(a,o);o+=2;var I=h.readUshort(a,o);o+=2;var L=h.readUshort(a,o);o+=2;var D,F=y[A],G=w+12*m+L;if(E==0)D=h.readUnicode(a,G,I/2);else if(E==3&&P==0)D=h.readUnicode(a,G,I/2);else if(P==0)D=h.readASCII(a,G,I);else if(P==1)D=h.readUnicode(a,G,I/2);else if(P==3)D=h.readUnicode(a,G,I/2);else{if(E!=1)throw"unknown encoding "+P+", platformID: "+E;D=h.readASCII(a,G,I),console.debug("reading unknown MAC encoding "+P+" as ASCII")}var j="p"+E+","+R.toString(16);d[j]==null&&(d[j]={}),d[j][F!==void 0?F:A]=D,d[j]._lang=R}for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==1033)return d[W];for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==0)return d[W];for(var W in d)if(d[W].postScriptName!=null&&d[W]._lang==3084)return d[W];for(var W in d)if(d[W].postScriptName!=null)return d[W];for(var W in d){g=W;break}return console.debug("returning name table with languageID "+d[g]._lang),d[g]},t["OS/2"]={},t["OS/2"].parse=function(a,o,c){var h=t._bin.readUshort(a,o);o+=2;var d={};if(h==0)t["OS/2"].version0(a,o,d);else if(h==1)t["OS/2"].version1(a,o,d);else if(h==2||h==3||h==4)t["OS/2"].version2(a,o,d);else{if(h!=5)throw"unknown OS/2 table version: "+h;t["OS/2"].version5(a,o,d)}return d},t["OS/2"].version0=function(a,o,c){var h=t._bin;return c.xAvgCharWidth=h.readShort(a,o),o+=2,c.usWeightClass=h.readUshort(a,o),o+=2,c.usWidthClass=h.readUshort(a,o),o+=2,c.fsType=h.readUshort(a,o),o+=2,c.ySubscriptXSize=h.readShort(a,o),o+=2,c.ySubscriptYSize=h.readShort(a,o),o+=2,c.ySubscriptXOffset=h.readShort(a,o),o+=2,c.ySubscriptYOffset=h.readShort(a,o),o+=2,c.ySuperscriptXSize=h.readShort(a,o),o+=2,c.ySuperscriptYSize=h.readShort(a,o),o+=2,c.ySuperscriptXOffset=h.readShort(a,o),o+=2,c.ySuperscriptYOffset=h.readShort(a,o),o+=2,c.yStrikeoutSize=h.readShort(a,o),o+=2,c.yStrikeoutPosition=h.readShort(a,o),o+=2,c.sFamilyClass=h.readShort(a,o),o+=2,c.panose=h.readBytes(a,o,10),o+=10,c.ulUnicodeRange1=h.readUint(a,o),o+=4,c.ulUnicodeRange2=h.readUint(a,o),o+=4,c.ulUnicodeRange3=h.readUint(a,o),o+=4,c.ulUnicodeRange4=h.readUint(a,o),o+=4,c.achVendID=[h.readInt8(a,o),h.readInt8(a,o+1),h.readInt8(a,o+2),h.readInt8(a,o+3)],o+=4,c.fsSelection=h.readUshort(a,o),o+=2,c.usFirstCharIndex=h.readUshort(a,o),o+=2,c.usLastCharIndex=h.readUshort(a,o),o+=2,c.sTypoAscender=h.readShort(a,o),o+=2,c.sTypoDescender=h.readShort(a,o),o+=2,c.sTypoLineGap=h.readShort(a,o),o+=2,c.usWinAscent=h.readUshort(a,o),o+=2,c.usWinDescent=h.readUshort(a,o),o+=2},t["OS/2"].version1=function(a,o,c){var h=t._bin;return o=t["OS/2"].version0(a,o,c),c.ulCodePageRange1=h.readUint(a,o),o+=4,c.ulCodePageRange2=h.readUint(a,o),o+=4},t["OS/2"].version2=function(a,o,c){var h=t._bin;return o=t["OS/2"].version1(a,o,c),c.sxHeight=h.readShort(a,o),o+=2,c.sCapHeight=h.readShort(a,o),o+=2,c.usDefault=h.readUshort(a,o),o+=2,c.usBreak=h.readUshort(a,o),o+=2,c.usMaxContext=h.readUshort(a,o),o+=2},t["OS/2"].version5=function(a,o,c){var h=t._bin;return o=t["OS/2"].version2(a,o,c),c.usLowerOpticalPointSize=h.readUshort(a,o),o+=2,c.usUpperOpticalPointSize=h.readUshort(a,o),o+=2},t.post={},t.post.parse=function(a,o,c){var h=t._bin,d={};return d.version=h.readFixed(a,o),o+=4,d.italicAngle=h.readFixed(a,o),o+=4,d.underlinePosition=h.readShort(a,o),o+=2,d.underlineThickness=h.readShort(a,o),o+=2,d},t==null&&(t={}),t.U==null&&(t.U={}),t.U.codeToGlyph=function(a,o){var c=a.cmap,h=-1;if(c.p0e4!=null?h=c.p0e4:c.p3e1!=null?h=c.p3e1:c.p1e0!=null?h=c.p1e0:c.p0e3!=null&&(h=c.p0e3),h==-1)throw"no familiar platform and encoding!";var d=c.tables[h];if(d.format==0)return o>=d.map.length?0:d.map[o];if(d.format==4){for(var m=-1,g=0;g<d.endCount.length;g++)if(o<=d.endCount[g]){m=g;break}return m==-1||d.startCount[m]>o?0:65535&(d.idRangeOffset[m]!=0?d.glyphIdArray[o-d.startCount[m]+(d.idRangeOffset[m]>>1)-(d.idRangeOffset.length-m)]:o+d.idDelta[m])}if(d.format==12){if(o>d.groups[d.groups.length-1][1])return 0;for(g=0;g<d.groups.length;g++){var y=d.groups[g];if(y[0]<=o&&o<=y[1])return y[2]+(o-y[0])}return 0}throw"unknown cmap table format "+d.format},t.U.glyphToPath=function(a,o){var c={cmds:[],crds:[]};if(a.SVG&&a.SVG.entries[o]){var h=a.SVG.entries[o];return h==null?c:(typeof h=="string"&&(h=t.SVG.toPath(h),a.SVG.entries[o]=h),h)}if(a.CFF){var d={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:a.CFF.Private?a.CFF.Private.defaultWidthX:0,open:!1},m=a.CFF,g=a.CFF.Private;if(m.ROS){for(var y=0;m.FDSelect[y+2]<=o;)y+=2;g=m.FDArray[m.FDSelect[y+1]].Private}t.U._drawCFF(a.CFF.CharStrings[o],d,m,g,c)}else a.glyf&&t.U._drawGlyf(o,a,c);return c},t.U._drawGlyf=function(a,o,c){var h=o.glyf[a];h==null&&(h=o.glyf[a]=t.glyf._parseGlyf(o,a)),h!=null&&(h.noc>-1?t.U._simpleGlyph(h,c):t.U._compoGlyph(h,o,c))},t.U._simpleGlyph=function(a,o){for(var c=0;c<a.noc;c++){for(var h=c==0?0:a.endPts[c-1]+1,d=a.endPts[c],m=h;m<=d;m++){var g=m==h?d:m-1,y=m==d?h:m+1,w=1&a.flags[m],S=1&a.flags[g],E=1&a.flags[y],P=a.xs[m],R=a.ys[m];if(m==h)if(w){if(!S){t.U.P.moveTo(o,P,R);continue}t.U.P.moveTo(o,a.xs[g],a.ys[g])}else S?t.U.P.moveTo(o,a.xs[g],a.ys[g]):t.U.P.moveTo(o,(a.xs[g]+P)/2,(a.ys[g]+R)/2);w?S&&t.U.P.lineTo(o,P,R):E?t.U.P.qcurveTo(o,P,R,a.xs[y],a.ys[y]):t.U.P.qcurveTo(o,P,R,(P+a.xs[y])/2,(R+a.ys[y])/2)}t.U.P.closePath(o)}},t.U._compoGlyph=function(a,o,c){for(var h=0;h<a.parts.length;h++){var d={cmds:[],crds:[]},m=a.parts[h];t.U._drawGlyf(m.glyphIndex,o,d);for(var g=m.m,y=0;y<d.crds.length;y+=2){var w=d.crds[y],S=d.crds[y+1];c.crds.push(w*g.a+S*g.b+g.tx),c.crds.push(w*g.c+S*g.d+g.ty)}for(y=0;y<d.cmds.length;y++)c.cmds.push(d.cmds[y])}},t.U._getGlyphClass=function(a,o){var c=t._lctf.getInterval(o,a);return c==-1?0:o[c+2]},t.U._applySubs=function(a,o,c,h){for(var d=a.length-o-1,m=0;m<c.tabs.length;m++)if(c.tabs[m]!=null){var g,y=c.tabs[m];if(!y.coverage||(g=t._lctf.coverageIndex(y.coverage,a[o]))!=-1){if(c.ltype==1)a[o],y.fmt==1?a[o]=a[o]+y.delta:a[o]=y.newg[g];else if(c.ltype==4)for(var w=y.vals[g],S=0;S<w.length;S++){var E=w[S],P=E.chain.length;if(!(P>d)){for(var R=!0,A=0,I=0;I<P;I++){for(;a[o+A+(1+I)]==-1;)A++;E.chain[I]!=a[o+A+(1+I)]&&(R=!1)}if(R){for(a[o]=E.nglyph,I=0;I<P+A;I++)a[o+I+1]=-1;break}}}else if(c.ltype==5&&y.fmt==2)for(var L=t._lctf.getInterval(y.cDef,a[o]),D=y.cDef[L+2],F=y.scset[D],G=0;G<F.length;G++){var j=F[G],W=j.input;if(!(W.length>d)){for(R=!0,I=0;I<W.length;I++){var q=t._lctf.getInterval(y.cDef,a[o+1+I]);if(L==-1&&y.cDef[q+2]!=W[I]){R=!1;break}}if(R){var J=j.substLookupRecords;for(S=0;S<J.length;S+=2)J[S],J[S+1]}}}else if(c.ltype==6&&y.fmt==3){if(!t.U._glsCovered(a,y.backCvg,o-y.backCvg.length)||!t.U._glsCovered(a,y.inptCvg,o)||!t.U._glsCovered(a,y.ahedCvg,o+y.inptCvg.length))continue;var ie=y.lookupRec;for(G=0;G<ie.length;G+=2){L=ie[G];var Y=h[ie[G+1]];t.U._applySubs(a,o+L,Y,h)}}}}},t.U._glsCovered=function(a,o,c){for(var h=0;h<o.length;h++)if(t._lctf.coverageIndex(o[h],a[c+h])==-1)return!1;return!0},t.U.glyphsToPath=function(a,o,c){for(var h={cmds:[],crds:[]},d=0,m=0;m<o.length;m++){var g=o[m];if(g!=-1){for(var y=m<o.length-1&&o[m+1]!=-1?o[m+1]:0,w=t.U.glyphToPath(a,g),S=0;S<w.crds.length;S+=2)h.crds.push(w.crds[S]+d),h.crds.push(w.crds[S+1]);for(c&&h.cmds.push(c),S=0;S<w.cmds.length;S++)h.cmds.push(w.cmds[S]);c&&h.cmds.push("X"),d+=a.hmtx.aWidth[g],m<o.length-1&&(d+=t.U.getPairAdjustment(a,g,y))}}return h},t.U.P={},t.U.P.moveTo=function(a,o,c){a.cmds.push("M"),a.crds.push(o,c)},t.U.P.lineTo=function(a,o,c){a.cmds.push("L"),a.crds.push(o,c)},t.U.P.curveTo=function(a,o,c,h,d,m,g){a.cmds.push("C"),a.crds.push(o,c,h,d,m,g)},t.U.P.qcurveTo=function(a,o,c,h,d){a.cmds.push("Q"),a.crds.push(o,c,h,d)},t.U.P.closePath=function(a){a.cmds.push("Z")},t.U._drawCFF=function(a,o,c,h,d){for(var m=o.stack,g=o.nStems,y=o.haveWidth,w=o.width,S=o.open,E=0,P=o.x,R=o.y,A=0,I=0,L=0,D=0,F=0,G=0,j=0,W=0,q=0,J=0,ie={val:0,size:0};E<a.length;){t.CFF.getCharString(a,E,ie);var Y=ie.val;if(E+=ie.size,Y=="o1"||Y=="o18")m.length%2!=0&&!y&&(w=m.shift()+h.nominalWidthX),g+=m.length>>1,m.length=0,y=!0;else if(Y=="o3"||Y=="o23")m.length%2!=0&&!y&&(w=m.shift()+h.nominalWidthX),g+=m.length>>1,m.length=0,y=!0;else if(Y=="o4")m.length>1&&!y&&(w=m.shift()+h.nominalWidthX,y=!0),S&&t.U.P.closePath(d),R+=m.pop(),t.U.P.moveTo(d,P,R),S=!0;else if(Y=="o5")for(;m.length>0;)P+=m.shift(),R+=m.shift(),t.U.P.lineTo(d,P,R);else if(Y=="o6"||Y=="o7")for(var ce=m.length,pe=Y=="o6",xe=0;xe<ce;xe++){var se=m.shift();pe?P+=se:R+=se,pe=!pe,t.U.P.lineTo(d,P,R)}else if(Y=="o8"||Y=="o24"){ce=m.length;for(var Ee=0;Ee+6<=ce;)A=P+m.shift(),I=R+m.shift(),L=A+m.shift(),D=I+m.shift(),P=L+m.shift(),R=D+m.shift(),t.U.P.curveTo(d,A,I,L,D,P,R),Ee+=6;Y=="o24"&&(P+=m.shift(),R+=m.shift(),t.U.P.lineTo(d,P,R))}else{if(Y=="o11")break;if(Y=="o1234"||Y=="o1235"||Y=="o1236"||Y=="o1237")Y=="o1234"&&(I=R,L=(A=P+m.shift())+m.shift(),J=D=I+m.shift(),G=D,W=R,P=(j=(F=(q=L+m.shift())+m.shift())+m.shift())+m.shift(),t.U.P.curveTo(d,A,I,L,D,q,J),t.U.P.curveTo(d,F,G,j,W,P,R)),Y=="o1235"&&(A=P+m.shift(),I=R+m.shift(),L=A+m.shift(),D=I+m.shift(),q=L+m.shift(),J=D+m.shift(),F=q+m.shift(),G=J+m.shift(),j=F+m.shift(),W=G+m.shift(),P=j+m.shift(),R=W+m.shift(),m.shift(),t.U.P.curveTo(d,A,I,L,D,q,J),t.U.P.curveTo(d,F,G,j,W,P,R)),Y=="o1236"&&(A=P+m.shift(),I=R+m.shift(),L=A+m.shift(),J=D=I+m.shift(),G=D,j=(F=(q=L+m.shift())+m.shift())+m.shift(),W=G+m.shift(),P=j+m.shift(),t.U.P.curveTo(d,A,I,L,D,q,J),t.U.P.curveTo(d,F,G,j,W,P,R)),Y=="o1237"&&(A=P+m.shift(),I=R+m.shift(),L=A+m.shift(),D=I+m.shift(),q=L+m.shift(),J=D+m.shift(),F=q+m.shift(),G=J+m.shift(),j=F+m.shift(),W=G+m.shift(),Math.abs(j-P)>Math.abs(W-R)?P=j+m.shift():R=W+m.shift(),t.U.P.curveTo(d,A,I,L,D,q,J),t.U.P.curveTo(d,F,G,j,W,P,R));else if(Y=="o14"){if(m.length>0&&!y&&(w=m.shift()+c.nominalWidthX,y=!0),m.length==4){var X=m.shift(),K=m.shift(),H=m.shift(),B=m.shift(),Q=t.CFF.glyphBySE(c,H),te=t.CFF.glyphBySE(c,B);t.U._drawCFF(c.CharStrings[Q],o,c,h,d),o.x=X,o.y=K,t.U._drawCFF(c.CharStrings[te],o,c,h,d)}S&&(t.U.P.closePath(d),S=!1)}else if(Y=="o19"||Y=="o20")m.length%2!=0&&!y&&(w=m.shift()+h.nominalWidthX),g+=m.length>>1,m.length=0,y=!0,E+=g+7>>3;else if(Y=="o21")m.length>2&&!y&&(w=m.shift()+h.nominalWidthX,y=!0),R+=m.pop(),P+=m.pop(),S&&t.U.P.closePath(d),t.U.P.moveTo(d,P,R),S=!0;else if(Y=="o22")m.length>1&&!y&&(w=m.shift()+h.nominalWidthX,y=!0),P+=m.pop(),S&&t.U.P.closePath(d),t.U.P.moveTo(d,P,R),S=!0;else if(Y=="o25"){for(;m.length>6;)P+=m.shift(),R+=m.shift(),t.U.P.lineTo(d,P,R);A=P+m.shift(),I=R+m.shift(),L=A+m.shift(),D=I+m.shift(),P=L+m.shift(),R=D+m.shift(),t.U.P.curveTo(d,A,I,L,D,P,R)}else if(Y=="o26")for(m.length%2&&(P+=m.shift());m.length>0;)A=P,I=R+m.shift(),P=L=A+m.shift(),R=(D=I+m.shift())+m.shift(),t.U.P.curveTo(d,A,I,L,D,P,R);else if(Y=="o27")for(m.length%2&&(R+=m.shift());m.length>0;)I=R,L=(A=P+m.shift())+m.shift(),D=I+m.shift(),P=L+m.shift(),R=D,t.U.P.curveTo(d,A,I,L,D,P,R);else if(Y=="o10"||Y=="o29"){var oe=Y=="o10"?h:c;if(m.length==0)console.debug("error: empty stack");else{var ee=m.pop(),le=oe.Subrs[ee+oe.Bias];o.x=P,o.y=R,o.nStems=g,o.haveWidth=y,o.width=w,o.open=S,t.U._drawCFF(le,o,c,h,d),P=o.x,R=o.y,g=o.nStems,y=o.haveWidth,w=o.width,S=o.open}}else if(Y=="o30"||Y=="o31"){var fe=m.length,_e=(Ee=0,Y=="o31");for(Ee+=fe-(ce=-3&fe);Ee<ce;)_e?(I=R,L=(A=P+m.shift())+m.shift(),R=(D=I+m.shift())+m.shift(),ce-Ee==5?(P=L+m.shift(),Ee++):P=L,_e=!1):(A=P,I=R+m.shift(),L=A+m.shift(),D=I+m.shift(),P=L+m.shift(),ce-Ee==5?(R=D+m.shift(),Ee++):R=D,_e=!0),t.U.P.curveTo(d,A,I,L,D,P,R),Ee+=4}else{if((Y+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Y,a),Y;m.push(Y)}}}o.x=P,o.y=R,o.nStems=g,o.haveWidth=y,o.width=w,o.open=S};var s=t,u={Typr:s};return e.Typr=s,e.default=u,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function xb(){return function(e){var t=Uint8Array,s=Uint16Array,u=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(Y,ce){for(var pe=new s(31),xe=0;xe<31;++xe)pe[xe]=ce+=1<<Y[xe-1];var se=new u(pe[30]);for(xe=1;xe<30;++xe)for(var Ee=pe[xe];Ee<pe[xe+1];++Ee)se[Ee]=Ee-pe[xe]<<5|xe;return[pe,se]},d=h(a,2),m=d[0],g=d[1];m[28]=258,g[258]=28;for(var y=h(o,0)[0],w=new s(32768),S=0;S<32768;++S){var E=(43690&S)>>>1|(21845&S)<<1;E=(61680&(E=(52428&E)>>>2|(13107&E)<<2))>>>4|(3855&E)<<4,w[S]=((65280&E)>>>8|(255&E)<<8)>>>1}var P=function(Y,ce,pe){for(var xe=Y.length,se=0,Ee=new s(ce);se<xe;++se)++Ee[Y[se]-1];var X,K=new s(ce);for(se=0;se<ce;++se)K[se]=K[se-1]+Ee[se-1]<<1;{X=new s(1<<ce);var H=15-ce;for(se=0;se<xe;++se)if(Y[se])for(var B=se<<4|Y[se],Q=ce-Y[se],te=K[Y[se]-1]++<<Q,oe=te|(1<<Q)-1;te<=oe;++te)X[w[te]>>>H]=B}return X},R=new t(288);for(S=0;S<144;++S)R[S]=8;for(S=144;S<256;++S)R[S]=9;for(S=256;S<280;++S)R[S]=7;for(S=280;S<288;++S)R[S]=8;var A=new t(32);for(S=0;S<32;++S)A[S]=5;var I=P(R,9),L=P(A,5),D=function(Y){for(var ce=Y[0],pe=1;pe<Y.length;++pe)Y[pe]>ce&&(ce=Y[pe]);return ce},F=function(Y,ce,pe){var xe=ce/8|0;return(Y[xe]|Y[xe+1]<<8)>>(7&ce)&pe},G=function(Y,ce){var pe=ce/8|0;return(Y[pe]|Y[pe+1]<<8|Y[pe+2]<<16)>>(7&ce)},j=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],W=function(Y,ce,pe){var xe=new Error(ce||j[Y]);if(xe.code=Y,Error.captureStackTrace&&Error.captureStackTrace(xe,W),!pe)throw xe;return xe},q=function(Y,ce,pe){var xe=Y.length;if(!xe||pe&&!pe.l&&xe<5)return ce||new t(0);var se=!ce||pe,Ee=!pe||pe.i;pe||(pe={}),ce||(ce=new t(3*xe));var X,K=function(ct){var ae=ce.length;if(ct>ae){var Re=new t(Math.max(2*ae,ct));Re.set(ce),ce=Re}},H=pe.f||0,B=pe.p||0,Q=pe.b||0,te=pe.l,oe=pe.d,ee=pe.m,le=pe.n,fe=8*xe;do{if(!te){pe.f=H=F(Y,B,1);var _e=F(Y,B+1,3);if(B+=3,!_e){var Oe=Y[(He=((X=B)/8|0)+(7&X&&1)+4)-4]|Y[He-3]<<8,je=He+Oe;if(je>xe){Ee&&W(0);break}se&&K(Q+Oe),ce.set(Y.subarray(He,je),Q),pe.b=Q+=Oe,pe.p=B=8*je;continue}if(_e==1)te=I,oe=L,ee=9,le=5;else if(_e==2){var Le=F(Y,B,31)+257,Ce=F(Y,B+10,15)+4,ht=Le+F(Y,B+5,31)+1;B+=14;for(var ot=new t(ht),Ve=new t(19),st=0;st<Ce;++st)Ve[c[st]]=F(Y,B+3*st,7);B+=3*Ce;var et=D(Ve),Ue=(1<<et)-1,lt=P(Ve,et);for(st=0;st<ht;){var He,Te=lt[F(Y,B,Ue)];if(B+=15&Te,(He=Te>>>4)<16)ot[st++]=He;else{var xt=0,Ge=0;for(He==16?(Ge=3+F(Y,B,3),B+=2,xt=ot[st-1]):He==17?(Ge=3+F(Y,B,7),B+=3):He==18&&(Ge=11+F(Y,B,127),B+=7);Ge--;)ot[st++]=xt}}var Qe=ot.subarray(0,Le),Be=ot.subarray(Le);ee=D(Qe),le=D(Be),te=P(Qe,ee),oe=P(Be,le)}else W(1);if(B>fe){Ee&&W(0);break}}se&&K(Q+131072);for(var $t=(1<<ee)-1,tt=(1<<le)-1,nt=B;;nt=B){var gt=(xt=te[G(Y,B)&$t])>>>4;if((B+=15&xt)>fe){Ee&&W(0);break}if(xt||W(2),gt<256)ce[Q++]=gt;else{if(gt==256){nt=B,te=null;break}var Ct=gt-254;if(gt>264){var tn=a[st=gt-257];Ct=F(Y,B,(1<<tn)-1)+m[st],B+=tn}var fn=oe[G(Y,B)&tt],It=fn>>>4;if(fn||W(3),B+=15&fn,Be=y[It],It>3&&(tn=o[It],Be+=G(Y,B)&(1<<tn)-1,B+=tn),B>fe){Ee&&W(0);break}se&&K(Q+131072);for(var Mt=Q+Ct;Q<Mt;Q+=4)ce[Q]=ce[Q-Be],ce[Q+1]=ce[Q+1-Be],ce[Q+2]=ce[Q+2-Be],ce[Q+3]=ce[Q+3-Be];Q=Mt}}pe.l=te,pe.p=nt,pe.b=Q,te&&(H=1,pe.m=ee,pe.d=oe,pe.n=le)}while(!H);return Q==ce.length?ce:function(ct,ae,Re){(Re==null||Re>ct.length)&&(Re=ct.length);var rt=new(ct instanceof s?s:ct instanceof u?u:t)(Re-ae);return rt.set(ct.subarray(ae,Re)),rt}(ce,0,Q)},J=new t(0),ie=typeof TextDecoder<"u"&&new TextDecoder;try{ie.decode(J,{stream:!0})}catch{}return e.convert_streams=function(Y){var ce=new DataView(Y),pe=0;function xe(){var Le=ce.getUint16(pe);return pe+=2,Le}function se(){var Le=ce.getUint32(pe);return pe+=4,Le}function Ee(Le){Oe.setUint16(je,Le),je+=2}function X(Le){Oe.setUint32(je,Le),je+=4}for(var K={signature:se(),flavor:se(),length:se(),numTables:xe(),reserved:xe(),totalSfntSize:se(),majorVersion:xe(),minorVersion:xe(),metaOffset:se(),metaLength:se(),metaOrigLength:se(),privOffset:se(),privLength:se()},H=0;Math.pow(2,H)<=K.numTables;)H++;H--;for(var B=16*Math.pow(2,H),Q=16*K.numTables-B,te=12,oe=[],ee=0;ee<K.numTables;ee++)oe.push({tag:se(),offset:se(),compLength:se(),origLength:se(),origChecksum:se()}),te+=16;var le,fe=new Uint8Array(12+16*oe.length+oe.reduce(function(Le,Ce){return Le+Ce.origLength+4},0)),_e=fe.buffer,Oe=new DataView(_e),je=0;return X(K.flavor),Ee(K.numTables),Ee(B),Ee(H),Ee(Q),oe.forEach(function(Le){X(Le.tag),X(Le.origChecksum),X(te),X(Le.origLength),Le.outOffset=te,(te+=Le.origLength)%4!=0&&(te+=4-te%4)}),oe.forEach(function(Le){var Ce,ht=Y.slice(Le.offset,Le.offset+Le.compLength);if(Le.compLength!=Le.origLength){var ot=new Uint8Array(Le.origLength);Ce=new Uint8Array(ht,2),q(Ce,ot)}else ot=new Uint8Array(ht);fe.set(ot,Le.outOffset);var Ve=0;(te=Le.outOffset+Le.origLength)%4!=0&&(Ve=4-te%4),fe.set(new Uint8Array(Ve).buffer,Le.outOffset+Le.origLength),le=te+Ve}),_e.slice(0,le)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams}function Sb(e,t){const s={M:2,L:2,Q:4,C:6,Z:0},u={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=1,o=2,c=4,h=8,d=16,m=32;let g;function y(j){if(!g){const W={R:o,L:a,D:c,C:d,U:m,T:h};g=new Map;for(let q in u){let J=0;u[q].split(",").forEach(ie=>{let[Y,ce]=ie.split("+");Y=parseInt(Y,36),ce=ce?parseInt(ce,36):0,g.set(J+=Y,W[q]);for(let pe=ce;pe--;)g.set(++J,W[q])})}}return g.get(j)||m}const w=1,S=2,E=3,P=4,R=[null,"isol","init","fina","medi"];function A(j){const W=new Uint8Array(j.length);let q=m,J=w,ie=-1;for(let Y=0;Y<j.length;Y++){const ce=j.codePointAt(Y);let pe=y(ce)|0,xe=w;pe&h||(q&(a|c|d)?pe&(o|c|d)?(xe=E,(J===w||J===E)&&W[ie]++):pe&(a|m)&&(J===S||J===P)&&W[ie]--:q&(o|m)&&(J===S||J===P)&&W[ie]--,J=W[Y]=xe,q=pe,ie=Y,ce>65535&&Y++)}return W}function I(j,W){const q=[];for(let ie=0;ie<W.length;ie++){const Y=W.codePointAt(ie);Y>65535&&ie++,q.push(e.U.codeToGlyph(j,Y))}const J=j.GSUB;if(J){const{lookupList:ie,featureList:Y}=J;let ce;const pe=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,xe=[];Y.forEach(se=>{if(pe.test(se.tag))for(let Ee=0;Ee<se.tab.length;Ee++){if(xe[se.tab[Ee]])continue;xe[se.tab[Ee]]=!0;const X=ie[se.tab[Ee]],K=/^(isol|init|fina|medi)$/.test(se.tag);K&&!ce&&(ce=A(W));for(let H=0;H<q.length;H++)(!ce||!K||R[ce[H]]===se.tag)&&e.U._applySubs(q,H,X,ie)}})}return q}function L(j,W){const q=new Int16Array(W.length*3);let J=0;for(;J<W.length;J++){const pe=W[J];if(pe===-1)continue;q[J*3+2]=j.hmtx.aWidth[pe];const xe=j.GPOS;if(xe){const se=xe.lookupList;for(let Ee=0;Ee<se.length;Ee++){const X=se[Ee];for(let K=0;K<X.tabs.length;K++){const H=X.tabs[K];if(X.ltype===1){if(e._lctf.coverageIndex(H.coverage,pe)!==-1&&H.pos){ce(H.pos,J);break}}else if(X.ltype===2){let B=null,Q=ie();if(Q!==-1){const te=e._lctf.coverageIndex(H.coverage,W[Q]);if(te!==-1){if(H.fmt===1){const oe=H.pairsets[te];for(let ee=0;ee<oe.length;ee++)oe[ee].gid2===pe&&(B=oe[ee])}else if(H.fmt===2){const oe=e.U._getGlyphClass(W[Q],H.classDef1),ee=e.U._getGlyphClass(pe,H.classDef2);B=H.matrix[oe][ee]}if(B){B.val1&&ce(B.val1,Q),B.val2&&ce(B.val2,J);break}}}}else if(X.ltype===4){const B=e._lctf.coverageIndex(H.markCoverage,pe);if(B!==-1){const Q=ie(Y),te=Q===-1?-1:e._lctf.coverageIndex(H.baseCoverage,W[Q]);if(te!==-1){const oe=H.markArray[B],ee=H.baseArray[te][oe.markClass];q[J*3]=ee.x-oe.x+q[Q*3]-q[Q*3+2],q[J*3+1]=ee.y-oe.y+q[Q*3+1];break}}}else if(X.ltype===6){const B=e._lctf.coverageIndex(H.mark1Coverage,pe);if(B!==-1){const Q=ie();if(Q!==-1){const te=W[Q];if(D(j,te)===3){const oe=e._lctf.coverageIndex(H.mark2Coverage,te);if(oe!==-1){const ee=H.mark1Array[B],le=H.mark2Array[oe][ee.markClass];q[J*3]=le.x-ee.x+q[Q*3]-q[Q*3+2],q[J*3+1]=le.y-ee.y+q[Q*3+1];break}}}}}}}}else if(j.kern&&!j.cff){const se=ie();if(se!==-1){const Ee=j.kern.glyph1.indexOf(W[se]);if(Ee!==-1){const X=j.kern.rval[Ee].glyph2.indexOf(pe);X!==-1&&(q[se*3+2]+=j.kern.rval[Ee].vals[X])}}}}return q;function ie(pe){for(let xe=J-1;xe>=0;xe--)if(W[xe]!==-1&&(!pe||pe(W[xe])))return xe;return-1}function Y(pe){return D(j,pe)===1}function ce(pe,xe){for(let se=0;se<3;se++)q[xe*3+se]+=pe[se]||0}}function D(j,W){const q=j.GDEF&&j.GDEF.glyphClassDef;return q?e.U._getGlyphClass(W,q):0}function F(...j){for(let W=0;W<j.length;W++)if(typeof j[W]=="number")return j[W]}function G(j){const W=Object.create(null),q=j["OS/2"],J=j.hhea,ie=j.head.unitsPerEm,Y=F(q&&q.sTypoAscender,J&&J.ascender,ie),ce={unitsPerEm:ie,ascender:Y,descender:F(q&&q.sTypoDescender,J&&J.descender,0),capHeight:F(q&&q.sCapHeight,Y),xHeight:F(q&&q.sxHeight,Y),lineGap:F(q&&q.sTypoLineGap,J&&J.lineGap),supportsCodePoint(pe){return e.U.codeToGlyph(j,pe)>0},forEachGlyph(pe,xe,se,Ee){let X=0;const K=1/ce.unitsPerEm*xe,H=I(j,pe);let B=0;const Q=L(j,H);return H.forEach((te,oe)=>{if(te!==-1){let ee=W[te];if(!ee){const{cmds:le,crds:fe}=e.U.glyphToPath(j,te);let _e="",Oe=0;for(let ot=0,Ve=le.length;ot<Ve;ot++){const st=s[le[ot]];_e+=le[ot];for(let et=1;et<=st;et++)_e+=(et>1?",":"")+fe[Oe++]}let je,Le,Ce,ht;if(fe.length){je=Le=1/0,Ce=ht=-1/0;for(let ot=0,Ve=fe.length;ot<Ve;ot+=2){let st=fe[ot],et=fe[ot+1];st<je&&(je=st),et<Le&&(Le=et),st>Ce&&(Ce=st),et>ht&&(ht=et)}}else je=Ce=Le=ht=0;ee=W[te]={index:te,advanceWidth:j.hmtx.aWidth[te],xMin:je,yMin:Le,xMax:Ce,yMax:ht,path:_e}}Ee.call(null,ee,X+Q[oe*3]*K,Q[oe*3+1]*K,B),X+=Q[oe*3+2]*K,se&&(X+=se*xe)}B+=pe.codePointAt(B)>65535?2:1}),X}};return ce}return function(W){const q=new Uint8Array(W,0,4),J=e._bin.readASCII(q,0,4);if(J==="wOFF")W=t(W);else if(J==="wOF2")throw new Error("woff2 fonts not supported");return G(e.parse(W)[0])}}const bb=Xl({name:"Typr Font Parser",dependencies:[wb,xb,Sb],init(e,t,s){const u=e(),a=t();return s(u,a)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Eb(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(L){var D=L>>5;this.buckets.set(D,(this.buckets.get(D)||0)|1<<(31&L))},t.prototype.has=function(L){var D=this.buckets.get(L>>5);return D!==void 0&&(D&1<<(31&L))!=0},t.prototype.serialize=function(){var L=[];return this.buckets.forEach(function(D,F){L.push((+F).toString(36)+":"+D.toString(36))}),L.join(",")},t.prototype.deserialize=function(L){var D=this;this.buckets.clear(),L.split(",").forEach(function(F){var G=F.split(":");D.buckets.set(parseInt(G[0],36),parseInt(G[1],36))})};var s=Math.pow(2,8),u=s-1,a=~u;function o(L){var D=function(G){return G&a}(L).toString(16),F=function(G){return(G&a)+s-1}(L).toString(16);return"codepoint-index/plane"+(L>>16)+"/"+D+"-"+F+".json"}function c(L,D){var F=L&u,G=D.codePointAt(F/6|0);return((G=(G||48)-48)&1<<F%6)!=0}function h(L,D){var F;(F=L,F.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(G){return G.split("-").map(function(j){return parseInt(j.trim(),16)})})).forEach(function(G){var j=G[0],W=G[1];W===void 0&&(W=j),D(j,W)})}function d(L,D){h(L,function(F,G){for(var j=F;j<=G;j++)D(j)})}var m={},g={},y=new WeakMap,w="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function S(L){var D=y.get(L);return D||(D=new t,d(L.ranges,function(F){return D.add(F)}),y.set(L,D)),D}var E,P=new Map;function R(L,D,F){return L[D]?D:L[F]?F:function(G){for(var j in G)return j}(L)}function A(L,D){var F=D;if(!L.includes(F)){F=1/0;for(var G=0;G<L.length;G++)Math.abs(L[G]-D)<Math.abs(F-D)&&(F=L[G])}return F}function I(L){return E||(E=new Set,d("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(D){E.add(D)})),E.has(L)}return e.CodePointSet=t,e.clearCache=function(){m={},g={}},e.getFontsForString=function(L,D){D===void 0&&(D={});var F,G=D.lang;G===void 0&&(G=new RegExp("\\p{Script=Hangul}","u").test(F=L)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(F)?"ja":"en");var j=D.category;j===void 0&&(j="sans-serif");var W=D.style;W===void 0&&(W="normal");var q=D.weight;q===void 0&&(q=400);var J=(D.dataUrl||w).replace(/\/$/g,""),ie=new Map,Y=new Uint8Array(L.length),ce={},pe={},xe=new Array(L.length),se=new Map,Ee=!1;function X(B){var Q=P.get(B);return Q||(Q=fetch(J+"/"+B).then(function(te){if(!te.ok)throw new Error(te.statusText);return te.json().then(function(oe){if(!Array.isArray(oe)||oe[0]!==1)throw new Error("Incorrect schema version; need 1, got "+oe[0]);return oe[1]})}).catch(function(te){if(J!==w)return Ee||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+J+'", trying default CDN. '+te.message),Ee=!0),J=w,P.delete(B),X(B);throw te}),P.set(B,Q)),Q}for(var K=function(B){var Q=L.codePointAt(B),te=o(Q);xe[B]=te,m[te]||se.has(te)||se.set(te,X(te).then(function(oe){m[te]=oe})),Q>65535&&(B++,H=B)},H=0;H<L.length;H++)K(H);return Promise.all(se.values()).then(function(){se.clear();for(var B=function(te){var oe=L.codePointAt(te),ee=null,le=m[xe[te]],fe=void 0;for(var _e in le){var Oe=pe[_e];if(Oe===void 0&&(Oe=pe[_e]=new RegExp(_e).test(G||"en")),Oe){for(var je in fe=_e,le[_e])if(c(oe,le[_e][je])){ee=je;break}break}}if(!ee){e:for(var Le in le)if(Le!==fe){for(var Ce in le[Le])if(c(oe,le[Le][Ce])){ee=Ce;break e}}}ee||(console.debug("No font coverage for U+"+oe.toString(16)),ee="latin"),xe[te]=ee,g[ee]||se.has(ee)||se.set(ee,X("font-meta/"+ee+".json").then(function(ht){g[ee]=ht})),oe>65535&&(te++,Q=te)},Q=0;Q<L.length;Q++)B(Q);return Promise.all(se.values())}).then(function(){for(var B,Q=null,te=0;te<L.length;te++){var oe=L.codePointAt(te);if(Q&&(I(oe)||S(Q).has(oe)))Y[te]=Y[te-1];else{Q=g[xe[te]];var ee=ce[Q.id];if(!ee){var le=Q.typeforms,fe=R(le,j,"sans-serif"),_e=R(le[fe],W,"normal"),Oe=A((B=le[fe])===null||B===void 0?void 0:B[_e],q);ee=ce[Q.id]=J+"/font-files/"+Q.id+"/"+fe+"."+_e+"."+Oe+".woff"}var je=ie.get(ee);je==null&&(je=ie.size,ie.set(ee,je)),Y[te]=je}oe>65535&&(te++,Y[te]=Y[te-1])}return{fontUrls:Array.from(ie.keys()),chars:Y}})},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}function Tb(e,t){const s=Object.create(null),u=Object.create(null);function a(c,h){const d=m=>{console.error(`Failure loading font ${c}`,m)};try{const m=new XMLHttpRequest;m.open("get",c,!0),m.responseType="arraybuffer",m.onload=function(){if(m.status>=400)d(new Error(m.statusText));else if(m.status>0)try{const g=e(m.response);g.src=c,h(g)}catch(g){d(g)}},m.onerror=d,m.send()}catch(m){d(m)}}function o(c,h){let d=s[c];d?h(d):u[c]?u[c].push(h):(u[c]=[h],a(c,m=>{m.src=c,s[c]=m,u[c].forEach(g=>g(m)),delete u[c]}))}return function(c,h,{lang:d,fonts:m=[],style:g="normal",weight:y="normal",unicodeFontsURL:w}={}){const S=new Uint8Array(c.length),E=[];c.length||I();const P=new Map,R=[];if(g!=="italic"&&(g="normal"),typeof y!="number"&&(y=y==="bold"?700:400),m&&!Array.isArray(m)&&(m=[m]),m=m.slice().filter(D=>!D.lang||D.lang.test(d)).reverse(),m.length){let j=0;(function W(q=0){for(let J=q,ie=c.length;J<ie;J++){const Y=c.codePointAt(J);if(j===1&&E[S[J-1]].supportsCodePoint(Y)||J>0&&/\s/.test(c[J]))S[J]=S[J-1],j===2&&(R[R.length-1][1]=J);else for(let ce=S[J],pe=m.length;ce<=pe;ce++)if(ce===pe){const xe=j===2?R[R.length-1]:R[R.length]=[J,J];xe[1]=J,j=2}else{S[J]=ce;const{src:xe,unicodeRange:se}=m[ce];if(!se||L(Y,se)){const Ee=s[xe];if(!Ee){o(xe,()=>{W(J)});return}if(Ee.supportsCodePoint(Y)){let X=P.get(Ee);typeof X!="number"&&(X=E.length,E.push(Ee),P.set(Ee,X)),S[J]=X,j=1;break}}}Y>65535&&J+1<ie&&(S[J+1]=S[J],J++,j===2&&(R[R.length-1][1]=J))}A()})()}else R.push([0,c.length-1]),A();function A(){if(R.length){const D=R.map(F=>c.substring(F[0],F[1]+1)).join(`
`);t.getFontsForString(D,{lang:d||void 0,style:g,weight:y,dataUrl:w}).then(({fontUrls:F,chars:G})=>{const j=E.length;let W=0;R.forEach(J=>{for(let ie=0,Y=J[1]-J[0];ie<=Y;ie++)S[J[0]+ie]=G[W++]+j;W++});let q=0;F.forEach((J,ie)=>{o(J,Y=>{E[ie+j]=Y,++q===F.length&&I()})})})}else I()}function I(){h({chars:S,fonts:E})}function L(D,F){for(let G=0;G<F.length;G++){const[j,W=j]=F[G];if(j<=D&&D<=W)return!0}return!1}}}const Cb=Xl({name:"FontResolver",dependencies:[Tb,bb,Eb],init(e,t,s){return e(t,s())}});function kb(e,t){const u=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",o=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c({text:E,lang:P,fonts:R,style:A,weight:I,preResolvedFonts:L,unicodeFontsURL:D},F){const G=({chars:j,fonts:W})=>{let q,J;const ie=[];for(let Y=0;Y<j.length;Y++)j[Y]!==J?(J=j[Y],ie.push(q={start:Y,end:Y,fontObj:W[j[Y]]})):q.end=Y;F(ie)};L?G(L):e(E,G,{lang:P,fonts:R,style:A,weight:I,unicodeFontsURL:D})}function h({text:E="",font:P,lang:R,sdfGlyphSize:A=64,fontSize:I=400,fontWeight:L=1,fontStyle:D="normal",letterSpacing:F=0,lineHeight:G="normal",maxWidth:j=1/0,direction:W,textAlign:q="left",textIndent:J=0,whiteSpace:ie="normal",overflowWrap:Y="normal",anchorX:ce=0,anchorY:pe=0,metricsOnly:xe=!1,unicodeFontsURL:se,preResolvedFonts:Ee=null,includeCaretPositions:X=!1,chunkedBoundsSize:K=8192,colorRanges:H=null},B){const Q=y(),te={fontLoad:0,typesetting:0};E.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),E=E.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),I=+I,F=+F,j=+j,G=G||"normal",J=+J,c({text:E,lang:R,style:D,weight:L,fonts:typeof P=="string"?[{src:P}]:P,unicodeFontsURL:se,preResolvedFonts:Ee},oe=>{te.fontLoad=y()-Q;const ee=isFinite(j);let le=null,fe=null,_e=null,Oe=null,je=null,Le=null,Ce=null,ht=null,ot=0,Ve=0,st=ie!=="nowrap";const et=new Map,Ue=y();let lt=J,He=0,Te=new w;const xt=[Te];oe.forEach(tt=>{const{fontObj:nt}=tt,{ascender:gt,descender:Ct,unitsPerEm:tn,lineGap:fn,capHeight:It,xHeight:Mt}=nt;let ct=et.get(nt);if(!ct){const Ze=I/tn,Ot=G==="normal"?(gt-Ct+fn)*Ze:G*I,Pn=(Ot-(gt-Ct)*Ze)/2,an=Math.min(Ot,(gt-Ct)*Ze),zt=(gt+Ct)/2*Ze+an/2;ct={index:et.size,src:nt.src,fontObj:nt,fontSizeMult:Ze,unitsPerEm:tn,ascender:gt*Ze,descender:Ct*Ze,capHeight:It*Ze,xHeight:Mt*Ze,lineHeight:Ot,baseline:-Pn-gt*Ze,caretTop:zt,caretBottom:zt-an},et.set(nt,ct)}const{fontSizeMult:ae}=ct,Re=E.slice(tt.start,tt.end+1);let rt,ft;nt.forEachGlyph(Re,I,F,(Ze,Ot,Pn,an)=>{Ot+=He,an+=tt.start,rt=Ot,ft=Ze;const zt=E.charAt(an),nn=Ze.advanceWidth*ae,Xt=Te.count;let St;if("isEmpty"in Ze||(Ze.isWhitespace=!!zt&&new RegExp(a).test(zt),Ze.canBreakAfter=!!zt&&o.test(zt),Ze.isEmpty=Ze.xMin===Ze.xMax||Ze.yMin===Ze.yMax||u.test(zt)),!Ze.isWhitespace&&!Ze.isEmpty&&Ve++,st&&ee&&!Ze.isWhitespace&&Ot+nn+lt>j&&Xt){if(Te.glyphAt(Xt-1).glyphObj.canBreakAfter)St=new w,lt=-Ot;else for(let yn=Xt;yn--;)if(yn===0&&Y==="break-word"){St=new w,lt=-Ot;break}else if(Te.glyphAt(yn).glyphObj.canBreakAfter){St=Te.splitAt(yn+1);const wn=St.glyphAt(0).x;lt-=wn;for(let xn=St.count;xn--;)St.glyphAt(xn).x-=wn;break}St&&(Te.isSoftWrapped=!0,Te=St,xt.push(Te),ot=j)}let Dt=Te.glyphAt(Te.count);Dt.glyphObj=Ze,Dt.x=Ot+lt,Dt.y=Pn,Dt.width=nn,Dt.charIndex=an,Dt.fontData=ct,zt===`
`&&(Te=new w,xt.push(Te),lt=-(Ot+nn+F*I)+J)}),He=rt+ft.advanceWidth*ae+F*I});let Ge=0;xt.forEach(tt=>{let nt=!0;for(let gt=tt.count;gt--;){const Ct=tt.glyphAt(gt);nt&&!Ct.glyphObj.isWhitespace&&(tt.width=Ct.x+Ct.width,tt.width>ot&&(ot=tt.width),nt=!1);let{lineHeight:tn,capHeight:fn,xHeight:It,baseline:Mt}=Ct.fontData;tn>tt.lineHeight&&(tt.lineHeight=tn);const ct=Mt-tt.baseline;ct<0&&(tt.baseline+=ct,tt.cap+=ct,tt.ex+=ct),tt.cap=Math.max(tt.cap,tt.baseline+fn),tt.ex=Math.max(tt.ex,tt.baseline+It)}tt.baseline-=Ge,tt.cap-=Ge,tt.ex-=Ge,Ge+=tt.lineHeight});let Qe=0,Be=0;if(ce&&(typeof ce=="number"?Qe=-ce:typeof ce=="string"&&(Qe=-ot*(ce==="left"?0:ce==="center"?.5:ce==="right"?1:m(ce)))),pe&&(typeof pe=="number"?Be=-pe:typeof pe=="string"&&(Be=pe==="top"?0:pe==="top-baseline"?-xt[0].baseline:pe==="top-cap"?-xt[0].cap:pe==="top-ex"?-xt[0].ex:pe==="middle"?Ge/2:pe==="bottom"?Ge:pe==="bottom-baseline"?-xt[xt.length-1].baseline:m(pe)*Ge)),!xe){const tt=t.getEmbeddingLevels(E,W);le=new Uint16Array(Ve),fe=new Uint8Array(Ve),_e=new Float32Array(Ve*2),Oe={},Ce=[1/0,1/0,-1/0,-1/0],ht=[],X&&(Le=new Float32Array(E.length*4)),H&&(je=new Uint8Array(Ve*3));let nt=0,gt=-1,Ct=-1,tn,fn;if(xt.forEach((It,Mt)=>{let{count:ct,width:ae}=It;if(ct>0){let Re=0;for(let an=ct;an--&&It.glyphAt(an).glyphObj.isWhitespace;)Re++;let rt=0,ft=0;if(q==="center")rt=(ot-ae)/2;else if(q==="right")rt=ot-ae;else if(q==="justify"&&It.isSoftWrapped){let an=0;for(let zt=ct-Re;zt--;)It.glyphAt(zt).glyphObj.isWhitespace&&an++;ft=(ot-ae)/an}if(ft||rt){let an=0;for(let zt=0;zt<ct;zt++){let nn=It.glyphAt(zt);const Xt=nn.glyphObj;nn.x+=rt+an,ft!==0&&Xt.isWhitespace&&zt<ct-Re&&(an+=ft,nn.width+=ft)}}const Ze=t.getReorderSegments(E,tt,It.glyphAt(0).charIndex,It.glyphAt(It.count-1).charIndex);for(let an=0;an<Ze.length;an++){const[zt,nn]=Ze[an];let Xt=1/0,St=-1/0;for(let Dt=0;Dt<ct;Dt++)if(It.glyphAt(Dt).charIndex>=zt){let yn=Dt,wn=Dt;for(;wn<ct;wn++){let xn=It.glyphAt(wn);if(xn.charIndex>nn)break;wn<ct-Re&&(Xt=Math.min(Xt,xn.x),St=Math.max(St,xn.x+xn.width))}for(let xn=yn;xn<wn;xn++){const Pr=It.glyphAt(xn);Pr.x=St-(Pr.x+Pr.width-Xt)}break}}let Ot;const Pn=an=>Ot=an;for(let an=0;an<ct;an++){const zt=It.glyphAt(an);Ot=zt.glyphObj;const nn=Ot.index,Xt=tt.levels[zt.charIndex]&1;if(Xt){const St=t.getMirroredCharacter(E[zt.charIndex]);St&&zt.fontData.fontObj.forEachGlyph(St,0,0,Pn)}if(X){const{charIndex:St,fontData:Dt}=zt,yn=zt.x+Qe,wn=zt.x+zt.width+Qe;Le[St*4]=Xt?wn:yn,Le[St*4+1]=Xt?yn:wn,Le[St*4+2]=It.baseline+Dt.caretBottom+Be,Le[St*4+3]=It.baseline+Dt.caretTop+Be;const xn=St-gt;xn>1&&g(Le,gt,xn),gt=St}if(H){const{charIndex:St}=zt;for(;St>Ct;)Ct++,H.hasOwnProperty(Ct)&&(fn=H[Ct])}if(!Ot.isWhitespace&&!Ot.isEmpty){const St=nt++,{fontSizeMult:Dt,src:yn,index:wn}=zt.fontData,xn=Oe[yn]||(Oe[yn]={});xn[nn]||(xn[nn]={path:Ot.path,pathBounds:[Ot.xMin,Ot.yMin,Ot.xMax,Ot.yMax]});const Pr=zt.x+Qe,Lr=zt.y+It.baseline+Be;_e[St*2]=Pr,_e[St*2+1]=Lr;const Ir=Pr+Ot.xMin*Dt,ci=Lr+Ot.yMin*Dt,fr=Pr+Ot.xMax*Dt,Qr=Lr+Ot.yMax*Dt;Ir<Ce[0]&&(Ce[0]=Ir),ci<Ce[1]&&(Ce[1]=ci),fr>Ce[2]&&(Ce[2]=fr),Qr>Ce[3]&&(Ce[3]=Qr),St%K===0&&(tn={start:St,end:St,rect:[1/0,1/0,-1/0,-1/0]},ht.push(tn)),tn.end++;const Gn=tn.rect;if(Ir<Gn[0]&&(Gn[0]=Ir),ci<Gn[1]&&(Gn[1]=ci),fr>Gn[2]&&(Gn[2]=fr),Qr>Gn[3]&&(Gn[3]=Qr),le[St]=nn,fe[St]=wn,H){const bi=St*3;je[bi]=fn>>16&255,je[bi+1]=fn>>8&255,je[bi+2]=fn&255}}}}}),Le){const It=E.length-gt;It>1&&g(Le,gt,It)}}const $t=[];et.forEach(({index:tt,src:nt,unitsPerEm:gt,ascender:Ct,descender:tn,lineHeight:fn,capHeight:It,xHeight:Mt})=>{$t[tt]={src:nt,unitsPerEm:gt,ascender:Ct,descender:tn,lineHeight:fn,capHeight:It,xHeight:Mt}}),te.typesetting=y()-Ue,B({glyphIds:le,glyphFontIndices:fe,glyphPositions:_e,glyphData:Oe,fontData:$t,caretPositions:Le,glyphColors:je,chunkedBounds:ht,fontSize:I,topBaseline:Be+xt[0].baseline,blockBounds:[Qe,Be-Ge,Qe+ot,Be],visibleBounds:Ce,timings:te})})}function d(E,P){h({...E,metricsOnly:!0},R=>{const[A,I,L,D]=R.blockBounds;P({width:L-A,height:D-I})})}function m(E){let P=E.match(/^([\d.]+)%$/),R=P?parseFloat(P[1]):NaN;return isNaN(R)?0:R/100}function g(E,P,R){const A=E[P*4],I=E[P*4+1],L=E[P*4+2],D=E[P*4+3],F=(I-A)/R;for(let G=0;G<R;G++){const j=(P+G)*4;E[j]=A+F*G,E[j+1]=A+F*(G+1),E[j+2]=L,E[j+3]=D}}function y(){return(self.performance||Date).now()}function w(){this.data=[]}const S=["glyphObj","x","y","width","charIndex","fontData"];return w.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/S.length)},glyphAt(E){let P=w.flyweight;return P.data=this.data,P.index=E,P},splitAt(E){let P=new w;return P.data=this.data.splice(E*S.length),P}},w.flyweight=S.reduce((E,P,R,A)=>(Object.defineProperty(E,P,{get(){return this.data[this.index*S.length+R]},set(I){this.data[this.index*S.length+R]=I}}),E),{data:null,index:0}),{typeset:h,measure:d}}const Vs=()=>(self.performance||Date).now(),od=Z0();let Rg;function Ab(e,t,s,u,a,o,c,h,d,m,g=!0){return g?Pb(e,t,s,u,a,o,c,h,d,m).then(null,y=>(Rg||(console.warn("WebGL SDF generation failed, falling back to JS",y),Rg=!0),Lg(e,t,s,u,a,o,c,h,d,m))):Lg(e,t,s,u,a,o,c,h,d,m)}const Df=[],Rb=5;let np=0;function ev(){const e=Vs();for(;Df.length&&Vs()-e<Rb;)Df.shift()();np=Df.length?setTimeout(ev,0):0}const Pb=(...e)=>new Promise((t,s)=>{Df.push(()=>{const u=Vs();try{od.webgl.generateIntoCanvas(...e),t({timing:Vs()-u})}catch(a){s(a)}}),np||(np=setTimeout(ev,0))}),Lb=4,Ib=2e3,Pg={};let Mb=0;function Lg(e,t,s,u,a,o,c,h,d,m){const g="TroikaTextSDFGenerator_JS_"+Mb++%Lb;let y=Pg[g];return y||(y=Pg[g]={workerModule:Xl({name:g,workerId:g,dependencies:[Z0,Vs],init(w,S){const E=w().javascript.generate;return function(...P){const R=S();return{textureData:E(...P),timing:S()-R}}},getTransferables(w){return[w.textureData.buffer]}}),requests:0,idleTimer:null}),y.requests++,clearTimeout(y.idleTimer),y.workerModule(e,t,s,u,a,o).then(({textureData:w,timing:S})=>{const E=Vs(),P=new Uint8Array(w.length*4);for(let R=0;R<w.length;R++)P[R*4+m]=w[R];return od.webglUtils.renderImageData(c,P,h,d,e,t,1<<3-m),S+=Vs()-E,--y.requests===0&&(y.idleTimer=setTimeout(()=>{cb(g)},Ib)),{timing:S}})}function Ob(e){e._warm||(od.webgl.isSupported(e),e._warm=!0)}const Ub=od.webglUtils.resizeWebGLCanvasWithoutClearing,Nl={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Nb=new _a;function Pl(){return(self.performance||Date).now()}const Ig=Object.create(null);function tv(e,t){e=zb({},e);const s=Pl(),{defaultFontURL:u}=Nl,a=[];if(u&&a.push({label:"default",src:Mg(u)}),e.font&&a.push({label:"user",src:Mg(e.font)}),e.font=a,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||Nl.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||Nl.unicodeFontsURL,e.colorRanges!=null){let S={};for(let E in e.colorRanges)if(e.colorRanges.hasOwnProperty(E)){let P=e.colorRanges[E];typeof P!="number"&&(P=Nb.set(P).getHex()),S[E]=P}e.colorRanges=S}Object.freeze(e);const{textureWidth:o,sdfExponent:c}=Nl,{sdfGlyphSize:h}=e,d=o/h*4;let m=Ig[h];if(!m){const S=document.createElement("canvas");S.width=o,S.height=h*256/d,m=Ig[h]={glyphCount:0,sdfGlyphSize:h,sdfCanvas:S,sdfTexture:new E0(S,void 0,void 0,void 0,Dm,Dm),contextLost:!1,glyphsByFont:new Map},m.sdfTexture.generateMipmaps=!1,Db(m)}const{sdfTexture:g,sdfCanvas:y}=m;iv(e).then(S=>{const{glyphIds:E,glyphFontIndices:P,fontData:R,glyphPositions:A,fontSize:I,timings:L}=S,D=[],F=new Float32Array(E.length*4);let G=0,j=0;const W=Pl(),q=R.map(pe=>{let xe=m.glyphsByFont.get(pe.src);return xe||m.glyphsByFont.set(pe.src,xe=new Map),xe});E.forEach((pe,xe)=>{const se=P[xe],{src:Ee,unitsPerEm:X}=R[se];let K=q[se].get(pe);if(!K){const{path:oe,pathBounds:ee}=S.glyphData[Ee][pe],le=Math.max(ee[2]-ee[0],ee[3]-ee[1])/h*(Nl.sdfMargin*h+.5),fe=m.glyphCount++,_e=[ee[0]-le,ee[1]-le,ee[2]+le,ee[3]+le];q[se].set(pe,K={path:oe,atlasIndex:fe,sdfViewBox:_e}),D.push(K)}const{sdfViewBox:H}=K,B=A[j++],Q=A[j++],te=I/X;F[G++]=B+H[0]*te,F[G++]=Q+H[1]*te,F[G++]=B+H[2]*te,F[G++]=Q+H[3]*te,E[xe]=K.atlasIndex}),L.quads=(L.quads||0)+(Pl()-W);const J=Pl();L.sdf={};const ie=y.height,Y=Math.ceil(m.glyphCount/d),ce=Math.pow(2,Math.ceil(Math.log2(Y*h)));ce>ie&&(console.info(`Increasing SDF texture size ${ie}->${ce}`),Ub(y,o,ce),g.dispose()),Promise.all(D.map(pe=>nv(pe,m,e.gpuAccelerateSDF).then(({timing:xe})=>{L.sdf[pe.atlasIndex]=xe}))).then(()=>{D.length&&!m.contextLost&&(rv(m),g.needsUpdate=!0),L.sdfTotal=Pl()-J,L.total=Pl()-s,t(Object.freeze({parameters:e,sdfTexture:g,sdfGlyphSize:h,sdfExponent:c,glyphBounds:F,glyphAtlasIndices:E,glyphColors:S.glyphColors,caretPositions:S.caretPositions,chunkedBounds:S.chunkedBounds,ascender:S.ascender,descender:S.descender,lineHeight:S.lineHeight,capHeight:S.capHeight,xHeight:S.xHeight,topBaseline:S.topBaseline,blockBounds:S.blockBounds,visibleBounds:S.visibleBounds,timings:S.timings}))})}),Promise.resolve().then(()=>{m.contextLost||Ob(y)})}function nv({path:e,atlasIndex:t,sdfViewBox:s},{sdfGlyphSize:u,sdfCanvas:a,contextLost:o},c){if(o)return Promise.resolve({timing:-1});const{textureWidth:h,sdfExponent:d}=Nl,m=Math.max(s[2]-s[0],s[3]-s[1]),g=Math.floor(t/4),y=g%(h/u)*u,w=Math.floor(g/(h/u))*u,S=t%4;return Ab(u,u,e,s,m,d,a,y,w,S,c)}function Db(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",s=>{console.log("Context Lost",s),s.preventDefault(),e.contextLost=!0}),t.addEventListener("webglcontextrestored",s=>{console.log("Context Restored",s),e.contextLost=!1;const u=[];e.glyphsByFont.forEach(a=>{a.forEach(o=>{u.push(nv(o,e,!0))})}),Promise.all(u).then(()=>{rv(e),e.sdfTexture.needsUpdate=!0})})}function Fb({font:e,characters:t,sdfGlyphSize:s},u){let a=Array.isArray(t)?t.join(`
`):""+t;tv({font:e,sdfGlyphSize:s,text:a},u)}function zb(e,t){for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e}let Ef;function Mg(e){return Ef||(Ef=typeof document>"u"?{}:document.createElement("a")),Ef.href=e,Ef.href}function rv(e){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:s}=e,{width:u,height:a}=t,o=e.sdfCanvas.getContext("webgl");let c=s.image.data;(!c||c.length!==u*a*4)&&(c=new Uint8Array(u*a*4),s.image={width:u,height:a,data:c},s.flipY=!1,s.isDataTexture=!0),o.readPixels(0,0,u,a,o.RGBA,o.UNSIGNED_BYTE,c)}}const Bb=Xl({name:"Typesetter",dependencies:[kb,Cb,db],init(e,t,s){return e(t,s())}}),iv=Xl({name:"Typesetter",dependencies:[Bb],init(e){return function(t){return new Promise(s=>{e.typeset(t,s)})}},getTransferables(e){const t=[];for(let s in e)e[s]&&e[s].buffer&&t.push(e[s].buffer);return t}});iv.onMainThread;const Og={};function jb(e){let t=Og[e];return t||(t=Og[e]=new xp(1,1,e,e).translate(.5,.5,0)),t}const Gb="aTroikaGlyphBounds",Ug="aTroikaGlyphIndex",Wb="aTroikaGlyphColor";class Hb extends C0{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new wp,this.boundingBox=new ac}computeBoundingSphere(){}computeBoundingBox(){}set detail(t){if(t!==this._detail){this._detail=t,(typeof t!="number"||t<1)&&(t=1);let s=jb(t);["position","normal","uv"].forEach(u=>{this.attributes[u]=s.attributes[u].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(t){t!==this._curveRadius&&(this._curveRadius=t,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(t,s,u,a,o){this.updateAttributeData(Gb,t,4),this.updateAttributeData(Ug,s,1),this.updateAttributeData(Wb,o,3),this._blockBounds=u,this._chunkedBounds=a,this.instanceCount=s.length,this._updateBounds()}_updateBounds(){const t=this._blockBounds;if(t){const{curveRadius:s,boundingBox:u}=this;if(s){const{PI:a,floor:o,min:c,max:h,sin:d,cos:m}=Math,g=a/2,y=a*2,w=Math.abs(s),S=t[0]/w,E=t[2]/w,P=o((S+g)/y)!==o((E+g)/y)?-w:c(d(S)*w,d(E)*w),R=o((S-g)/y)!==o((E-g)/y)?w:h(d(S)*w,d(E)*w),A=o((S+a)/y)!==o((E+a)/y)?w*2:h(w-m(S)*w,w-m(E)*w);u.min.set(P,t[1],s<0?-A:0),u.max.set(R,t[3],s<0?0:A)}else u.min.set(t[0],t[1],0),u.max.set(t[2],t[3],0);u.getBoundingSphere(this.boundingSphere)}}applyClipRect(t){let s=this.getAttribute(Ug).count,u=this._chunkedBounds;if(u)for(let a=u.length;a--;){s=u[a].end;let o=u[a].rect;if(o[1]<t.w&&o[3]>t.y&&o[0]<t.z&&o[2]>t.x)break}this.instanceCount=s}updateAttributeData(t,s,u){const a=this.getAttribute(t);s?a&&a.array.length===s.length?(a.array.set(s),a.needsUpdate=!0):(this.setAttribute(t,new _2(s,u)),delete this._maxInstanceCount,this.dispose()):a&&this.deleteAttribute(t)}}const Vb=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Yb=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Xb=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Jb=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function qb(e){const t=tp(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ur},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new rs(0,0,0,0)},uTroikaClipRect:{value:new rs(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ur},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new _a},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new w2},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Vb,vertexTransform:Yb,fragmentDefs:Xb,fragmentColorTransform:Jb,customRewriter({vertexShader:s,fragmentShader:u}){let a=/\buniform\s+vec3\s+diffuse\b/;return a.test(u)&&(u=u.replace(a,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),a.test(s)||(s=s.replace($0,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:s,fragmentShader:u}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const Cp=new qh({color:16777215,side:k0,transparent:!0}),Ng=8421504,Dg=new ji,Tf=new Nt,bh=new Nt,Bu=[],Kb=new Nt,Eh="+x+y";function Fg(e){return Array.isArray(e)?e[0]:e}let ov=()=>{const e=new Vo(new xp(1,1),Cp);return ov=()=>e,e},av=()=>{const e=new Vo(new xp(1,1,32,1),Cp);return av=()=>e,e};const Qb={type:"syncstart"},Zb={type:"synccomplete"},sv=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],$b=sv.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let lv=class extends Vo{constructor(){const t=new Hb;super(t,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Ng,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Eh,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(t){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(t):(this._isSyncing=!0,this.dispatchEvent(Qb),tv({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},s=>{this._isSyncing=!1,this._textRenderInfo=s,this.geometry.updateGlyphs(s.glyphBounds,s.glyphAtlasIndices,s.blockBounds,s.chunkedBounds,s.glyphColors);const u=this._queuedSyncs;u&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{u.forEach(a=>a&&a())})),this.dispatchEvent(Zb),t&&t()})))}onBeforeRender(t,s,u,a,o,c){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(t){return qb(t)}get material(){let t=this._derivedMaterial;const s=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Cp.clone());if((!t||!t.isDerivedFrom(s))&&(t=this._derivedMaterial=this.createDerivedMaterial(s),s.addEventListener("dispose",function u(){s.removeEventListener("dispose",u),t.dispose()})),this.hasOutline()){let u=t._outlineMtl;return u||(u=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),u.isTextOutlineMaterial=!0,u.depthWrite=!1,u.map=null,t.addEventListener("dispose",function a(){t.removeEventListener("dispose",a),u.dispose()})),[u,t]}else return t}set material(t){t&&t.isTroikaTextMaterial?(this._derivedMaterial=t,this._baseMaterial=t.baseMaterial):this._baseMaterial=t}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(t){this.geometry.detail=t}get curveRadius(){return this.geometry.curveRadius}set curveRadius(t){this.geometry.curveRadius=t}get customDepthMaterial(){return Fg(this.material).getDepthMaterial()}get customDistanceMaterial(){return Fg(this.material).getDistanceMaterial()}_prepareForRender(t){const s=t.isTextOutlineMaterial,u=t.uniforms,a=this.textRenderInfo;if(a){const{sdfTexture:h,blockBounds:d}=a;u.uTroikaSDFTexture.value=h,u.uTroikaSDFTextureSize.value.set(h.image.width,h.image.height),u.uTroikaSDFGlyphSize.value=a.sdfGlyphSize,u.uTroikaSDFExponent.value=a.sdfExponent,u.uTroikaTotalBounds.value.fromArray(d),u.uTroikaUseGlyphColors.value=!s&&!!a.glyphColors;let m=0,g=0,y=0,w,S,E,P=0,R=0;if(s){let{outlineWidth:I,outlineOffsetX:L,outlineOffsetY:D,outlineBlur:F,outlineOpacity:G}=this;m=this._parsePercent(I)||0,g=Math.max(0,this._parsePercent(F)||0),w=G,P=this._parsePercent(L)||0,R=this._parsePercent(D)||0}else y=Math.max(0,this._parsePercent(this.strokeWidth)||0),y&&(E=this.strokeColor,u.uTroikaStrokeColor.value.set(E??Ng),S=this.strokeOpacity,S==null&&(S=1)),w=this.fillOpacity;u.uTroikaEdgeOffset.value=m,u.uTroikaPositionOffset.value.set(P,R),u.uTroikaBlurRadius.value=g,u.uTroikaStrokeWidth.value=y,u.uTroikaStrokeOpacity.value=S,u.uTroikaFillOpacity.value=w??1,u.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)u.uTroikaClipRect.value.fromArray(A);else{const I=(this.fontSize||.1)*100;u.uTroikaClipRect.value.set(d[0]-I,d[1]-I,d[2]+I,d[3]+I)}this.geometry.applyClipRect(u.uTroikaClipRect.value)}u.uTroikaSDFDebug.value=!!this.debugSDF,t.polygonOffset=!!this.depthOffset,t.polygonOffsetFactor=t.polygonOffsetUnits=this.depthOffset||0;const o=s?this.outlineColor||0:this.color;if(o==null)delete t.color;else{const h=t.hasOwnProperty("color")?t.color:t.color=new _a;(o!==h._input||typeof o=="object")&&h.set(h._input=o)}let c=this.orientation||Eh;if(c!==t._orientation){let h=u.uTroikaOrient.value;c=c.replace(/[^-+xyz]/g,"");let d=c!==Eh&&c.match(/^([-+])([xyz])([-+])([xyz])$/);if(d){let[,m,g,y,w]=d;Tf.set(0,0,0)[g]=m==="-"?1:-1,bh.set(0,0,0)[w]=y==="-"?-1:1,Dg.lookAt(Kb,Tf.cross(bh),bh),h.setFromMatrix4(Dg)}else h.identity();t._orientation=c}}_parsePercent(t){if(typeof t=="string"){let s=t.match(/^(-?[\d.]+)%$/),u=s?parseFloat(s[1]):NaN;t=(isNaN(u)?0:u/100)*this.fontSize}return t}localPositionToTextCoords(t,s=new ur){s.copy(t);const u=this.curveRadius;return u&&(s.x=Math.atan2(t.x,Math.abs(u)-Math.abs(t.z))*Math.abs(u)),s}worldPositionToTextCoords(t,s=new ur){return Tf.copy(t),this.localPositionToTextCoords(this.worldToLocal(Tf),s)}raycast(t,s){const{textRenderInfo:u,curveRadius:a}=this;if(u){const o=u.blockBounds,c=a?av():ov(),h=c.geometry,{position:d,uv:m}=h.attributes;for(let g=0;g<m.count;g++){let y=o[0]+m.getX(g)*(o[2]-o[0]);const w=o[1]+m.getY(g)*(o[3]-o[1]);let S=0;a&&(S=a-Math.cos(y/a)*a,y=Math.sin(y/a)*a),d.setXYZ(g,y,w,S)}h.boundingSphere=this.geometry.boundingSphere,h.boundingBox=this.geometry.boundingBox,c.matrixWorld=this.matrixWorld,c.material.side=this.material.side,Bu.length=0,c.raycast(t,Bu);for(let g=0;g<Bu.length;g++)Bu[g].object=this,s.push(Bu[g])}}copy(t){const s=this.geometry;return super.copy(t),this.geometry=s,$b.forEach(u=>{this[u]=t[u]}),this}clone(){return new this.constructor().copy(this)}};sv.forEach(e=>{const t="_private_"+e;Object.defineProperty(lv.prototype,e,{get(){return this[t]},set(s){s!==this[t]&&(this[t]=s,this._needsSync=!0)}})});new ac;new _a;const Th=$.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:s="middle",font:u,fontSize:a=1,children:o,characters:c,onSync:h,...d},m)=>{const g=ro(({invalidate:E})=>E),[y]=$.useState(()=>new lv),[w,S]=$.useMemo(()=>{const E=[];let P="";return $.Children.forEach(o,R=>{typeof R=="string"||typeof R=="number"?P+=R:E.push(R)}),[E,P]},[o]);return $2(()=>new Promise(E=>Fb({font:u,characters:c},E)),["troika-text",u,c]),$.useLayoutEffect(()=>void y.sync(()=>{g(),h&&h(y)})),$.useEffect(()=>()=>y.dispose(),[y]),$.createElement("primitive",jl({object:y,ref:m,font:u,text:S,anchorX:t,anchorY:s,fontSize:a,sdfGlyphSize:e},d),w)}),eE=$.forwardRef(({makeDefault:e,camera:t,regress:s,domElement:u,enableDamping:a=!0,keyEvents:o=!1,onChange:c,onStart:h,onEnd:d,...m},g)=>{const y=ro(G=>G.invalidate),w=ro(G=>G.camera),S=ro(G=>G.gl),E=ro(G=>G.events),P=ro(G=>G.setEvents),R=ro(G=>G.set),A=ro(G=>G.get),I=ro(G=>G.performance),L=t||w,D=u||E.connected||S.domElement,F=$.useMemo(()=>new tb(L),[L]);return bS(()=>{F.enabled&&F.update()},-1),$.useEffect(()=>(o&&F.connect(o===!0?D:o),F.connect(D),()=>void F.dispose()),[o,D,s,F,y]),$.useEffect(()=>{const G=q=>{y(),s&&I.regress(),c&&c(q)},j=q=>{h&&h(q)},W=q=>{d&&d(q)};return F.addEventListener("change",G),F.addEventListener("start",j),F.addEventListener("end",W),()=>{F.removeEventListener("start",j),F.removeEventListener("end",W),F.removeEventListener("change",G)}},[c,h,d,F,y,P]),$.useEffect(()=>{if(e){const G=A().controls;return R({controls:F}),()=>R({controls:G})}},[e,F]),$.createElement("primitive",jl({ref:g,object:F,enableDamping:a},m))});class tE extends Kh{constructor(t){super(t)}load(t,s,u,a){const o=this,c=new A0(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(h){try{s(o.parse(h))}catch(d){a?a(d):console.error(d),o.manager.itemError(t)}},u,a)}parse(t){function s(m){const g=new DataView(m),y=32/8*3+32/8*3*3+16/8,w=g.getUint32(80,!0);if(80+32/8+w*y===g.byteLength)return!0;const E=[115,111,108,105,100];for(let P=0;P<5;P++)if(u(E,g,P))return!1;return!0}function u(m,g,y){for(let w=0,S=m.length;w<S;w++)if(m[w]!==g.getUint8(y+w))return!1;return!0}function a(m){const g=new DataView(m),y=g.getUint32(80,!0);let w,S,E,P=!1,R,A,I,L,D;for(let ie=0;ie<70;ie++)g.getUint32(ie,!1)==1129270351&&g.getUint8(ie+4)==82&&g.getUint8(ie+5)==61&&(P=!0,R=new Float32Array(y*3*3),A=g.getUint8(ie+6)/255,I=g.getUint8(ie+7)/255,L=g.getUint8(ie+8)/255,D=g.getUint8(ie+9)/255);const F=84,G=12*4+2,j=new Vf,W=new Float32Array(y*3*3),q=new Float32Array(y*3*3),J=new _a;for(let ie=0;ie<y;ie++){const Y=F+ie*G,ce=g.getFloat32(Y,!0),pe=g.getFloat32(Y+4,!0),xe=g.getFloat32(Y+8,!0);if(P){const se=g.getUint16(Y+48,!0);se&32768?(w=A,S=I,E=L):(w=(se&31)/31,S=(se>>5&31)/31,E=(se>>10&31)/31)}for(let se=1;se<=3;se++){const Ee=Y+se*12,X=ie*3*3+(se-1)*3;W[X]=g.getFloat32(Ee,!0),W[X+1]=g.getFloat32(Ee+4,!0),W[X+2]=g.getFloat32(Ee+8,!0),q[X]=ce,q[X+1]=pe,q[X+2]=xe,P&&(J.setRGB(w,S,E,Wo),R[X]=J.r,R[X+1]=J.g,R[X+2]=J.b)}}return j.setAttribute("position",new th(W,3)),j.setAttribute("normal",new th(q,3)),P&&(j.setAttribute("color",new th(R,3)),j.hasColors=!0,j.alpha=D),j}function o(m){const g=new Vf,y=/solid([\s\S]*?)endsolid/g,w=/facet([\s\S]*?)endfacet/g,S=/solid\s(.+)/;let E=0;const P=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,R=new RegExp("vertex"+P+P+P,"g"),A=new RegExp("normal"+P+P+P,"g"),I=[],L=[],D=[],F=new Nt;let G,j=0,W=0,q=0;for(;(G=y.exec(m))!==null;){W=q;const J=G[0],ie=(G=S.exec(J))!==null?G[1]:"";for(D.push(ie);(G=w.exec(J))!==null;){let pe=0,xe=0;const se=G[0];for(;(G=A.exec(se))!==null;)F.x=parseFloat(G[1]),F.y=parseFloat(G[2]),F.z=parseFloat(G[3]),xe++;for(;(G=R.exec(se))!==null;)I.push(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),L.push(F.x,F.y,F.z),pe++,q++;xe!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+E),pe!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+E),E++}const Y=W,ce=q-W;g.userData.groupNames=D,g.addGroup(Y,ce,j),j++}return g.setAttribute("position",new wo(I,3)),g.setAttribute("normal",new wo(L,3)),g}function c(m){return typeof m!="string"?new TextDecoder().decode(m):m}function h(m){if(typeof m=="string"){const g=new Uint8Array(m.length);for(let y=0;y<m.length;y++)g[y]=m.charCodeAt(y)&255;return g.buffer||g}else return m}const d=h(t);return s(d)?a(d):o(c(t))}}class nE extends x2{constructor(t){super(t)}parse(t){function s(se){switch(se.image_type){case w:case P:if(se.colormap_length>256||se.colormap_size!==24||se.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case S:case E:case R:case A:if(se.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case y:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+se.image_type)}if(se.width<=0||se.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(se.pixel_size!==8&&se.pixel_size!==16&&se.pixel_size!==24&&se.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+se.pixel_size)}function u(se,Ee,X,K,H){let B,Q;const te=X.pixel_size>>3,oe=X.width*X.height*te;if(Ee&&(Q=H.subarray(K,K+=X.colormap_length*(X.colormap_size>>3))),se){B=new Uint8Array(oe);let ee,le,fe,_e=0;const Oe=new Uint8Array(te);for(;_e<oe;)if(ee=H[K++],le=(ee&127)+1,ee&128){for(fe=0;fe<te;++fe)Oe[fe]=H[K++];for(fe=0;fe<le;++fe)B.set(Oe,_e+fe*te);_e+=te*le}else{for(le*=te,fe=0;fe<le;++fe)B[_e+fe]=H[K++];_e+=le}}else B=H.subarray(K,K+=Ee?X.width*X.height:oe);return{pixel_data:B,palettes:Q}}function a(se,Ee,X,K,H,B,Q,te,oe){const ee=oe;let le,fe=0,_e,Oe;const je=J.width;for(Oe=Ee;Oe!==K;Oe+=X)for(_e=H;_e!==Q;_e+=B,fe++)le=te[fe],se[(_e+je*Oe)*4+3]=255,se[(_e+je*Oe)*4+2]=ee[le*3+0],se[(_e+je*Oe)*4+1]=ee[le*3+1],se[(_e+je*Oe)*4+0]=ee[le*3+2];return se}function o(se,Ee,X,K,H,B,Q,te){let oe,ee=0,le,fe;const _e=J.width;for(fe=Ee;fe!==K;fe+=X)for(le=H;le!==Q;le+=B,ee+=2)oe=te[ee+0]+(te[ee+1]<<8),se[(le+_e*fe)*4+0]=(oe&31744)>>7,se[(le+_e*fe)*4+1]=(oe&992)>>2,se[(le+_e*fe)*4+2]=(oe&31)<<3,se[(le+_e*fe)*4+3]=oe&32768?0:255;return se}function c(se,Ee,X,K,H,B,Q,te){let oe=0,ee,le;const fe=J.width;for(le=Ee;le!==K;le+=X)for(ee=H;ee!==Q;ee+=B,oe+=3)se[(ee+fe*le)*4+3]=255,se[(ee+fe*le)*4+2]=te[oe+0],se[(ee+fe*le)*4+1]=te[oe+1],se[(ee+fe*le)*4+0]=te[oe+2];return se}function h(se,Ee,X,K,H,B,Q,te){let oe=0,ee,le;const fe=J.width;for(le=Ee;le!==K;le+=X)for(ee=H;ee!==Q;ee+=B,oe+=4)se[(ee+fe*le)*4+2]=te[oe+0],se[(ee+fe*le)*4+1]=te[oe+1],se[(ee+fe*le)*4+0]=te[oe+2],se[(ee+fe*le)*4+3]=te[oe+3];return se}function d(se,Ee,X,K,H,B,Q,te){let oe,ee=0,le,fe;const _e=J.width;for(fe=Ee;fe!==K;fe+=X)for(le=H;le!==Q;le+=B,ee++)oe=te[ee],se[(le+_e*fe)*4+0]=oe,se[(le+_e*fe)*4+1]=oe,se[(le+_e*fe)*4+2]=oe,se[(le+_e*fe)*4+3]=255;return se}function m(se,Ee,X,K,H,B,Q,te){let oe=0,ee,le;const fe=J.width;for(le=Ee;le!==K;le+=X)for(ee=H;ee!==Q;ee+=B,oe+=2)se[(ee+fe*le)*4+0]=te[oe+0],se[(ee+fe*le)*4+1]=te[oe+0],se[(ee+fe*le)*4+2]=te[oe+0],se[(ee+fe*le)*4+3]=te[oe+1];return se}function g(se,Ee,X,K,H){let B,Q,te,oe,ee,le;switch((J.flags&I)>>L){default:case G:B=0,te=1,ee=Ee,Q=0,oe=1,le=X;break;case D:B=0,te=1,ee=Ee,Q=X-1,oe=-1,le=-1;break;case j:B=Ee-1,te=-1,ee=-1,Q=0,oe=1,le=X;break;case F:B=Ee-1,te=-1,ee=-1,Q=X-1,oe=-1,le=-1;break}if(ce)switch(J.pixel_size){case 8:d(se,Q,oe,le,B,te,ee,K);break;case 16:m(se,Q,oe,le,B,te,ee,K);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(J.pixel_size){case 8:a(se,Q,oe,le,B,te,ee,K,H);break;case 16:o(se,Q,oe,le,B,te,ee,K);break;case 24:c(se,Q,oe,le,B,te,ee,K);break;case 32:h(se,Q,oe,le,B,te,ee,K);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return se}const y=0,w=1,S=2,E=3,P=9,R=10,A=11,I=48,L=4,D=0,F=1,G=2,j=3;if(t.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let W=0;const q=new Uint8Array(t),J={id_length:q[W++],colormap_type:q[W++],image_type:q[W++],colormap_index:q[W++]|q[W++]<<8,colormap_length:q[W++]|q[W++]<<8,colormap_size:q[W++],origin:[q[W++]|q[W++]<<8,q[W++]|q[W++]<<8],width:q[W++]|q[W++]<<8,height:q[W++]|q[W++]<<8,pixel_size:q[W++],flags:q[W++]};if(s(J),J.id_length+W>t.length)throw new Error("THREE.TGALoader: No data.");W+=J.id_length;let ie=!1,Y=!1,ce=!1;switch(J.image_type){case P:ie=!0,Y=!0;break;case w:Y=!0;break;case R:ie=!0;break;case S:break;case A:ie=!0,ce=!0;break;case E:ce=!0;break}const pe=new Uint8Array(J.width*J.height*4),xe=u(ie,Y,J,W,q);return g(pe,J.width,J.height,xe.pixel_data,xe.palettes),{data:pe,width:J.width,height:J.height,flipY:!0,generateMipmaps:!0,minFilter:S2}}}class rE extends Kh{load(t,s,u,a){const o=this,c=o.path===""?R0.extractUrlBase(t):o.path,h=new A0(o.manager);h.setPath(o.path),h.setRequestHeader(o.requestHeader),h.setWithCredentials(o.withCredentials),h.load(t,function(d){try{s(o.parse(d,c))}catch(m){a?a(m):console.error(m),o.manager.itemError(t)}},u,a)}parse(t,s){function u(C,T){const U=[],M=C.childNodes;for(let N=0,ve=M.length;N<ve;N++){const me=M[N];me.nodeName===T&&U.push(me)}return U}function a(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let M=0,N=T.length;M<N;M++)U[M]=T[M];return U}function o(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let M=0,N=T.length;M<N;M++)U[M]=parseFloat(T[M]);return U}function c(C){if(C.length===0)return[];const T=C.trim().split(/\s+/),U=new Array(T.length);for(let M=0,N=T.length;M<N;M++)U[M]=parseInt(T[M]);return U}function h(C){return C.substring(1)}function d(){return"three_default_"+gr++}function m(C){return Object.keys(C).length===0}function g(C){return{unit:y(u(C,"unit")[0]),upAxis:w(u(C,"up_axis")[0])}}function y(C){return C!==void 0&&C.hasAttribute("meter")===!0?parseFloat(C.getAttribute("meter")):1}function w(C){return C!==void 0?C.textContent:"Y_UP"}function S(C,T,U,M){const N=u(C,T)[0];if(N!==void 0){const ve=u(N,U);for(let me=0;me<ve.length;me++)M(ve[me])}}function E(C,T){for(const U in C){const M=C[U];M.build=T(C[U])}}function P(C,T){return C.build!==void 0||(C.build=T(C)),C.build}function R(C){const T={sources:{},samplers:{},channels:{}};let U=!1;for(let M=0,N=C.childNodes.length;M<N;M++){const ve=C.childNodes[M];if(ve.nodeType!==1)continue;let me;switch(ve.nodeName){case"source":me=ve.getAttribute("id"),T.sources[me]=Ot(ve);break;case"sampler":me=ve.getAttribute("id"),T.samplers[me]=A(ve);break;case"channel":me=ve.getAttribute("target"),T.channels[me]=I(ve);break;case"animation":R(ve),U=!0;break;default:console.log(ve)}}U===!1&&(vt.animations[C.getAttribute("id")||Ml.generateUUID()]=T)}function A(C){const T={inputs:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=h(N.getAttribute("source")),me=N.getAttribute("semantic");T.inputs[me]=ve;break}}return T}function I(C){const T={};let M=C.getAttribute("target").split("/");const N=M.shift();let ve=M.shift();const me=ve.indexOf("(")!==-1,Ye=ve.indexOf(".")!==-1;if(Ye)M=ve.split("."),ve=M.shift(),T.member=M.shift();else if(me){const Ne=ve.split("(");ve=Ne.shift();for(let ze=0;ze<Ne.length;ze++)Ne[ze]=parseInt(Ne[ze].replace(/\)/,""));T.indices=Ne}return T.id=N,T.sid=ve,T.arraySyntax=me,T.memberSyntax=Ye,T.sampler=h(C.getAttribute("source")),T}function L(C){const T=[],U=C.channels,M=C.samplers,N=C.sources;for(const ve in U)if(U.hasOwnProperty(ve)){const me=U[ve],Ye=M[me.sampler],Ne=Ye.inputs.INPUT,ze=Ye.inputs.OUTPUT,ut=N[Ne],Ie=N[ze],Fe=F(me,ut,Ie);J(Fe,T)}return T}function D(C){return P(vt.animations[C],L)}function F(C,T,U){const M=vt.nodes[C.id],N=en(M.id),ve=M.transforms[C.sid],me=M.matrix.clone().transpose();let Ye,Ne,ze,ut,Ie,Fe;const Xe={};switch(ve){case"matrix":for(ze=0,ut=T.array.length;ze<ut;ze++)if(Ye=T.array[ze],Ne=ze*U.stride,Xe[Ye]===void 0&&(Xe[Ye]={}),C.arraySyntax===!0){const hn=U.array[Ne],Zt=C.indices[0]+4*C.indices[1];Xe[Ye][Zt]=hn}else for(Ie=0,Fe=U.stride;Ie<Fe;Ie++)Xe[Ye][Ie]=U.array[Ne+Ie];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',ve);break}const _t=G(Xe,me);return{name:N.uuid,keyframes:_t}}function G(C,T){const U=[];for(const N in C)U.push({time:parseFloat(N),value:C[N]});U.sort(M);for(let N=0;N<16;N++)ie(U,N,T.elements[N]);return U;function M(N,ve){return N.time-ve.time}}const j=new Nt,W=new Nt,q=new Zu;function J(C,T){const U=C.keyframes,M=C.name,N=[],ve=[],me=[],Ye=[];for(let Ne=0,ze=U.length;Ne<ze;Ne++){const ut=U[Ne],Ie=ut.time,Fe=ut.value;Ln.fromArray(Fe).transpose(),Ln.decompose(j,q,W),N.push(Ie),ve.push(j.x,j.y,j.z),me.push(q.x,q.y,q.z,q.w),Ye.push(W.x,W.y,W.z)}return ve.length>0&&T.push(new zm(M+".position",N,ve)),me.length>0&&T.push(new b2(M+".quaternion",N,me)),Ye.length>0&&T.push(new zm(M+".scale",N,Ye)),T}function ie(C,T,U){let M,N=!0,ve,me;for(ve=0,me=C.length;ve<me;ve++)M=C[ve],M.value[T]===void 0?M.value[T]=null:N=!1;if(N===!0)for(ve=0,me=C.length;ve<me;ve++)M=C[ve],M.value[T]=U;else Y(C,T)}function Y(C,T){let U,M;for(let N=0,ve=C.length;N<ve;N++){const me=C[N];if(me.value[T]===null){if(U=ce(C,N,T),M=pe(C,N,T),U===null){me.value[T]=M.value[T];continue}if(M===null){me.value[T]=U.value[T];continue}xe(me,U,M,T)}}}function ce(C,T,U){for(;T>=0;){const M=C[T];if(M.value[U]!==null)return M;T--}return null}function pe(C,T,U){for(;T<C.length;){const M=C[T];if(M.value[U]!==null)return M;T++}return null}function xe(C,T,U,M){if(U.time-T.time===0){C.value[M]=T.value[M];return}C.value[M]=(C.time-T.time)*(U.value[M]-T.value[M])/(U.time-T.time)+T.value[M]}function se(C){const T={name:C.getAttribute("id")||"default",start:parseFloat(C.getAttribute("start")||0),end:parseFloat(C.getAttribute("end")||0),animations:[]};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"instance_animation":T.animations.push(h(N.getAttribute("url")));break}}vt.clips[C.getAttribute("id")]=T}function Ee(C){const T=[],U=C.name,M=C.end-C.start||-1,N=C.animations;for(let ve=0,me=N.length;ve<me;ve++){const Ye=D(N[ve]);for(let Ne=0,ze=Ye.length;Ne<ze;Ne++)T.push(Ye[Ne])}return new Fm(U,M,T)}function X(C){return P(vt.clips[C],Ee)}function K(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"skin":T.id=h(N.getAttribute("source")),T.skin=H(N);break;case"morph":T.id=h(N.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}vt.controllers[C.getAttribute("id")]=T}function H(C){const T={sources:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"bind_shape_matrix":T.bindShapeMatrix=o(N.textContent);break;case"source":const ve=N.getAttribute("id");T.sources[ve]=Ot(N);break;case"joints":T.joints=B(N);break;case"vertex_weights":T.vertexWeights=Q(N);break}}return T}function B(C){const T={inputs:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=N.getAttribute("semantic"),me=h(N.getAttribute("source"));T.inputs[ve]=me;break}}return T}function Q(C){const T={inputs:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=N.getAttribute("semantic"),me=h(N.getAttribute("source")),Ye=parseInt(N.getAttribute("offset"));T.inputs[ve]={id:me,offset:Ye};break;case"vcount":T.vcount=c(N.textContent);break;case"v":T.v=c(N.textContent);break}}return T}function te(C){const T={id:C.id},U=vt.geometries[T.id];return C.skin!==void 0&&(T.skin=oe(C.skin),U.sources.skinIndices=T.skin.indices,U.sources.skinWeights=T.skin.weights),T}function oe(C){const U={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},M=C.sources,N=C.vertexWeights,ve=N.vcount,me=N.v,Ye=N.inputs.JOINT.offset,Ne=N.inputs.WEIGHT.offset,ze=C.sources[C.joints.inputs.JOINT],ut=C.sources[C.joints.inputs.INV_BIND_MATRIX],Ie=M[N.inputs.WEIGHT.id].array;let Fe=0,Xe,_t,Ke;for(Xe=0,Ke=ve.length;Xe<Ke;Xe++){const Zt=ve[Xe],Ut=[];for(_t=0;_t<Zt;_t++){const dt=me[Fe+Ye],Jt=me[Fe+Ne],pn=Ie[Jt];Ut.push({index:dt,weight:pn}),Fe+=2}for(Ut.sort(hn),_t=0;_t<4;_t++){const dt=Ut[_t];dt!==void 0?(U.indices.array.push(dt.index),U.weights.array.push(dt.weight)):(U.indices.array.push(0),U.weights.array.push(0))}}for(C.bindShapeMatrix?U.bindMatrix=new ji().fromArray(C.bindShapeMatrix).transpose():U.bindMatrix=new ji().identity(),Xe=0,Ke=ze.array.length;Xe<Ke;Xe++){const Zt=ze.array[Xe],Ut=new ji().fromArray(ut.array,Xe*ut.stride).transpose();U.joints.push({name:Zt,boneInverse:Ut})}return U;function hn(Zt,Ut){return Ut.weight-Zt.weight}}function ee(C){return P(vt.controllers[C],te)}function le(C){const T={init_from:u(C,"init_from")[0].textContent};vt.images[C.getAttribute("id")]=T}function fe(C){return C.build!==void 0?C.build:C.init_from}function _e(C){const T=vt.images[C];return T!==void 0?P(T,fe):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",C),null)}function Oe(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"profile_COMMON":T.profile=je(N);break}}vt.effects[C.getAttribute("id")]=T}function je(C){const T={surfaces:{},samplers:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"newparam":Le(N,T);break;case"technique":T.technique=ot(N);break;case"extra":T.extra=He(N);break}}return T}function Le(C,T){const U=C.getAttribute("sid");for(let M=0,N=C.childNodes.length;M<N;M++){const ve=C.childNodes[M];if(ve.nodeType===1)switch(ve.nodeName){case"surface":T.surfaces[U]=Ce(ve);break;case"sampler2D":T.samplers[U]=ht(ve);break}}}function Ce(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"init_from":T.init_from=N.textContent;break}}return T}function ht(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"source":T.source=N.textContent;break}}return T}function ot(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"constant":case"lambert":case"blinn":case"phong":T.type=N.nodeName,T.parameters=Ve(N);break;case"extra":T.extra=He(N);break}}return T}function Ve(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":T[N.nodeName]=st(N);break;case"transparent":T[N.nodeName]={opaque:N.hasAttribute("opaque")?N.getAttribute("opaque"):"A_ONE",data:st(N)};break}}return T}function st(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"color":T[N.nodeName]=o(N.textContent);break;case"float":T[N.nodeName]=parseFloat(N.textContent);break;case"texture":T[N.nodeName]={id:N.getAttribute("texture"),extra:et(N)};break}}return T}function et(C){const T={technique:{}};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"extra":Ue(N,T);break}}return T}function Ue(C,T){for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique":lt(N,T);break}}}function lt(C,T){for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":T.technique[N.nodeName]=parseFloat(N.textContent);break;case"wrapU":case"wrapV":N.textContent.toUpperCase()==="TRUE"?T.technique[N.nodeName]=1:N.textContent.toUpperCase()==="FALSE"?T.technique[N.nodeName]=0:T.technique[N.nodeName]=parseInt(N.textContent);break;case"bump":T[N.nodeName]=xt(N);break}}}function He(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique":T.technique=Te(N);break}}return T}function Te(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"double_sided":T[N.nodeName]=parseInt(N.textContent);break;case"bump":T[N.nodeName]=xt(N);break}}return T}function xt(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"texture":T[N.nodeName]={id:N.getAttribute("texture"),texcoord:N.getAttribute("texcoord"),extra:et(N)};break}}return T}function Ge(C){return C}function Qe(C){return P(vt.effects[C],Ge)}function Be(C){const T={name:C.getAttribute("name")};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"instance_effect":T.url=h(N.getAttribute("url"));break}}vt.materials[C.getAttribute("id")]=T}function $t(C){let T,U=C.slice((C.lastIndexOf(".")-1>>>0)+2);switch(U=U.toLowerCase(),U){case"tga":T=Ti;break;default:T=Ei}return T}function tt(C){const T=Qe(C.url),U=T.profile.technique;let M;switch(U.type){case"phong":case"blinn":M=new Ju;break;case"lambert":M=new E2;break;default:M=new qh;break}M.name=C.name||"";function N(Ne,ze=null){const ut=T.profile.samplers[Ne.id];let Ie=null;if(ut!==void 0){const Fe=T.profile.surfaces[ut.source];Ie=_e(Fe.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),Ie=_e(Ne.id);if(Ie!==null){const Fe=$t(Ie);if(Fe!==void 0){const Xe=Fe.load(Ie),_t=Ne.extra;if(_t!==void 0&&_t.technique!==void 0&&m(_t.technique)===!1){const Ke=_t.technique;Xe.wrapS=Ke.wrapU?mf:Gm,Xe.wrapT=Ke.wrapV?mf:Gm,Xe.offset.set(Ke.offsetU||0,Ke.offsetV||0),Xe.repeat.set(Ke.repeatU||1,Ke.repeatV||1)}else Xe.wrapS=mf,Xe.wrapT=mf;return ze!==null&&(Xe.colorSpace=ze),Xe}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",Ie),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",Ne.id),null}const ve=U.parameters;for(const Ne in ve){const ze=ve[Ne];switch(Ne){case"diffuse":ze.color&&M.color.fromArray(ze.color),ze.texture&&(M.map=N(ze.texture,Wo));break;case"specular":ze.color&&M.specular&&M.specular.fromArray(ze.color),ze.texture&&(M.specularMap=N(ze.texture));break;case"bump":ze.texture&&(M.normalMap=N(ze.texture));break;case"ambient":ze.texture&&(M.lightMap=N(ze.texture,Wo));break;case"shininess":ze.float&&M.shininess&&(M.shininess=ze.float);break;case"emission":ze.color&&M.emissive&&M.emissive.fromArray(ze.color),ze.texture&&(M.emissiveMap=N(ze.texture,Wo));break}}pf.toWorkingColorSpace(M.color,Wo),M.specular&&pf.toWorkingColorSpace(M.specular,Wo),M.emissive&&pf.toWorkingColorSpace(M.emissive,Wo);let me=ve.transparent,Ye=ve.transparency;if(Ye===void 0&&me&&(Ye={float:1}),me===void 0&&Ye&&(me={opaque:"A_ONE",data:{color:[1,1,1,1]}}),me&&Ye)if(me.data.texture)M.transparent=!0;else{const Ne=me.data.color;switch(me.opaque){case"A_ONE":M.opacity=Ne[3]*Ye.float;break;case"RGB_ZERO":M.opacity=1-Ne[0]*Ye.float;break;case"A_ZERO":M.opacity=1-Ne[3]*Ye.float;break;case"RGB_ONE":M.opacity=Ne[0]*Ye.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',me.opaque)}M.opacity<1&&(M.transparent=!0)}if(U.extra!==void 0&&U.extra.technique!==void 0){const Ne=U.extra.technique;for(const ze in Ne){const ut=Ne[ze];switch(ze){case"double_sided":M.side=ut===1?k0:T2;break;case"bump":M.normalMap=N(ut.texture),M.normalScale=new ur(1,1);break}}}return M}function nt(C){return P(vt.materials[C],tt)}function gt(C){const T={name:C.getAttribute("name")};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"optics":T.optics=Ct(N);break}}vt.cameras[C.getAttribute("id")]=T}function Ct(C){for(let T=0;T<C.childNodes.length;T++){const U=C.childNodes[T];switch(U.nodeName){case"technique_common":return tn(U)}}return{}}function tn(C){const T={};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];switch(M.nodeName){case"perspective":case"orthographic":T.technique=M.nodeName,T.parameters=fn(M);break}}return T}function fn(C){const T={};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];switch(M.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":T[M.nodeName]=parseFloat(M.textContent);break}}return T}function It(C){let T;switch(C.optics.technique){case"perspective":T=new zl(C.optics.parameters.yfov,C.optics.parameters.aspect_ratio,C.optics.parameters.znear,C.optics.parameters.zfar);break;case"orthographic":let U=C.optics.parameters.ymag,M=C.optics.parameters.xmag;const N=C.optics.parameters.aspect_ratio;M=M===void 0?U*N:M,U=U===void 0?M/N:U,M*=.5,U*=.5,T=new Xu(-M,M,U,-U,C.optics.parameters.znear,C.optics.parameters.zfar);break;default:T=new zl;break}return T.name=C.name||"",T}function Mt(C){const T=vt.cameras[C];return T!==void 0?P(T,It):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",C),null)}function ct(C){let T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"technique_common":T=ae(N);break}}vt.lights[C.getAttribute("id")]=T}function ae(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"directional":case"point":case"spot":case"ambient":T.technique=N.nodeName,T.parameters=Re(N)}}return T}function Re(C){const T={};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"color":const ve=o(N.textContent);T.color=new _a().fromArray(ve),pf.toWorkingColorSpace(T.color,Wo);break;case"falloff_angle":T.falloffAngle=parseFloat(N.textContent);break;case"quadratic_attenuation":const me=parseFloat(N.textContent);T.distance=me?Math.sqrt(1/me):0;break}}return T}function rt(C){let T;switch(C.technique){case"directional":T=new R2;break;case"point":T=new A2;break;case"spot":T=new k2;break;case"ambient":T=new C2;break}return C.parameters.color&&T.color.copy(C.parameters.color),C.parameters.distance&&(T.distance=C.parameters.distance),T}function ft(C){const T=vt.lights[C];return T!==void 0?P(T,rt):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",C),null)}function Ze(C){const T={name:C.getAttribute("name"),sources:{},vertices:{},primitives:[]},U=u(C,"mesh")[0];if(U!==void 0){for(let M=0;M<U.childNodes.length;M++){const N=U.childNodes[M];if(N.nodeType!==1)continue;const ve=N.getAttribute("id");switch(N.nodeName){case"source":T.sources[ve]=Ot(N);break;case"vertices":T.vertices=Pn(N);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",N.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":T.primitives.push(an(N));break;default:console.log(N)}}vt.geometries[C.getAttribute("id")]=T}}function Ot(C){const T={array:[],stride:3};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"float_array":T.array=o(M.textContent);break;case"Name_array":T.array=a(M.textContent);break;case"technique_common":const N=u(M,"accessor")[0];N!==void 0&&(T.stride=parseInt(N.getAttribute("stride")));break}}return T}function Pn(C){const T={};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];M.nodeType===1&&(T[M.getAttribute("semantic")]=h(M.getAttribute("source")))}return T}function an(C){const T={type:C.nodeName,material:C.getAttribute("material"),count:parseInt(C.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let U=0,M=C.childNodes.length;U<M;U++){const N=C.childNodes[U];if(N.nodeType===1)switch(N.nodeName){case"input":const ve=h(N.getAttribute("source")),me=N.getAttribute("semantic"),Ye=parseInt(N.getAttribute("offset")),Ne=parseInt(N.getAttribute("set")),ze=Ne>0?me+Ne:me;T.inputs[ze]={id:ve,offset:Ye},T.stride=Math.max(T.stride,Ye+1),me==="TEXCOORD"&&(T.hasUV=!0);break;case"vcount":T.vcount=c(N.textContent);break;case"p":T.p=c(N.textContent);break}}return T}function zt(C){const T={};for(let U=0;U<C.length;U++){const M=C[U];T[M.type]===void 0&&(T[M.type]=[]),T[M.type].push(M)}return T}function nn(C){let T=0;for(let U=0,M=C.length;U<M;U++)C[U].hasUV===!0&&T++;T>0&&T<C.length&&(C.uvsNeedsFix=!0)}function Xt(C){const T={},U=C.sources,M=C.vertices,N=C.primitives;if(N.length===0)return{};const ve=zt(N);for(const me in ve){const Ye=ve[me];nn(Ye),T[me]=St(Ye,U,M)}return T}function St(C,T,U){const M={},N={array:[],stride:0},ve={array:[],stride:0},me={array:[],stride:0},Ye={array:[],stride:0},Ne={array:[],stride:0},ze={array:[],stride:4},ut={array:[],stride:4},Ie=new Vf,Fe=[];let Xe=0;for(let _t=0;_t<C.length;_t++){const Ke=C[_t],hn=Ke.inputs;let Zt=0;switch(Ke.type){case"lines":case"linestrips":Zt=Ke.count*2;break;case"triangles":Zt=Ke.count*3;break;case"polylist":for(let Ut=0;Ut<Ke.count;Ut++){const dt=Ke.vcount[Ut];switch(dt){case 3:Zt+=3;break;case 4:Zt+=6;break;default:Zt+=(dt-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",Ke.type)}Ie.addGroup(Xe,Zt,_t),Xe+=Zt,Ke.material&&Fe.push(Ke.material);for(const Ut in hn){const dt=hn[Ut];switch(Ut){case"VERTEX":for(const Jt in U){const pn=U[Jt];switch(Jt){case"POSITION":const In=N.array.length;if(Dt(Ke,T[pn],dt.offset,N.array),N.stride=T[pn].stride,T.skinWeights&&T.skinIndices&&(Dt(Ke,T.skinIndices,dt.offset,ze.array),Dt(Ke,T.skinWeights,dt.offset,ut.array)),Ke.hasUV===!1&&C.uvsNeedsFix===!0){const pi=(N.array.length-In)/N.stride;for(let Or=0;Or<pi;Or++)me.array.push(0,0)}break;case"NORMAL":Dt(Ke,T[pn],dt.offset,ve.array),ve.stride=T[pn].stride;break;case"COLOR":Dt(Ke,T[pn],dt.offset,Ne.array),Ne.stride=T[pn].stride;break;case"TEXCOORD":Dt(Ke,T[pn],dt.offset,me.array),me.stride=T[pn].stride;break;case"TEXCOORD1":Dt(Ke,T[pn],dt.offset,Ye.array),me.stride=T[pn].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Jt)}}break;case"NORMAL":Dt(Ke,T[dt.id],dt.offset,ve.array),ve.stride=T[dt.id].stride;break;case"COLOR":Dt(Ke,T[dt.id],dt.offset,Ne.array,!0),Ne.stride=T[dt.id].stride;break;case"TEXCOORD":Dt(Ke,T[dt.id],dt.offset,me.array),me.stride=T[dt.id].stride;break;case"TEXCOORD1":Dt(Ke,T[dt.id],dt.offset,Ye.array),Ye.stride=T[dt.id].stride;break}}}return N.array.length>0&&Ie.setAttribute("position",new wo(N.array,N.stride)),ve.array.length>0&&Ie.setAttribute("normal",new wo(ve.array,ve.stride)),Ne.array.length>0&&Ie.setAttribute("color",new wo(Ne.array,Ne.stride)),me.array.length>0&&Ie.setAttribute("uv",new wo(me.array,me.stride)),Ye.array.length>0&&Ie.setAttribute("uv1",new wo(Ye.array,Ye.stride)),ze.array.length>0&&Ie.setAttribute("skinIndex",new wo(ze.array,ze.stride)),ut.array.length>0&&Ie.setAttribute("skinWeight",new wo(ut.array,ut.stride)),M.data=Ie,M.type=C[0].type,M.materialKeys=Fe,M}function Dt(C,T,U,M,N=!1){const ve=C.p,me=C.stride,Ye=C.vcount;function Ne(Ie){let Fe=ve[Ie+U]*ut;const Xe=Fe+ut;for(;Fe<Xe;Fe++)M.push(ze[Fe]);if(N){const _t=M.length-ut-1;Hi.setRGB(M[_t+0],M[_t+1],M[_t+2],Wo),M[_t+0]=Hi.r,M[_t+1]=Hi.g,M[_t+2]=Hi.b}}const ze=T.array,ut=T.stride;if(C.vcount!==void 0){let Ie=0;for(let Fe=0,Xe=Ye.length;Fe<Xe;Fe++){const _t=Ye[Fe];if(_t===4){const Ke=Ie+me*0,hn=Ie+me*1,Zt=Ie+me*2,Ut=Ie+me*3;Ne(Ke),Ne(hn),Ne(Ut),Ne(hn),Ne(Zt),Ne(Ut)}else if(_t===3){const Ke=Ie+me*0,hn=Ie+me*1,Zt=Ie+me*2;Ne(Ke),Ne(hn),Ne(Zt)}else if(_t>4)for(let Ke=1,hn=_t-2;Ke<=hn;Ke++){const Zt=Ie+me*0,Ut=Ie+me*Ke,dt=Ie+me*(Ke+1);Ne(Zt),Ne(Ut),Ne(dt)}Ie+=me*_t}}else for(let Ie=0,Fe=ve.length;Ie<Fe;Ie+=me)Ne(Ie)}function yn(C){return P(vt.geometries[C],Xt)}function wn(C){const T={name:C.getAttribute("name")||"",joints:{},links:[]};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"technique_common":Lr(M,T);break}}vt.kinematicsModels[C.getAttribute("id")]=T}function xn(C){return C.build!==void 0?C.build:C}function Pr(C){return P(vt.kinematicsModels[C],xn)}function Lr(C,T){for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"joint":T.joints[M.getAttribute("sid")]=Ir(M);break;case"link":T.links.push(fr(M));break}}}function Ir(C){let T;for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"prismatic":case"revolute":T=ci(M);break}}return T}function ci(C){const T={sid:C.getAttribute("sid"),name:C.getAttribute("name")||"",axis:new Nt,limits:{min:0,max:0},type:C.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"axis":const N=o(M.textContent);T.axis.fromArray(N);break;case"limits":const ve=M.getElementsByTagName("max")[0],me=M.getElementsByTagName("min")[0];T.limits.max=parseFloat(ve.textContent),T.limits.min=parseFloat(me.textContent);break}}return T.limits.min>=T.limits.max&&(T.static=!0),T.middlePosition=(T.limits.min+T.limits.max)/2,T}function fr(C){const T={sid:C.getAttribute("sid"),name:C.getAttribute("name")||"",attachments:[],transforms:[]};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"attachment_full":T.attachments.push(Qr(M));break;case"matrix":case"translate":case"rotate":T.transforms.push(Gn(M));break}}return T}function Qr(C){const T={joint:C.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"link":T.links.push(fr(M));break;case"matrix":case"translate":case"rotate":T.transforms.push(Gn(M));break}}return T}function Gn(C){const T={type:C.nodeName},U=o(C.textContent);switch(T.type){case"matrix":T.obj=new ji,T.obj.fromArray(U).transpose();break;case"translate":T.obj=new Nt,T.obj.fromArray(U);break;case"rotate":T.obj=new Nt,T.obj.fromArray(U),T.angle=Ml.degToRad(U[3]);break}return T}function bi(C){const T={name:C.getAttribute("name")||"",rigidBodies:{}};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"rigid_body":T.rigidBodies[M.getAttribute("name")]={},Sa(M,T.rigidBodies[M.getAttribute("name")]);break}}vt.physicsModels[C.getAttribute("id")]=T}function Sa(C,T){for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"technique_common":qo(M,T);break}}}function qo(C,T){for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"inertia":T.inertia=o(M.textContent);break;case"mass":T.mass=o(M.textContent)[0];break}}}function ba(C){const T={bindJointAxis:[]};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"bind_joint_axis":T.bindJointAxis.push(Ea(M));break}}vt.kinematicsScenes[h(C.getAttribute("url"))]=T}function Ea(C){const T={target:C.getAttribute("target").split("/").pop()};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType===1)switch(M.nodeName){case"axis":const N=M.getElementsByTagName("param")[0];T.axis=N.textContent;const ve=T.axis.split("inst_").pop().split("axis")[0];T.jointIndex=ve.substring(0,ve.length-1);break}}return T}function oo(C){return C.build!==void 0?C.build:C}function Ko(C){return P(vt.kinematicsScenes[C],oo)}function as(){const C=Object.keys(vt.kinematicsModels)[0],T=Object.keys(vt.kinematicsScenes)[0],U=Object.keys(vt.visualScenes)[0];if(C===void 0||T===void 0)return;const M=Pr(C),N=Ko(T),ve=Vr(U),me=N.bindJointAxis,Ye={};for(let ut=0,Ie=me.length;ut<Ie;ut++){const Fe=me[ut],Xe=_n.querySelector('[sid="'+Fe.target+'"]');if(Xe){const _t=Xe.parentElement;Ne(Fe.jointIndex,_t)}}function Ne(ut,Ie){const Fe=Ie.getAttribute("name"),Xe=M.joints[ut];ve.traverse(function(_t){_t.name===Fe&&(Ye[ut]={object:_t,transforms:Ta(Ie),joint:Xe,position:Xe.zeroPosition})})}const ze=new ji;Xr={joints:M&&M.joints,getJointValue:function(ut){const Ie=Ye[ut];if(Ie)return Ie.position;console.warn("THREE.ColladaLoader: Joint "+ut+" doesn't exist.")},setJointValue:function(ut,Ie){const Fe=Ye[ut];if(Fe){const Xe=Fe.joint;if(Ie>Xe.limits.max||Ie<Xe.limits.min)console.warn("THREE.ColladaLoader: Joint "+ut+" value "+Ie+" outside of limits (min: "+Xe.limits.min+", max: "+Xe.limits.max+").");else if(Xe.static)console.warn("THREE.ColladaLoader: Joint "+ut+" is static.");else{const _t=Fe.object,Ke=Xe.axis,hn=Fe.transforms;Ln.identity();for(let Zt=0;Zt<hn.length;Zt++){const Ut=hn[Zt];if(Ut.sid&&Ut.sid.indexOf(ut)!==-1)switch(Xe.type){case"revolute":Ln.multiply(ze.makeRotationAxis(Ke,Ml.degToRad(Ie)));break;case"prismatic":Ln.multiply(ze.makeTranslation(Ke.x*Ie,Ke.y*Ie,Ke.z*Ie));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Xe.type);break}else switch(Ut.type){case"matrix":Ln.multiply(Ut.obj);break;case"translate":Ln.multiply(ze.makeTranslation(Ut.obj.x,Ut.obj.y,Ut.obj.z));break;case"scale":Ln.scale(Ut.obj);break;case"rotate":Ln.multiply(ze.makeRotationAxis(Ut.obj,Ut.angle));break}}_t.matrix.copy(Ln),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale),Ye[ut].position=Ie}}else console.log("THREE.ColladaLoader: "+ut+" does not exist.")}}}function Ta(C){const T=[],U=_n.querySelector('[id="'+C.id+'"]');for(let M=0;M<U.childNodes.length;M++){const N=U.childNodes[M];if(N.nodeType!==1)continue;let ve,me;switch(N.nodeName){case"matrix":ve=o(N.textContent);const Ye=new ji().fromArray(ve).transpose();T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:Ye});break;case"translate":case"scale":ve=o(N.textContent),me=new Nt().fromArray(ve),T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:me});break;case"rotate":ve=o(N.textContent),me=new Nt().fromArray(ve);const Ne=Ml.degToRad(ve[3]);T.push({sid:N.getAttribute("sid"),type:N.nodeName,obj:me,angle:Ne});break}}return T}function bo(C){const T=C.getElementsByTagName("node");for(let U=0;U<T.length;U++){const M=T[U];M.hasAttribute("id")===!1&&M.setAttribute("id",d())}}const Ln=new ji,fi=new Nt;function it(C){const T={name:C.getAttribute("name")||"",type:C.getAttribute("type"),id:C.getAttribute("id"),sid:C.getAttribute("sid"),matrix:new ji,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];if(M.nodeType!==1)continue;let N;switch(M.nodeName){case"node":T.nodes.push(M.getAttribute("id")),it(M);break;case"instance_camera":T.instanceCameras.push(h(M.getAttribute("url")));break;case"instance_controller":T.instanceControllers.push(Hr(M));break;case"instance_light":T.instanceLights.push(h(M.getAttribute("url")));break;case"instance_geometry":T.instanceGeometries.push(Hr(M));break;case"instance_node":T.instanceNodes.push(h(M.getAttribute("url")));break;case"matrix":N=o(M.textContent),T.matrix.multiply(Ln.fromArray(N).transpose()),T.transforms[M.getAttribute("sid")]=M.nodeName;break;case"translate":N=o(M.textContent),fi.fromArray(N),T.matrix.multiply(Ln.makeTranslation(fi.x,fi.y,fi.z)),T.transforms[M.getAttribute("sid")]=M.nodeName;break;case"rotate":N=o(M.textContent);const ve=Ml.degToRad(N[3]);T.matrix.multiply(Ln.makeRotationAxis(fi.fromArray(N),ve)),T.transforms[M.getAttribute("sid")]=M.nodeName;break;case"scale":N=o(M.textContent),T.matrix.scale(fi.fromArray(N)),T.transforms[M.getAttribute("sid")]=M.nodeName;break;case"extra":break;default:console.log(M)}}return sn(T.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",T.id):vt.nodes[T.id]=T,T}function Hr(C){const T={id:h(C.getAttribute("url")),materials:{},skeletons:[]};for(let U=0;U<C.childNodes.length;U++){const M=C.childNodes[U];switch(M.nodeName){case"bind_material":const N=M.getElementsByTagName("instance_material");for(let ve=0;ve<N.length;ve++){const me=N[ve],Ye=me.getAttribute("symbol"),Ne=me.getAttribute("target");T.materials[Ye]=h(Ne)}break;case"skeleton":T.skeletons.push(h(M.textContent));break}}return T}function Qo(C,T){const U=[],M=[];let N,ve,me;for(N=0;N<C.length;N++){const ze=C[N];let ut;if(sn(ze))ut=en(ze),Zr(ut,T,U);else if(Nn(ze)){const Fe=vt.visualScenes[ze].children;for(let Xe=0;Xe<Fe.length;Xe++){const _t=Fe[Xe];if(_t.type==="JOINT"){const Ke=en(_t.id);Zr(Ke,T,U)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",ze)}for(N=0;N<T.length;N++)for(ve=0;ve<U.length;ve++)if(me=U[ve],me.bone.name===T[N].name){M[N]=me,me.processed=!0;break}for(N=0;N<U.length;N++)me=U[N],me.processed===!1&&(M.push(me),me.processed=!0);const Ye=[],Ne=[];for(N=0;N<M.length;N++)me=M[N],Ye.push(me.bone),Ne.push(me.boneInverse);return new O2(Ye,Ne)}function Zr(C,T,U){C.traverse(function(M){if(M.isBone===!0){let N;for(let ve=0;ve<T.length;ve++){const me=T[ve];if(me.name===M.name){N=me.boneInverse;break}}N===void 0&&(N=new ji),U.push({bone:M,boneInverse:N,processed:!1})}})}function ao(C){const T=[],U=C.matrix,M=C.nodes,N=C.type,ve=C.instanceCameras,me=C.instanceControllers,Ye=C.instanceLights,Ne=C.instanceGeometries,ze=C.instanceNodes;for(let Ie=0,Fe=M.length;Ie<Fe;Ie++)T.push(en(M[Ie]));for(let Ie=0,Fe=ve.length;Ie<Fe;Ie++){const Xe=Mt(ve[Ie]);Xe!==null&&T.push(Xe.clone())}for(let Ie=0,Fe=me.length;Ie<Fe;Ie++){const Xe=me[Ie],_t=ee(Xe.id),Ke=yn(_t.id),hn=dr(Ke,Xe.materials),Zt=Xe.skeletons,Ut=_t.skin.joints,dt=Qo(Zt,Ut);for(let Jt=0,pn=hn.length;Jt<pn;Jt++){const In=hn[Jt];In.isSkinnedMesh&&(In.bind(dt,_t.skin.bindMatrix),In.normalizeSkinWeights()),T.push(In)}}for(let Ie=0,Fe=Ye.length;Ie<Fe;Ie++){const Xe=ft(Ye[Ie]);Xe!==null&&T.push(Xe.clone())}for(let Ie=0,Fe=Ne.length;Ie<Fe;Ie++){const Xe=Ne[Ie],_t=yn(Xe.id),Ke=dr(_t,Xe.materials);for(let hn=0,Zt=Ke.length;hn<Zt;hn++)T.push(Ke[hn])}for(let Ie=0,Fe=ze.length;Ie<Fe;Ie++)T.push(en(ze[Ie]).clone());let ut;if(M.length===0&&T.length===1)ut=T[0];else{ut=N==="JOINT"?new P2:new Bm;for(let Ie=0;Ie<T.length;Ie++)ut.add(T[Ie])}return ut.name=N==="JOINT"?C.sid:C.name,ut.matrix.copy(U),ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ut}const so=new qh({name:Kh.DEFAULT_MATERIAL_NAME,color:16711935});function $r(C,T){const U=[];for(let M=0,N=C.length;M<N;M++){const ve=T[C[M]];ve===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",C[M]),U.push(so)):U.push(nt(ve))}return U}function dr(C,T){const U=[];for(const M in C){const N=C[M],ve=$r(N.materialKeys,T);if(ve.length===0&&(M==="lines"||M==="linestrips"?ve.push(new jm):ve.push(new Ju)),M==="lines"||M==="linestrips")for(let ze=0,ut=ve.length;ze<ut;ze++){const Ie=ve[ze];if(Ie.isMeshPhongMaterial===!0||Ie.isMeshLambertMaterial===!0){const Fe=new jm;Fe.color.copy(Ie.color),Fe.opacity=Ie.opacity,Fe.transparent=Ie.transparent,ve[ze]=Fe}}const me=N.data.attributes.skinIndex!==void 0,Ye=ve.length===1?ve[0]:ve;let Ne;switch(M){case"lines":Ne=new M2(N.data,Ye);break;case"linestrips":Ne=new I2(N.data,Ye);break;case"triangles":case"polylist":me?Ne=new L2(N.data,Ye):Ne=new Vo(N.data,Ye);break}U.push(Ne)}return U}function sn(C){return vt.nodes[C]!==void 0}function en(C){return P(vt.nodes[C],ao)}function Mr(C){const T={name:C.getAttribute("name"),children:[]};bo(C);const U=u(C,"node");for(let M=0;M<U.length;M++)T.children.push(it(U[M]));vt.visualScenes[C.getAttribute("id")]=T}function Cn(C){const T=new Bm;T.name=C.name;const U=C.children;for(let M=0;M<U.length;M++){const N=U[M];T.add(en(N.id))}return T}function Nn(C){return vt.visualScenes[C]!==void 0}function Vr(C){return P(vt.visualScenes[C],Cn)}function hr(C){const T=u(C,"instance_visual_scene")[0];return Vr(h(T.getAttribute("url")))}function Wn(){const C=vt.clips;if(m(C)===!0){if(m(vt.animations)===!1){const T=[];for(const U in vt.animations){const M=D(U);for(let N=0,ve=M.length;N<ve;N++)T.push(M[N])}mr.push(new Fm("default",-1,T))}}else for(const T in C)mr.push(X(T))}function Yr(C){let T="";const U=[C];for(;U.length;){const M=U.shift();M.nodeType===Node.TEXT_NODE?T+=M.textContent:(T+=`
`,U.push.apply(U,M.childNodes))}return T.trim()}if(t.length===0)return{scene:new Yh};const di=new DOMParser().parseFromString(t,"application/xml"),_n=u(di,"COLLADA")[0],hi=di.getElementsByTagName("parsererror")[0];if(hi!==void 0){const C=u(hi,"div")[0];let T;return C?T=C.textContent:T=Yr(hi),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,T),null}const pr=_n.getAttribute("version");console.debug("THREE.ColladaLoader: File version",pr);const ar=g(u(_n,"asset")[0]),Ei=new P0(this.manager);Ei.setPath(this.resourcePath||s).setCrossOrigin(this.crossOrigin);let Ti;Ti=new nE(this.manager),Ti.setPath(this.resourcePath||s);const Hi=new _a,mr=[];let Xr={},gr=0;const vt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};S(_n,"library_animations","animation",R),S(_n,"library_animation_clips","animation_clip",se),S(_n,"library_controllers","controller",K),S(_n,"library_images","image",le),S(_n,"library_effects","effect",Oe),S(_n,"library_materials","material",Be),S(_n,"library_cameras","camera",gt),S(_n,"library_lights","light",ct),S(_n,"library_geometries","geometry",Ze),S(_n,"library_nodes","node",it),S(_n,"library_visual_scenes","visual_scene",Mr),S(_n,"library_kinematics_models","kinematics_model",wn),S(_n,"library_physics_models","physics_model",bi),S(_n,"scene","instance_kinematics_scene",ba),E(vt.animations,L),E(vt.clips,Ee),E(vt.controllers,te),E(vt.images,fe),E(vt.effects,Ge),E(vt.materials,tt),E(vt.cameras,It),E(vt.lights,rt),E(vt.geometries,Xt),E(vt.visualScenes,Cn),Wn(),as();const Vi=hr(u(_n,"scene")[0]);return Vi.animations=mr,ar.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Vi.rotation.set(-Math.PI/2,0,0)),Vi.scale.multiplyScalar(ar.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),mr},kinematics:Xr,library:vt,scene:Vi}}}const zg=new Nt,iE=new L0,Cf=new ji,$a=new ji,kf=new Zu,Af=new Nt(1,1,1),Rf=new Nt;class ad extends U2{constructor(...t){super(...t),this.urdfNode=null,this.urdfName=""}copy(t,s){return super.copy(t,s),this.urdfNode=t.urdfNode,this.urdfName=t.urdfName,this}}class oE extends ad{constructor(...t){super(...t),this.isURDFCollider=!0,this.type="URDFCollider"}}class aE extends ad{constructor(...t){super(...t),this.isURDFVisual=!0,this.type="URDFVisual"}}class uv extends ad{constructor(...t){super(...t),this.isURDFLink=!0,this.type="URDFLink"}}class cv extends ad{get jointType(){return this._jointType}set jointType(t){if(this.jointType!==t)switch(this._jointType=t,this.matrixWorldNeedsUpdate=!0,t){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(3).fill(0),this.axis=new Nt(0,0,1);break;case"floating":this.jointValue=new Array(6).fill(0);break}}get angle(){return this.jointValue[0]}constructor(...t){super(...t),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=new Nt(1,0,0),this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(t,s){return super.copy(t,s),this.jointType=t.jointType,this.axis=t.axis.clone(),this.limit.lower=t.limit.lower,this.limit.upper=t.limit.upper,this.ignoreLimits=!1,this.jointValue=[...t.jointValue],this.origPosition=t.origPosition?t.origPosition.clone():null,this.origQuaternion=t.origQuaternion?t.origQuaternion.clone():null,this.mimicJoints=[...t.mimicJoints],this}setJointValue(...t){t=t.map(u=>u===null?null:parseFloat(u)),(!this.origPosition||!this.origQuaternion)&&(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let s=!1;switch(this.mimicJoints.forEach(u=>{s=u.updateFromMimickedJoint(...t)||s}),this.jointType){case"fixed":return s;case"continuous":case"revolute":{let u=t[0];return u==null||u===this.jointValue[0]?s:(!this.ignoreLimits&&this.jointType==="revolute"&&(u=Math.min(this.limit.upper,u),u=Math.max(this.limit.lower,u)),this.quaternion.setFromAxisAngle(this.axis,u).premultiply(this.origQuaternion),this.jointValue[0]!==u?(this.jointValue[0]=u,this.matrixWorldNeedsUpdate=!0,!0):s)}case"prismatic":{let u=t[0];return u==null||u===this.jointValue[0]?s:(this.ignoreLimits||(u=Math.min(this.limit.upper,u),u=Math.max(this.limit.lower,u)),this.position.copy(this.origPosition),zg.copy(this.axis).applyEuler(this.rotation),this.position.addScaledVector(zg,u),this.jointValue[0]!==u?(this.jointValue[0]=u,this.matrixWorldNeedsUpdate=!0,!0):s)}case"floating":return this.jointValue.every((u,a)=>t[a]===u||t[a]===null)?s:(this.jointValue[0]=t[0]!==null?t[0]:this.jointValue[0],this.jointValue[1]=t[1]!==null?t[1]:this.jointValue[1],this.jointValue[2]=t[2]!==null?t[2]:this.jointValue[2],this.jointValue[3]=t[3]!==null?t[3]:this.jointValue[3],this.jointValue[4]=t[4]!==null?t[4]:this.jointValue[4],this.jointValue[5]=t[5]!==null?t[5]:this.jointValue[5],$a.compose(this.origPosition,this.origQuaternion,Af),kf.setFromEuler(iE.set(this.jointValue[3],this.jointValue[4],this.jointValue[5],"XYZ")),Rf.set(this.jointValue[0],this.jointValue[1],this.jointValue[2]),Cf.compose(Rf,kf,Af),$a.premultiply(Cf),this.position.setFromMatrixPosition($a),this.rotation.setFromRotationMatrix($a),this.matrixWorldNeedsUpdate=!0,!0);case"planar":return this.jointValue.every((u,a)=>t[a]===u||t[a]===null)?s:(this.jointValue[0]=t[0]!==null?t[0]:this.jointValue[0],this.jointValue[1]=t[1]!==null?t[1]:this.jointValue[1],this.jointValue[2]=t[2]!==null?t[2]:this.jointValue[2],$a.compose(this.origPosition,this.origQuaternion,Af),kf.setFromAxisAngle(this.axis,this.jointValue[2]),Rf.set(this.jointValue[0],this.jointValue[1],0),Cf.compose(Rf,kf,Af),$a.premultiply(Cf),this.position.setFromMatrixPosition($a),this.rotation.setFromRotationMatrix($a),this.matrixWorldNeedsUpdate=!0,!0)}return s}}class Bg extends cv{constructor(...t){super(...t),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...t){const s=t.map(u=>u*this.multiplier+this.offset);return super.setJointValue(...s)}copy(t,s){return super.copy(t,s),this.mimicJoint=t.mimicJoint,this.offset=t.offset,this.multiplier=t.multiplier,this}}class sE extends uv{constructor(...t){super(...t),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(t,s){super.copy(t,s),this.urdfRobotNode=t.urdfRobotNode,this.robotName=t.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse(u=>{u.isURDFJoint&&u.urdfName in t.joints&&(this.joints[u.urdfName]=u),u.isURDFLink&&u.urdfName in t.links&&(this.links[u.urdfName]=u),u.isURDFCollider&&u.urdfName in t.colliders&&(this.colliders[u.urdfName]=u),u.isURDFVisual&&u.urdfName in t.visual&&(this.visual[u.urdfName]=u)});for(const u in this.joints)this.joints[u].mimicJoints=this.joints[u].mimicJoints.map(a=>this.joints[a.name]);return this.frames={...this.colliders,...this.visual,...this.links,...this.joints},this}getFrame(t){return this.frames[t]}setJointValue(t,...s){const u=this.joints[t];return u?u.setJointValue(...s):!1}setJointValues(t){let s=!1;for(const u in t){const a=t[u];Array.isArray(a)?s=this.setJointValue(u,...a)||s:s=this.setJointValue(u,a)||s}return s}}const Ch=new Zu,jg=new L0;function Ll(e){return e?e.trim().split(/\s+/g).map(t=>parseFloat(t)):[0,0,0]}function Gg(e,t,s=!1){s||e.rotation.set(0,0,0),jg.set(t[0],t[1],t[2],"ZYX"),Ch.setFromEuler(jg),Ch.multiply(e.quaternion),e.quaternion.copy(Ch)}class lE{constructor(t){this.manager=t||N2,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(t){return new Promise((s,u)=>{this.load(t,s,null,u)})}load(t,s,u,a){const o=this.manager,c=R0.extractUrlBase(t),h=this.manager.resolveURL(t);o.itemStart(h),fetch(h,this.fetchOptions).then(d=>{if(d.ok)return u&&u(null),d.text();throw new Error(`URDFLoader: Failed to load url '${h}' with error code ${d.status} : ${d.statusText}.`)}).then(d=>{this.workingPath===""&&(this.workingPath=c);const m=this.parse(d);s(m),o.itemEnd(h)}).catch(d=>{a?a(d):console.error("URDFLoader: Error loading file.",d),o.itemError(h),o.itemEnd(h)})}parse(t){const s=this.packages,u=this.loadMeshCb,a=this.parseVisual,o=this.parseCollision,c=this.workingPath,h=this.manager,d={},m={},g={};function y(I){if(!/^package:\/\//.test(I))return c?c+I:I;const[L,D]=I.replace(/^package:\/\//,"").split(/\/(.+)/);if(typeof s=="string")return s.endsWith(L)?s+"/"+D:s+"/"+L+"/"+D;if(s instanceof Function)return s(L)+"/"+D;if(typeof s=="object")return L in s?s[L]+"/"+D:(console.error(`URDFLoader : ${L} not found in provided package list.`),null)}function w(I){let L;I instanceof Document?L=[...I.children]:I instanceof Element?L=[I]:L=[...new DOMParser().parseFromString(I,"text/xml").children];const D=L.filter(F=>F.nodeName==="robot").pop();return S(D)}function S(I){const L=[...I.children],D=L.filter(ie=>ie.nodeName.toLowerCase()==="link"),F=L.filter(ie=>ie.nodeName.toLowerCase()==="joint"),G=L.filter(ie=>ie.nodeName.toLowerCase()==="material"),j=new sE;j.robotName=I.getAttribute("name"),j.urdfRobotNode=I,G.forEach(ie=>{const Y=ie.getAttribute("name");g[Y]=R(ie)});const W={},q={};D.forEach(ie=>{const Y=ie.getAttribute("name"),ce=I.querySelector(`child[link="${Y}"]`)===null;d[Y]=P(ie,W,q,ce?j:null)}),F.forEach(ie=>{const Y=ie.getAttribute("name");m[Y]=E(ie)}),j.joints=m,j.links=d,j.colliders=q,j.visual=W;const J=Object.values(m);return J.forEach(ie=>{ie instanceof Bg&&m[ie.mimicJoint].mimicJoints.push(ie)}),J.forEach(ie=>{const Y=new Set,ce=pe=>{if(Y.has(pe))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");Y.add(pe),pe.mimicJoints.forEach(xe=>{ce(xe)})};ce(ie)}),j.frames={...q,...W,...d,...m},j}function E(I){const L=[...I.children],D=I.getAttribute("type");let F;const G=L.find(Y=>Y.nodeName.toLowerCase()==="mimic");G?(F=new Bg,F.mimicJoint=G.getAttribute("joint"),F.multiplier=parseFloat(G.getAttribute("multiplier")||1),F.offset=parseFloat(G.getAttribute("offset")||0)):F=new cv,F.urdfNode=I,F.name=I.getAttribute("name"),F.urdfName=F.name,F.jointType=D;let j=null,W=null,q=[0,0,0],J=[0,0,0];L.forEach(Y=>{const ce=Y.nodeName.toLowerCase();ce==="origin"?(q=Ll(Y.getAttribute("xyz")),J=Ll(Y.getAttribute("rpy"))):ce==="child"?W=d[Y.getAttribute("link")]:ce==="parent"?j=d[Y.getAttribute("link")]:ce==="limit"&&(F.limit.lower=parseFloat(Y.getAttribute("lower")||F.limit.lower),F.limit.upper=parseFloat(Y.getAttribute("upper")||F.limit.upper))}),j.add(F),F.add(W),Gg(F,J),F.position.set(q[0],q[1],q[2]);const ie=L.filter(Y=>Y.nodeName.toLowerCase()==="axis")[0];if(ie){const Y=ie.getAttribute("xyz").split(/\s+/g).map(ce=>parseFloat(ce));F.axis=new Nt(Y[0],Y[1],Y[2]),F.axis.normalize()}return F}function P(I,L,D,F=null){F===null&&(F=new uv);const G=[...I.children];return F.name=I.getAttribute("name"),F.urdfName=F.name,F.urdfNode=I,a&&G.filter(W=>W.nodeName.toLowerCase()==="visual").forEach(W=>{const q=A(W,g);if(F.add(q),W.hasAttribute("name")){const J=W.getAttribute("name");q.name=J,q.urdfName=J,L[J]=q}}),o&&G.filter(W=>W.nodeName.toLowerCase()==="collision").forEach(W=>{const q=A(W);if(F.add(q),W.hasAttribute("name")){const J=W.getAttribute("name");q.name=J,q.urdfName=J,D[J]=q}}),F}function R(I){const L=[...I.children],D=new Ju;return D.name=I.getAttribute("name")||"",L.forEach(F=>{const G=F.nodeName.toLowerCase();if(G==="color"){const j=F.getAttribute("rgba").split(/\s/g).map(W=>parseFloat(W));D.color.setRGB(j[0],j[1],j[2]),D.opacity=j[3],D.transparent=j[3]<1,D.depthWrite=!D.transparent}else if(G==="texture"){const j=F.getAttribute("filename");if(j){const W=new P0(h),q=y(j);D.map=W.load(q),D.map.colorSpace=Wo}}}),D}function A(I,L={}){const D=I.nodeName.toLowerCase()==="collision",F=[...I.children];let G=null;const j=F.filter(q=>q.nodeName.toLowerCase()==="material")[0];if(j){const q=j.getAttribute("name");q&&q in L?G=L[q]:G=R(j)}else G=new Ju;const W=D?new oE:new aE;return W.urdfNode=I,F.forEach(q=>{const J=q.nodeName.toLowerCase();if(J==="geometry"){const ie=q.children[0].nodeName.toLowerCase();if(ie==="mesh"){const Y=q.children[0].getAttribute("filename"),ce=y(Y);if(ce!==null){const pe=q.children[0].getAttribute("scale");if(pe){const xe=Ll(pe);W.scale.set(xe[0],xe[1],xe[2])}u(ce,h,(xe,se)=>{se?console.error("URDFLoader: Error loading mesh.",se):xe&&(xe instanceof Vo&&(xe.material=G),xe.position.set(0,0,0),xe.quaternion.identity(),W.add(xe))})}}else if(ie==="box"){const Y=new Vo;Y.geometry=new D2(1,1,1),Y.material=G;const ce=Ll(q.children[0].getAttribute("size"));Y.scale.set(ce[0],ce[1],ce[2]),W.add(Y)}else if(ie==="sphere"){const Y=new Vo;Y.geometry=new F2(1,30,30),Y.material=G;const ce=parseFloat(q.children[0].getAttribute("radius"))||0;Y.scale.set(ce,ce,ce),W.add(Y)}else if(ie==="cylinder"){const Y=new Vo;Y.geometry=new z2(1,1,1,30),Y.material=G;const ce=parseFloat(q.children[0].getAttribute("radius"))||0,pe=parseFloat(q.children[0].getAttribute("length"))||0;Y.scale.set(ce,pe,ce),Y.rotation.set(Math.PI/2,0,0),W.add(Y)}}else if(J==="origin"){const ie=Ll(q.getAttribute("xyz")),Y=Ll(q.getAttribute("rpy"));W.position.set(ie[0],ie[1],ie[2]),W.rotation.set(0,0,0),Gg(W,Y)}}),W}return w(t)}defaultMeshLoader(t,s,u){/\.stl$/i.test(t)?new tE(s).load(t,o=>{const c=new Vo(o,new Ju);u(c)}):/\.dae$/i.test(t)?new rE(s).load(t,o=>u(o.scene)):console.warn(`URDFLoader: Could not load model at ${t}.
No loader available`)}}var Hu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var uE=Hu.exports,Wg;function cE(){return Wg||(Wg=1,function(e,t){(function(){var s,u="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,g="__lodash_placeholder__",y=1,w=2,S=4,E=1,P=2,R=1,A=2,I=4,L=8,D=16,F=32,G=64,j=128,W=256,q=512,J=30,ie="...",Y=800,ce=16,pe=1,xe=2,se=3,Ee=1/0,X=9007199254740991,K=17976931348623157e292,H=NaN,B=4294967295,Q=B-1,te=B>>>1,oe=[["ary",j],["bind",R],["bindKey",A],["curry",L],["curryRight",D],["flip",q],["partial",F],["partialRight",G],["rearg",W]],ee="[object Arguments]",le="[object Array]",fe="[object AsyncFunction]",_e="[object Boolean]",Oe="[object Date]",je="[object DOMException]",Le="[object Error]",Ce="[object Function]",ht="[object GeneratorFunction]",ot="[object Map]",Ve="[object Number]",st="[object Null]",et="[object Object]",Ue="[object Promise]",lt="[object Proxy]",He="[object RegExp]",Te="[object Set]",xt="[object String]",Ge="[object Symbol]",Qe="[object Undefined]",Be="[object WeakMap]",$t="[object WeakSet]",tt="[object ArrayBuffer]",nt="[object DataView]",gt="[object Float32Array]",Ct="[object Float64Array]",tn="[object Int8Array]",fn="[object Int16Array]",It="[object Int32Array]",Mt="[object Uint8Array]",ct="[object Uint8ClampedArray]",ae="[object Uint16Array]",Re="[object Uint32Array]",rt=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,Pn=/[&<>"']/g,an=RegExp(Ot.source),zt=RegExp(Pn.source),nn=/<%-([\s\S]+?)%>/g,Xt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yn=/^\w*$/,wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xn=/[\\^$.*+?()[\]{}|]/g,Pr=RegExp(xn.source),Lr=/^\s+/,Ir=/\s/,ci=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fr=/\{\n\/\* \[wrapped with (.+)\] \*/,Qr=/,? & /,Gn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bi=/[()=,{}\[\]\/\s]/,Sa=/\\(\\)?/g,qo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ba=/\w*$/,Ea=/^[-+]0x[0-9a-f]+$/i,oo=/^0b[01]+$/i,Ko=/^\[object .+?Constructor\]$/,as=/^0o[0-7]+$/i,Ta=/^(?:0|[1-9]\d*)$/,bo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ln=/($^)/,fi=/['\n\r\u2028\u2029\\]/g,it="\\ud800-\\udfff",Hr="\\u0300-\\u036f",Qo="\\ufe20-\\ufe2f",Zr="\\u20d0-\\u20ff",ao=Hr+Qo+Zr,so="\\u2700-\\u27bf",$r="a-z\\xdf-\\xf6\\xf8-\\xff",dr="\\xac\\xb1\\xd7\\xf7",sn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",en="\\u2000-\\u206f",Mr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cn="A-Z\\xc0-\\xd6\\xd8-\\xde",Nn="\\ufe0e\\ufe0f",Vr=dr+sn+en+Mr,hr="[']",Wn="["+it+"]",Yr="["+Vr+"]",di="["+ao+"]",_n="\\d+",hi="["+so+"]",pr="["+$r+"]",ar="[^"+it+Vr+_n+so+$r+Cn+"]",Ei="\\ud83c[\\udffb-\\udfff]",Ti="(?:"+di+"|"+Ei+")",Hi="[^"+it+"]",mr="(?:\\ud83c[\\udde6-\\uddff]){2}",Xr="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+Cn+"]",vt="\\u200d",Vi="(?:"+pr+"|"+ar+")",C="(?:"+gr+"|"+ar+")",T="(?:"+hr+"(?:d|ll|m|re|s|t|ve))?",U="(?:"+hr+"(?:D|LL|M|RE|S|T|VE))?",M=Ti+"?",N="["+Nn+"]?",ve="(?:"+vt+"(?:"+[Hi,mr,Xr].join("|")+")"+N+M+")*",me="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ye="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ne=N+M+ve,ze="(?:"+[hi,mr,Xr].join("|")+")"+Ne,ut="(?:"+[Hi+di+"?",di,mr,Xr,Wn].join("|")+")",Ie=RegExp(hr,"g"),Fe=RegExp(di,"g"),Xe=RegExp(Ei+"(?="+Ei+")|"+ut+Ne,"g"),_t=RegExp([gr+"?"+pr+"+"+T+"(?="+[Yr,gr,"$"].join("|")+")",C+"+"+U+"(?="+[Yr,gr+Vi,"$"].join("|")+")",gr+"?"+Vi+"+"+T,gr+"+"+U,Ye,me,_n,ze].join("|"),"g"),Ke=RegExp("["+vt+it+ao+Nn+"]"),hn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ut=-1,dt={};dt[gt]=dt[Ct]=dt[tn]=dt[fn]=dt[It]=dt[Mt]=dt[ct]=dt[ae]=dt[Re]=!0,dt[ee]=dt[le]=dt[tt]=dt[_e]=dt[nt]=dt[Oe]=dt[Le]=dt[Ce]=dt[ot]=dt[Ve]=dt[et]=dt[He]=dt[Te]=dt[xt]=dt[Be]=!1;var Jt={};Jt[ee]=Jt[le]=Jt[tt]=Jt[nt]=Jt[_e]=Jt[Oe]=Jt[gt]=Jt[Ct]=Jt[tn]=Jt[fn]=Jt[It]=Jt[ot]=Jt[Ve]=Jt[et]=Jt[He]=Jt[Te]=Jt[xt]=Jt[Ge]=Jt[Mt]=Jt[ct]=Jt[ae]=Jt[Re]=!0,Jt[Le]=Jt[Ce]=Jt[Be]=!1;var pn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},In={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Or={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ss=parseFloat,ls=parseInt,Ur=typeof hf=="object"&&hf&&hf.Object===Object&&hf,Zo=typeof self=="object"&&self&&self.Object===Object&&self,kn=Ur||Zo||Function("return this")(),lo=t&&!t.nodeType&&t,Dn=lo&&!0&&e&&!e.nodeType&&e,Jn=Dn&&Dn.exports===lo,Eo=Jn&&Ur.process,Mn=function(){try{var re=Dn&&Dn.require&&Dn.require("util").types;return re||Eo&&Eo.binding&&Eo.binding("util")}catch{}}(),uo=Mn&&Mn.isArrayBuffer,$o=Mn&&Mn.isDate,us=Mn&&Mn.isMap,qn=Mn&&Mn.isRegExp,vr=Mn&&Mn.isSet,On=Mn&&Mn.isTypedArray;function ln(re,be,ye){switch(ye.length){case 0:return re.call(be);case 1:return re.call(be,ye[0]);case 2:return re.call(be,ye[0],ye[1]);case 3:return re.call(be,ye[0],ye[1],ye[2])}return re.apply(be,ye)}function ei(re,be,ye,$e){for(var Lt=-1,Gt=re==null?0:re.length;++Lt<Gt;){var Tn=re[Lt];be($e,Tn,ye(Tn),re)}return $e}function Kn(re,be){for(var ye=-1,$e=re==null?0:re.length;++ye<$e&&be(re[ye],ye,re)!==!1;);return re}function Zl(re,be){for(var ye=re==null?0:re.length;ye--&&be(re[ye],ye,re)!==!1;);return re}function $l(re,be){for(var ye=-1,$e=re==null?0:re.length;++ye<$e;)if(!be(re[ye],ye,re))return!1;return!0}function yr(re,be){for(var ye=-1,$e=re==null?0:re.length,Lt=0,Gt=[];++ye<$e;){var Tn=re[ye];be(Tn,ye,re)&&(Gt[Lt++]=Tn)}return Gt}function Ci(re,be){var ye=re==null?0:re.length;return!!ye&&Ai(re,be,0)>-1}function Ca(re,be,ye){for(var $e=-1,Lt=re==null?0:re.length;++$e<Lt;)if(ye(be,re[$e]))return!0;return!1}function Sn(re,be){for(var ye=-1,$e=re==null?0:re.length,Lt=Array($e);++ye<$e;)Lt[ye]=be(re[ye],ye,re);return Lt}function ki(re,be){for(var ye=-1,$e=be.length,Lt=re.length;++ye<$e;)re[Lt+ye]=be[ye];return re}function Zs(re,be,ye,$e){var Lt=-1,Gt=re==null?0:re.length;for($e&&Gt&&(ye=re[++Lt]);++Lt<Gt;)ye=be(ye,re[Lt],Lt,re);return ye}function fc(re,be,ye,$e){var Lt=re==null?0:re.length;for($e&&Lt&&(ye=re[--Lt]);Lt--;)ye=be(ye,re[Lt],Lt,re);return ye}function cs(re,be){for(var ye=-1,$e=re==null?0:re.length;++ye<$e;)if(be(re[ye],ye,re))return!0;return!1}var $s=Jr("length");function dc(re){return re.split("")}function hc(re){return re.match(Gn)||[]}function eu(re,be,ye){var $e;return ye(re,function(Lt,Gt,Tn){if(be(Lt,Gt,Tn))return $e=Gt,!1}),$e}function ka(re,be,ye,$e){for(var Lt=re.length,Gt=ye+($e?1:-1);$e?Gt--:++Gt<Lt;)if(be(re[Gt],Gt,re))return Gt;return-1}function Ai(re,be,ye){return be===be?Ia(re,be,ye):ka(re,fs,ye)}function Aa(re,be,ye,$e){for(var Lt=ye-1,Gt=re.length;++Lt<Gt;)if($e(re[Lt],be))return Lt;return-1}function fs(re){return re!==re}function ds(re,be){var ye=re==null?0:re.length;return ye?Ri(re,be)/ye:H}function Jr(re){return function(be){return be==null?s:be[re]}}function qr(re){return function(be){return re==null?s:re[be]}}function To(re,be,ye,$e,Lt){return Lt(re,function(Gt,Tn,At){ye=$e?($e=!1,Gt):be(ye,Gt,Tn,At)}),ye}function co(re,be){var ye=re.length;for(re.sort(be);ye--;)re[ye]=re[ye].value;return re}function Ri(re,be){for(var ye,$e=-1,Lt=re.length;++$e<Lt;){var Gt=be(re[$e]);Gt!==s&&(ye=ye===s?Gt:ye+Gt)}return ye}function fo(re,be){for(var ye=-1,$e=Array(re);++ye<re;)$e[ye]=be(ye);return $e}function pc(re,be){return Sn(be,function(ye){return[ye,re[ye]]})}function el(re){return re&&re.slice(0,Ma(re)+1).replace(Lr,"")}function Nr(re){return function(be){return re(be)}}function Dr(re,be){return Sn(be,function(ye){return re[ye]})}function sr(re,be){return re.has(be)}function bn(re,be){for(var ye=-1,$e=re.length;++ye<$e&&Ai(be,re[ye],0)>-1;);return ye}function Ra(re,be){for(var ye=re.length;ye--&&Ai(be,re[ye],0)>-1;);return ye}function Pi(re,be){for(var ye=re.length,$e=0;ye--;)re[ye]===be&&++$e;return $e}var mc=qr(pn),gc=qr(In);function tu(re){return"\\"+Or[re]}function nu(re,be){return re==null?s:re[be]}function ea(re){return Ke.test(re)}function hs(re){return hn.test(re)}function Pa(re){for(var be,ye=[];!(be=re.next()).done;)ye.push(be.value);return ye}function ps(re){var be=-1,ye=Array(re.size);return re.forEach(function($e,Lt){ye[++be]=[Lt,$e]}),ye}function La(re,be){return function(ye){return re(be(ye))}}function Li(re,be){for(var ye=-1,$e=re.length,Lt=0,Gt=[];++ye<$e;){var Tn=re[ye];(Tn===be||Tn===g)&&(re[ye]=g,Gt[Lt++]=ye)}return Gt}function ms(re){var be=-1,ye=Array(re.size);return re.forEach(function($e){ye[++be]=$e}),ye}function vc(re){var be=-1,ye=Array(re.size);return re.forEach(function($e){ye[++be]=[$e,$e]}),ye}function Ia(re,be,ye){for(var $e=ye-1,Lt=re.length;++$e<Lt;)if(re[$e]===be)return $e;return-1}function yc(re,be,ye){for(var $e=ye+1;$e--;)if(re[$e]===be)return $e;return $e}function Yi(re){return ea(re)?Xi(re):$s(re)}function Un(re){return ea(re)?ru(re):dc(re)}function Ma(re){for(var be=re.length;be--&&Ir.test(re.charAt(be)););return be}var Oa=qr(pi);function Xi(re){for(var be=Xe.lastIndex=0;Xe.test(re);)++be;return be}function ru(re){return re.match(Xe)||[]}function Ua(re){return re.match(_t)||[]}var _c=function re(be){be=be==null?kn:Co.defaults(kn.Object(),be,Co.pick(kn,Zt));var ye=be.Array,$e=be.Date,Lt=be.Error,Gt=be.Function,Tn=be.Math,At=be.Object,nr=be.RegExp,rr=be.String,Fr=be.TypeError,ko=ye.prototype,gs=Gt.prototype,Na=At.prototype,Qn=be["__core-js_shared__"],Da=gs.toString,dn=Na.hasOwnProperty,iu=0,Ji=function(){var n=/[^.]+$/.exec(Qn&&Qn.keys&&Qn.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ti=Na.toString,ta=Da.call(At),tl=kn._,nl=nr("^"+Da.call(dn).replace(xn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vs=Jn?be.Buffer:s,ho=be.Symbol,ys=be.Uint8Array,ou=vs?vs.allocUnsafe:s,_s=La(At.getPrototypeOf,At),au=At.create,rl=Na.propertyIsEnumerable,Ao=ko.splice,su=ho?ho.isConcatSpreadable:s,Ro=ho?ho.iterator:s,qi=ho?ho.toStringTag:s,Fa=function(){try{var n=Fs(At,"defineProperty");return n({},"",{}),n}catch{}}(),ws=be.clearTimeout!==kn.clearTimeout&&be.clearTimeout,wc=$e&&$e.now!==kn.Date.now&&$e.now,xc=be.setTimeout!==kn.setTimeout&&be.setTimeout,xs=Tn.ceil,Ss=Tn.floor,bs=At.getOwnPropertySymbols,Sc=vs?vs.isBuffer:s,lu=be.isFinite,xd=ko.join,bc=La(At.keys,At),Zn=Tn.max,_r=Tn.min,Ec=$e.now,Tc=be.parseInt,uu=Tn.random,Cc=ko.reverse,za=Fs(be,"DataView"),Es=Fs(be,"Map"),cu=Fs(be,"Promise"),Ba=Fs(be,"Set"),na=Fs(be,"WeakMap"),ra=Fs(At,"create"),il=na&&new na,ia={},kc=zs(za),Ac=zs(Es),Rc=zs(cu),Pc=zs(Ba),Ki=zs(na),Ts=ho?ho.prototype:s,po=Ts?Ts.valueOf:s,ja=Ts?Ts.toString:s;function O(n){if(Xn(n)&&!Wt(n)&&!(n instanceof Et)){if(n instanceof wr)return n;if(dn.call(n,"__wrapped__"))return em(n)}return new wr(n)}var mo=function(){function n(){}return function(l){if(!jn(l))return{};if(au)return au(l);n.prototype=l;var p=new n;return n.prototype=s,p}}();function Cs(){}function wr(n,l){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=s}O.templateSettings={escape:nn,evaluate:Xt,interpolate:St,variable:"",imports:{_:O}},O.prototype=Cs.prototype,O.prototype.constructor=O,wr.prototype=mo(Cs.prototype),wr.prototype.constructor=wr;function Et(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Sd(){var n=new Et(this.__wrapped__);return n.__actions__=Tr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tr(this.__views__),n}function bd(){if(this.__filtered__){var n=new Et(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ni(){var n=this.__wrapped__.value(),l=this.__dir__,p=Wt(n),x=l<0,k=p?n.length:0,z=b1(0,k,this.__views__),Z=z.start,ne=z.end,he=ne-Z,ke=x?ne:Z-1,Ae=this.__iteratees__,Me=Ae.length,Je=0,yt=_r(he,this.__takeCount__);if(!p||!x&&k==he&&yt==he)return Uo(n,this.__actions__);var Rt=[];e:for(;he--&&Je<yt;){ke+=l;for(var Kt=-1,Pt=n[ke];++Kt<Me;){var rn=Ae[Kt],un=rn.iteratee,Fi=rn.type,ui=un(Pt);if(Fi==xe)Pt=ui;else if(!ui){if(Fi==pe)continue e;break e}}Rt[Je++]=Pt}return Rt}Et.prototype=mo(Cs.prototype),Et.prototype.constructor=Et;function Fn(n){var l=-1,p=n==null?0:n.length;for(this.clear();++l<p;){var x=n[l];this.set(x[0],x[1])}}function Lc(){this.__data__=ra?ra(null):{},this.size=0}function Ic(n){var l=this.has(n)&&delete this.__data__[n];return this.size-=l?1:0,l}function Mc(n){var l=this.__data__;if(ra){var p=l[n];return p===d?s:p}return dn.call(l,n)?l[n]:s}function Oc(n){var l=this.__data__;return ra?l[n]!==s:dn.call(l,n)}function Uc(n,l){var p=this.__data__;return this.size+=this.has(n)?0:1,p[n]=ra&&l===s?d:l,this}Fn.prototype.clear=Lc,Fn.prototype.delete=Ic,Fn.prototype.get=Mc,Fn.prototype.has=Oc,Fn.prototype.set=Uc;function Ii(n){var l=-1,p=n==null?0:n.length;for(this.clear();++l<p;){var x=n[l];this.set(x[0],x[1])}}function Nc(){this.__data__=[],this.size=0}function fu(n){var l=this.__data__,p=Lo(l,n);if(p<0)return!1;var x=l.length-1;return p==x?l.pop():Ao.call(l,p,1),--this.size,!0}function Dc(n){var l=this.__data__,p=Lo(l,n);return p<0?s:l[p][1]}function Fc(n){return Lo(this.__data__,n)>-1}function ol(n,l){var p=this.__data__,x=Lo(p,n);return x<0?(++this.size,p.push([n,l])):p[x][1]=l,this}Ii.prototype.clear=Nc,Ii.prototype.delete=fu,Ii.prototype.get=Dc,Ii.prototype.has=Fc,Ii.prototype.set=ol;function mi(n){var l=-1,p=n==null?0:n.length;for(this.clear();++l<p;){var x=n[l];this.set(x[0],x[1])}}function zc(){this.size=0,this.__data__={hash:new Fn,map:new(Es||Ii),string:new Fn}}function du(n){var l=nf(this,n).delete(n);return this.size-=l?1:0,l}function Bc(n){return nf(this,n).get(n)}function jc(n){return nf(this,n).has(n)}function al(n,l){var p=nf(this,n),x=p.size;return p.set(n,l),this.size+=p.size==x?0:1,this}mi.prototype.clear=zc,mi.prototype.delete=du,mi.prototype.get=Bc,mi.prototype.has=jc,mi.prototype.set=al;function Po(n){var l=-1,p=n==null?0:n.length;for(this.__data__=new mi;++l<p;)this.add(n[l])}function hu(n){return this.__data__.set(n,d),this}function Gc(n){return this.__data__.has(n)}Po.prototype.add=Po.prototype.push=hu,Po.prototype.has=Gc;function $n(n){var l=this.__data__=new Ii(n);this.size=l.size}function Ed(){this.__data__=new Ii,this.size=0}function Td(n){var l=this.__data__,p=l.delete(n);return this.size=l.size,p}function sl(n){return this.__data__.get(n)}function oa(n){return this.__data__.has(n)}function Cd(n,l){var p=this.__data__;if(p instanceof Ii){var x=p.__data__;if(!Es||x.length<a-1)return x.push([n,l]),this.size=++p.size,this;p=this.__data__=new mi(x)}return p.set(n,l),this.size=p.size,this}$n.prototype.clear=Ed,$n.prototype.delete=Td,$n.prototype.get=sl,$n.prototype.has=oa,$n.prototype.set=Cd;function We(n,l){var p=Wt(n),x=!p&&Bs(n),k=!p&&!x&&Qa(n),z=!p&&!x&&!k&&El(n),Z=p||x||k||z,ne=Z?fo(n.length,rr):[],he=ne.length;for(var ke in n)(l||dn.call(n,ke))&&!(Z&&(ke=="length"||k&&(ke=="offset"||ke=="parent")||z&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||fa(ke,he)))&&ne.push(ke);return ne}function ks(n){var l=n.length;return l?n[Zi(0,l-1)]:s}function pu(n,l){return rf(Tr(n),Io(l,0,n.length))}function Wc(n){return rf(Tr(n))}function mu(n,l,p){(p!==s&&!yo(n[l],p)||p===s&&!(l in n))&&Qi(n,l,p)}function Mi(n,l,p){var x=n[l];(!(dn.call(n,l)&&yo(x,p))||p===s&&!(l in n))&&Qi(n,l,p)}function Lo(n,l){for(var p=n.length;p--;)if(yo(n[p][0],l))return p;return-1}function gu(n,l,p,x){return Oi(n,function(k,z,Z){l(x,k,p(k),Z)}),x}function vu(n,l){return n&&yi(l,kr(l),n)}function Hc(n,l){return n&&yi(l,wi(l),n)}function Qi(n,l,p){l=="__proto__"&&Fa?Fa(n,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):n[l]=p}function ll(n,l){for(var p=-1,x=l.length,k=ye(x),z=n==null;++p<x;)k[p]=z?s:Hd(n,l[p]);return k}function Io(n,l,p){return n===n&&(p!==s&&(n=n<=p?n:p),l!==s&&(n=n>=l?n:l)),n}function ri(n,l,p,x,k,z){var Z,ne=l&y,he=l&w,ke=l&S;if(p&&(Z=k?p(n,x,k,z):p(n)),Z!==s)return Z;if(!jn(n))return n;var Ae=Wt(n);if(Ae){if(Z=T1(n),!ne)return Tr(n,Z)}else{var Me=Kr(n),Je=Me==Ce||Me==ht;if(Qa(n))return Lu(n,ne);if(Me==et||Me==ee||Je&&!k){if(Z=he||Je?{}:Vp(n),!ne)return he?ef(n,Hc(Z,n)):Pd(n,vu(Z,n))}else{if(!Jt[Me])return k?n:{};Z=C1(n,Me,ne)}}z||(z=new $n);var yt=z.get(n);if(yt)return yt;z.set(n,Z),wm(n)?n.forEach(function(Pt){Z.add(ri(Pt,l,p,Pt,n,z))}):ym(n)&&n.forEach(function(Pt,rn){Z.set(rn,ri(Pt,l,p,rn,n,z))});var Rt=ke?he?on:Yn:he?wi:kr,Kt=Ae?s:Rt(n);return Kn(Kt||n,function(Pt,rn){Kt&&(rn=Pt,Pt=n[rn]),Mi(Z,rn,ri(Pt,l,p,rn,n,z))}),Z}function yu(n){var l=kr(n);return function(p){return ul(p,n,l)}}function ul(n,l,p){var x=p.length;if(n==null)return!x;for(n=At(n);x--;){var k=p[x],z=l[k],Z=n[k];if(Z===s&&!(k in n)||!z(Z))return!1}return!0}function _u(n,l,p){if(typeof n!="function")throw new Fr(c);return Uu(function(){n.apply(s,p)},l)}function aa(n,l,p,x){var k=-1,z=Ci,Z=!0,ne=n.length,he=[],ke=l.length;if(!ne)return he;p&&(l=Sn(l,Nr(p))),x?(z=Ca,Z=!1):l.length>=a&&(z=sr,Z=!1,l=new Po(l));e:for(;++k<ne;){var Ae=n[k],Me=p==null?Ae:p(Ae);if(Ae=x||Ae!==0?Ae:0,Z&&Me===Me){for(var Je=ke;Je--;)if(l[Je]===Me)continue e;he.push(Ae)}else z(l,Me,x)||he.push(Ae)}return he}var Oi=Mu(ii),Vc=Mu(Wa,!0);function kd(n,l){var p=!0;return Oi(n,function(x,k,z){return p=!!l(x,k,z),p}),p}function As(n,l,p){for(var x=-1,k=n.length;++x<k;){var z=n[x],Z=l(z);if(Z!=null&&(ne===s?Z===Z&&!Di(Z):p(Z,ne)))var ne=Z,he=z}return he}function Yc(n,l,p,x){var k=n.length;for(p=qt(p),p<0&&(p=-p>k?0:k+p),x=x===s||x>k?k:qt(x),x<0&&(x+=k),x=p>x?0:Sm(x);p<x;)n[p++]=l;return n}function wu(n,l){var p=[];return Oi(n,function(x,k,z){l(x,k,z)&&p.push(x)}),p}function ir(n,l,p,x,k){var z=-1,Z=n.length;for(p||(p=A1),k||(k=[]);++z<Z;){var ne=n[z];l>0&&p(ne)?l>1?ir(ne,l-1,p,x,k):ki(k,ne):x||(k[k.length]=ne)}return k}var Ga=xl(),Rs=xl(!0);function ii(n,l){return n&&Ga(n,l,kr)}function Wa(n,l){return n&&Rs(n,l,kr)}function sa(n,l){return yr(l,function(p){return da(n[p])})}function Ui(n,l){l=Do(l,n);for(var p=0,x=l.length;n!=null&&p<x;)n=n[Bo(l[p++])];return p&&p==x?n:s}function cl(n,l,p){var x=l(n);return Wt(n)?x:ki(x,p(n))}function lr(n){return n==null?n===s?Qe:st:qi&&qi in At(n)?S1(n):U1(n)}function Ps(n,l){return n>l}function Xc(n,l){return n!=null&&dn.call(n,l)}function xu(n,l){return n!=null&&l in At(n)}function Ad(n,l,p){return n>=_r(l,p)&&n<Zn(l,p)}function Ha(n,l,p){for(var x=p?Ca:Ci,k=n[0].length,z=n.length,Z=z,ne=ye(z),he=1/0,ke=[];Z--;){var Ae=n[Z];Z&&l&&(Ae=Sn(Ae,Nr(l))),he=_r(Ae.length,he),ne[Z]=!p&&(l||k>=120&&Ae.length>=120)?new Po(Z&&Ae):s}Ae=n[0];var Me=-1,Je=ne[0];e:for(;++Me<k&&ke.length<he;){var yt=Ae[Me],Rt=l?l(yt):yt;if(yt=p||yt!==0?yt:0,!(Je?sr(Je,Rt):x(ke,Rt,p))){for(Z=z;--Z;){var Kt=ne[Z];if(!(Kt?sr(Kt,Rt):x(n[Z],Rt,p)))continue e}Je&&Je.push(Rt),ke.push(yt)}}return ke}function Su(n,l,p,x){return ii(n,function(k,z,Z){l(x,p(k),z,Z)}),x}function En(n,l,p){l=Do(l,n),n=qp(n,l);var x=n==null?n:n[Bo(to(l))];return x==null?s:ln(x,n,p)}function Ht(n){return Xn(n)&&lr(n)==ee}function Hn(n){return Xn(n)&&lr(n)==tt}function Vn(n){return Xn(n)&&lr(n)==Oe}function zn(n,l,p,x,k){return n===l?!0:n==null||l==null||!Xn(n)&&!Xn(l)?n!==n&&l!==l:oi(n,l,p,x,zn,k)}function oi(n,l,p,x,k,z){var Z=Wt(n),ne=Wt(l),he=Z?le:Kr(n),ke=ne?le:Kr(l);he=he==ee?et:he,ke=ke==ee?et:ke;var Ae=he==et,Me=ke==et,Je=he==ke;if(Je&&Qa(n)){if(!Qa(l))return!1;Z=!0,Ae=!1}if(Je&&!Ae)return z||(z=new $n),Z||El(n)?mt(n,l,p,x,k,z):Vt(n,l,he,p,x,k,z);if(!(p&E)){var yt=Ae&&dn.call(n,"__wrapped__"),Rt=Me&&dn.call(l,"__wrapped__");if(yt||Rt){var Kt=yt?n.value():n,Pt=Rt?l.value():l;return z||(z=new $n),k(Kt,Pt,p,x,z)}}return Je?(z||(z=new $n),jt(n,l,p,x,k,z)):!1}function Va(n){return Xn(n)&&Kr(n)==ot}function Bn(n,l,p,x){var k=p.length,z=k,Z=!x;if(n==null)return!z;for(n=At(n);k--;){var ne=p[k];if(Z&&ne[2]?ne[1]!==n[ne[0]]:!(ne[0]in n))return!1}for(;++k<z;){ne=p[k];var he=ne[0],ke=n[he],Ae=ne[1];if(Z&&ne[2]){if(ke===s&&!(he in n))return!1}else{var Me=new $n;if(x)var Je=x(ke,Ae,he,n,l,Me);if(!(Je===s?zn(Ae,ke,E|P,x,Me):Je))return!1}}return!0}function Ya(n){if(!jn(n)||P1(n))return!1;var l=da(n)?nl:Ko;return l.test(zs(n))}function Xa(n){return Xn(n)&&lr(n)==He}function fl(n){return Xn(n)&&Kr(n)==Te}function bu(n){return Xn(n)&&cf(n.length)&&!!dt[lr(n)]}function Ja(n){return typeof n=="function"?n:n==null?xi:typeof n=="object"?Wt(n)?dl(n[0],n[1]):Is(n):Mm(n)}function xr(n){if(!Ou(n))return bc(n);var l=[];for(var p in At(n))dn.call(n,p)&&p!="constructor"&&l.push(p);return l}function Eu(n){if(!jn(n))return O1(n);var l=Ou(n),p=[];for(var x in n)x=="constructor"&&(l||!dn.call(n,x))||p.push(x);return p}function Ls(n,l){return n<l}function la(n,l){var p=-1,x=_i(n)?ye(n.length):[];return Oi(n,function(k,z,Z){x[++p]=l(k,z,Z)}),x}function Is(n){var l=Id(n);return l.length==1&&l[0][2]?Xp(l[0][0],l[0][1]):function(p){return p===n||Bn(p,n,l)}}function dl(n,l){return Od(n)&&Yp(l)?Xp(Bo(n),l):function(p){var x=Hd(p,n);return x===s&&x===l?Vd(p,n):zn(l,x,E|P)}}function Ni(n,l,p,x,k){n!==l&&Ga(l,function(z,Z){if(k||(k=new $n),jn(z))hl(n,l,Z,p,Ni,x,k);else{var ne=x?x(Nd(n,Z),z,Z+"",n,l,k):s;ne===s&&(ne=z),mu(n,Z,ne)}},wi)}function hl(n,l,p,x,k,z,Z){var ne=Nd(n,p),he=Nd(l,p),ke=Z.get(he);if(ke){mu(n,p,ke);return}var Ae=z?z(ne,he,p+"",n,l,Z):s,Me=Ae===s;if(Me){var Je=Wt(he),yt=!Je&&Qa(he),Rt=!Je&&!yt&&El(he);Ae=he,Je||yt||Rt?Wt(ne)?Ae=ne:er(ne)?Ae=Tr(ne):yt?(Me=!1,Ae=Lu(he,!0)):Rt?(Me=!1,Ae=$c(he,!0)):Ae=[]:Nu(he)||Bs(he)?(Ae=ne,Bs(ne)?Ae=bm(ne):(!jn(ne)||da(ne))&&(Ae=Vp(he))):Me=!1}Me&&(Z.set(he,Ae),k(Ae,he,x,z,Z),Z.delete(he)),mu(n,p,Ae)}function go(n,l){var p=n.length;if(p)return l+=l<0?p:0,fa(l,p)?n[l]:s}function Ms(n,l,p){l.length?l=Sn(l,function(z){return Wt(z)?function(Z){return Ui(Z,z.length===1?z[0]:z)}:z}):l=[xi];var x=-1;l=Sn(l,Nr(kt()));var k=la(n,function(z,Z,ne){var he=Sn(l,function(ke){return ke(z)});return{criteria:he,index:++x,value:z}});return co(k,function(z,Z){return wl(z,Z,p)})}function Os(n,l){return pl(n,l,function(p,x){return Vd(n,x)})}function pl(n,l,p){for(var x=-1,k=l.length,z={};++x<k;){var Z=l[x],ne=Ui(n,Z);p(ne,Z)&&ua(z,Do(Z,n),ne)}return z}function ml(n){return function(l){return Ui(l,n)}}function qa(n,l,p,x){var k=x?Aa:Ai,z=-1,Z=l.length,ne=n;for(n===l&&(l=Tr(l)),p&&(ne=Sn(n,Nr(p)));++z<Z;)for(var he=0,ke=l[z],Ae=p?p(ke):ke;(he=k(ne,Ae,he,x))>-1;)ne!==n&&Ao.call(ne,he,1),Ao.call(n,he,1);return n}function Sr(n,l){for(var p=n?l.length:0,x=p-1;p--;){var k=l[p];if(p==x||k!==z){var z=k;fa(k)?Ao.call(n,k,1):Au(n,k)}}return n}function Zi(n,l){return n+Ss(uu()*(l-n+1))}function gi(n,l,p,x){for(var k=-1,z=Zn(xs((l-n)/(p||1)),0),Z=ye(z);z--;)Z[x?z:++k]=n,n+=p;return Z}function Ka(n,l){var p="";if(!n||l<1||l>X)return p;do l%2&&(p+=n),l=Ss(l/2),l&&(n+=n);while(l);return p}function bt(n,l){return Dd(Jp(n,l,xi),n+"")}function Jc(n){return ks(Tl(n))}function Tu(n,l){var p=Tl(n);return rf(p,Io(l,0,p.length))}function ua(n,l,p,x){if(!jn(n))return n;l=Do(l,n);for(var k=-1,z=l.length,Z=z-1,ne=n;ne!=null&&++k<z;){var he=Bo(l[k]),ke=p;if(he==="__proto__"||he==="constructor"||he==="prototype")return n;if(k!=Z){var Ae=ne[he];ke=x?x(Ae,he,ne):s,ke===s&&(ke=jn(Ae)?Ae:fa(l[k+1])?[]:{})}Mi(ne,he,ke),ne=ne[he]}return n}var qc=il?function(n,l){return il.set(n,l),n}:xi,Mo=Fa?function(n,l){return Fa(n,"toString",{configurable:!0,enumerable:!1,value:Xd(l),writable:!0})}:xi;function Kc(n){return rf(Tl(n))}function ai(n,l,p){var x=-1,k=n.length;l<0&&(l=-l>k?0:k+l),p=p>k?k:p,p<0&&(p+=k),k=l>p?0:p-l>>>0,l>>>=0;for(var z=ye(k);++x<k;)z[x]=n[x+l];return z}function Cu(n,l){var p;return Oi(n,function(x,k,z){return p=l(x,k,z),!p}),!!p}function $i(n,l,p){var x=0,k=n==null?x:n.length;if(typeof l=="number"&&l===l&&k<=te){for(;x<k;){var z=x+k>>>1,Z=n[z];Z!==null&&!Di(Z)&&(p?Z<=l:Z<l)?x=z+1:k=z}return k}return gl(n,l,xi,p)}function gl(n,l,p,x){var k=0,z=n==null?0:n.length;if(z===0)return 0;l=p(l);for(var Z=l!==l,ne=l===null,he=Di(l),ke=l===s;k<z;){var Ae=Ss((k+z)/2),Me=p(n[Ae]),Je=Me!==s,yt=Me===null,Rt=Me===Me,Kt=Di(Me);if(Z)var Pt=x||Rt;else ke?Pt=Rt&&(x||Je):ne?Pt=Rt&&Je&&(x||!yt):he?Pt=Rt&&Je&&!yt&&(x||!Kt):yt||Kt?Pt=!1:Pt=x?Me<=l:Me<l;Pt?k=Ae+1:z=Ae}return _r(z,Q)}function ku(n,l){for(var p=-1,x=n.length,k=0,z=[];++p<x;){var Z=n[p],ne=l?l(Z):Z;if(!p||!yo(ne,he)){var he=ne;z[k++]=Z===0?0:Z}}return z}function vl(n){return typeof n=="number"?n:Di(n)?H:+n}function br(n){if(typeof n=="string")return n;if(Wt(n))return Sn(n,br)+"";if(Di(n))return ja?ja.call(n):"";var l=n+"";return l=="0"&&1/n==-Ee?"-0":l}function Oo(n,l,p){var x=-1,k=Ci,z=n.length,Z=!0,ne=[],he=ne;if(p)Z=!1,k=Ca;else if(z>=a){var ke=l?null:Cr(n);if(ke)return ms(ke);Z=!1,k=sr,he=new Po}else he=l?[]:ne;e:for(;++x<z;){var Ae=n[x],Me=l?l(Ae):Ae;if(Ae=p||Ae!==0?Ae:0,Z&&Me===Me){for(var Je=he.length;Je--;)if(he[Je]===Me)continue e;l&&he.push(Me),ne.push(Ae)}else k(he,Me,p)||(he!==ne&&he.push(Me),ne.push(Ae))}return ne}function Au(n,l){return l=Do(l,n),n=qp(n,l),n==null||delete n[Bo(to(l))]}function Ru(n,l,p,x){return ua(n,l,p(Ui(n,l)),x)}function Us(n,l,p,x){for(var k=n.length,z=x?k:-1;(x?z--:++z<k)&&l(n[z],z,n););return p?ai(n,x?0:z,x?z+1:k):ai(n,x?z+1:0,x?k:z)}function Uo(n,l){var p=n;return p instanceof Et&&(p=p.value()),Zs(l,function(x,k){return k.func.apply(k.thisArg,ki([x],k.args))},p)}function Pu(n,l,p){var x=n.length;if(x<2)return x?Oo(n[0]):[];for(var k=-1,z=ye(x);++k<x;)for(var Z=n[k],ne=-1;++ne<x;)ne!=k&&(z[k]=aa(z[k]||Z,n[ne],l,p));return Oo(ir(z,1),l,p)}function No(n,l,p){for(var x=-1,k=n.length,z=l.length,Z={};++x<k;){var ne=x<z?l[x]:s;p(Z,n[x],ne)}return Z}function yl(n){return er(n)?n:[]}function Er(n){return typeof n=="function"?n:xi}function Do(n,l){return Wt(n)?n:Od(n,l)?[n]:$p(gn(n))}var Qc=bt;function Fo(n,l,p){var x=n.length;return p=p===s?x:p,!l&&p>=x?n:ai(n,l,p)}var Zc=ws||function(n){return kn.clearTimeout(n)};function Lu(n,l){if(l)return n.slice();var p=n.length,x=ou?ou(p):new n.constructor(p);return n.copy(x),x}function _l(n){var l=new n.constructor(n.byteLength);return new ys(l).set(new ys(n)),l}function Rd(n,l){var p=l?_l(n.buffer):n.buffer;return new n.constructor(p,n.byteOffset,n.byteLength)}function vi(n){var l=new n.constructor(n.source,ba.exec(n));return l.lastIndex=n.lastIndex,l}function Iu(n){return po?At(po.call(n)):{}}function $c(n,l){var p=l?_l(n.buffer):n.buffer;return new n.constructor(p,n.byteOffset,n.length)}function vo(n,l){if(n!==l){var p=n!==s,x=n===null,k=n===n,z=Di(n),Z=l!==s,ne=l===null,he=l===l,ke=Di(l);if(!ne&&!ke&&!z&&n>l||z&&Z&&he&&!ne&&!ke||x&&Z&&he||!p&&he||!k)return 1;if(!x&&!z&&!ke&&n<l||ke&&p&&k&&!x&&!z||ne&&p&&k||!Z&&k||!he)return-1}return 0}function wl(n,l,p){for(var x=-1,k=n.criteria,z=l.criteria,Z=k.length,ne=p.length;++x<Z;){var he=vo(k[x],z[x]);if(he){if(x>=ne)return he;var ke=p[x];return he*(ke=="desc"?-1:1)}}return n.index-l.index}function zo(n,l,p,x){for(var k=-1,z=n.length,Z=p.length,ne=-1,he=l.length,ke=Zn(z-Z,0),Ae=ye(he+ke),Me=!x;++ne<he;)Ae[ne]=l[ne];for(;++k<Z;)(Me||k<z)&&(Ae[p[k]]=n[k]);for(;ke--;)Ae[ne++]=n[k++];return Ae}function Ns(n,l,p,x){for(var k=-1,z=n.length,Z=-1,ne=p.length,he=-1,ke=l.length,Ae=Zn(z-ne,0),Me=ye(Ae+ke),Je=!x;++k<Ae;)Me[k]=n[k];for(var yt=k;++he<ke;)Me[yt+he]=l[he];for(;++Z<ne;)(Je||k<z)&&(Me[yt+p[Z]]=n[k++]);return Me}function Tr(n,l){var p=-1,x=n.length;for(l||(l=ye(x));++p<x;)l[p]=n[p];return l}function yi(n,l,p,x){var k=!p;p||(p={});for(var z=-1,Z=l.length;++z<Z;){var ne=l[z],he=x?x(p[ne],n[ne],ne,p,n):s;he===s&&(he=n[ne]),k?Qi(p,ne,he):Mi(p,ne,he)}return p}function Pd(n,l){return yi(n,Md(n),l)}function ef(n,l){return yi(n,Wp(n),l)}function Ds(n,l){return function(p,x){var k=Wt(p)?ei:gu,z=l?l():{};return k(p,n,kt(x,2),z)}}function ca(n){return bt(function(l,p){var x=-1,k=p.length,z=k>1?p[k-1]:s,Z=k>2?p[2]:s;for(z=n.length>3&&typeof z=="function"?(k--,z):s,Z&&li(p[0],p[1],Z)&&(z=k<3?s:z,k=1),l=At(l);++x<k;){var ne=p[x];ne&&n(l,ne,x,z)}return l})}function Mu(n,l){return function(p,x){if(p==null)return p;if(!_i(p))return n(p,x);for(var k=p.length,z=l?k:-1,Z=At(p);(l?z--:++z<k)&&x(Z[z],z,Z)!==!1;);return p}}function xl(n){return function(l,p,x){for(var k=-1,z=At(l),Z=x(l),ne=Z.length;ne--;){var he=Z[n?ne:++k];if(p(z[he],he,z)===!1)break}return l}}function Ld(n,l,p){var x=l&R,k=i(n);function z(){var Z=this&&this!==kn&&this instanceof z?k:n;return Z.apply(x?p:this,arguments)}return z}function tf(n){return function(l){l=gn(l);var p=ea(l)?Un(l):s,x=p?p[0]:l.charAt(0),k=p?Fo(p,1).join(""):l.slice(1);return x[n]()+k}}function r(n){return function(l){return Zs(Lm(Pm(l).replace(Ie,"")),n,"")}}function i(n){return function(){var l=arguments;switch(l.length){case 0:return new n;case 1:return new n(l[0]);case 2:return new n(l[0],l[1]);case 3:return new n(l[0],l[1],l[2]);case 4:return new n(l[0],l[1],l[2],l[3]);case 5:return new n(l[0],l[1],l[2],l[3],l[4]);case 6:return new n(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new n(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=mo(n.prototype),x=n.apply(p,l);return jn(x)?x:p}}function f(n,l,p){var x=i(n);function k(){for(var z=arguments.length,Z=ye(z),ne=z,he=bl(k);ne--;)Z[ne]=arguments[ne];var ke=z<3&&Z[0]!==he&&Z[z-1]!==he?[]:Li(Z,he);if(z-=ke.length,z<p)return mn(n,l,b,k.placeholder,s,Z,ke,s,s,p-z);var Ae=this&&this!==kn&&this instanceof k?x:n;return ln(Ae,this,Z)}return k}function v(n){return function(l,p,x){var k=At(l);if(!_i(l)){var z=kt(p,3);l=kr(l),p=function(ne){return z(k[ne],ne,k)}}var Z=n(l,p,x);return Z>-1?k[z?l[Z]:Z]:s}}function _(n){return Yt(function(l){var p=l.length,x=p,k=wr.prototype.thru;for(n&&l.reverse();x--;){var z=l[x];if(typeof z!="function")throw new Fr(c);if(k&&!Z&&Sl(z)=="wrapper")var Z=new wr([],!0)}for(x=Z?x:p;++x<p;){z=l[x];var ne=Sl(z),he=ne=="wrapper"?eo(z):s;he&&Ud(he[0])&&he[1]==(j|L|F|W)&&!he[4].length&&he[9]==1?Z=Z[Sl(he[0])].apply(Z,he[3]):Z=z.length==1&&Ud(z)?Z[ne]():Z.thru(z)}return function(){var ke=arguments,Ae=ke[0];if(Z&&ke.length==1&&Wt(Ae))return Z.plant(Ae).value();for(var Me=0,Je=p?l[Me].apply(this,ke):Ae;++Me<p;)Je=l[Me].call(this,Je);return Je}})}function b(n,l,p,x,k,z,Z,ne,he,ke){var Ae=l&j,Me=l&R,Je=l&A,yt=l&(L|D),Rt=l&q,Kt=Je?s:i(n);function Pt(){for(var rn=arguments.length,un=ye(rn),Fi=rn;Fi--;)un[Fi]=arguments[Fi];if(yt)var ui=bl(Pt),zi=Pi(un,ui);if(x&&(un=zo(un,x,k,yt)),z&&(un=Ns(un,z,Z,yt)),rn-=zi,yt&&rn<ke){var tr=Li(un,ui);return mn(n,l,b,Pt.placeholder,p,un,tr,ne,he,ke-rn)}var _o=Me?p:this,pa=Je?_o[n]:n;return rn=un.length,ne?un=N1(un,ne):Rt&&rn>1&&un.reverse(),Ae&&he<rn&&(un.length=he),this&&this!==kn&&this instanceof Pt&&(pa=Kt||i(pa)),pa.apply(_o,un)}return Pt}function V(n,l){return function(p,x){return Su(p,n,l(x),{})}}function ue(n,l){return function(p,x){var k;if(p===s&&x===s)return l;if(p!==s&&(k=p),x!==s){if(k===s)return x;typeof p=="string"||typeof x=="string"?(p=br(p),x=br(x)):(p=vl(p),x=vl(x)),k=n(p,x)}return k}}function Se(n){return Yt(function(l){return l=Sn(l,Nr(kt())),bt(function(p){var x=this;return n(l,function(k){return ln(k,x,p)})})})}function De(n,l){l=l===s?" ":br(l);var p=l.length;if(p<2)return p?Ka(l,n):l;var x=Ka(l,xs(n/Yi(l)));return ea(l)?Fo(Un(x),0,n).join(""):x.slice(0,n)}function at(n,l,p,x){var k=l&R,z=i(n);function Z(){for(var ne=-1,he=arguments.length,ke=-1,Ae=x.length,Me=ye(Ae+he),Je=this&&this!==kn&&this instanceof Z?z:n;++ke<Ae;)Me[ke]=x[ke];for(;he--;)Me[ke++]=arguments[++ne];return ln(Je,k?p:this,Me)}return Z}function Bt(n){return function(l,p,x){return x&&typeof x!="number"&&li(l,p,x)&&(p=x=s),l=ha(l),p===s?(p=l,l=0):p=ha(p),x=x===s?l<p?1:-1:ha(x),gi(l,p,x,n)}}function wt(n){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=no(l),p=no(p)),n(l,p)}}function mn(n,l,p,x,k,z,Z,ne,he,ke){var Ae=l&L,Me=Ae?Z:s,Je=Ae?s:Z,yt=Ae?z:s,Rt=Ae?s:z;l|=Ae?F:G,l&=~(Ae?G:F),l&I||(l&=~(R|A));var Kt=[n,l,k,yt,Me,Rt,Je,ne,he,ke],Pt=p.apply(s,Kt);return Ud(n)&&Kp(Pt,Kt),Pt.placeholder=x,Qp(Pt,n,l)}function pt(n){var l=Tn[n];return function(p,x){if(p=no(p),x=x==null?0:_r(qt(x),292),x&&lu(p)){var k=(gn(p)+"e").split("e"),z=l(k[0]+"e"+(+k[1]+x));return k=(gn(z)+"e").split("e"),+(k[0]+"e"+(+k[1]-x))}return l(p)}}var Cr=Ba&&1/ms(new Ba([,-0]))[1]==Ee?function(n){return new Ba(n)}:Kd;function si(n){return function(l){var p=Kr(l);return p==ot?ps(l):p==Te?vc(l):pc(l,n(l))}}function ge(n,l,p,x,k,z,Z,ne){var he=l&A;if(!he&&typeof n!="function")throw new Fr(c);var ke=x?x.length:0;if(ke||(l&=~(F|G),x=k=s),Z=Z===s?Z:Zn(qt(Z),0),ne=ne===s?ne:qt(ne),ke-=k?k.length:0,l&G){var Ae=x,Me=k;x=k=s}var Je=he?s:eo(n),yt=[n,l,p,x,k,Ae,Me,z,Z,ne];if(Je&&M1(yt,Je),n=yt[0],l=yt[1],p=yt[2],x=yt[3],k=yt[4],ne=yt[9]=yt[9]===s?he?0:n.length:Zn(yt[9]-ke,0),!ne&&l&(L|D)&&(l&=~(L|D)),!l||l==R)var Rt=Ld(n,l,p);else l==L||l==D?Rt=f(n,l,ne):(l==F||l==(R|F))&&!k.length?Rt=at(n,l,p,x):Rt=b.apply(s,yt);var Kt=Je?qc:Kp;return Qp(Kt(Rt,yt),n,l)}function de(n,l,p,x){return n===s||yo(n,Na[p])&&!dn.call(x,p)?l:n}function we(n,l,p,x,k,z){return jn(n)&&jn(l)&&(z.set(l,n),Ni(n,l,s,we,z),z.delete(l)),n}function qe(n){return Nu(n)?s:n}function mt(n,l,p,x,k,z){var Z=p&E,ne=n.length,he=l.length;if(ne!=he&&!(Z&&he>ne))return!1;var ke=z.get(n),Ae=z.get(l);if(ke&&Ae)return ke==l&&Ae==n;var Me=-1,Je=!0,yt=p&P?new Po:s;for(z.set(n,l),z.set(l,n);++Me<ne;){var Rt=n[Me],Kt=l[Me];if(x)var Pt=Z?x(Kt,Rt,Me,l,n,z):x(Rt,Kt,Me,n,l,z);if(Pt!==s){if(Pt)continue;Je=!1;break}if(yt){if(!cs(l,function(rn,un){if(!sr(yt,un)&&(Rt===rn||k(Rt,rn,p,x,z)))return yt.push(un)})){Je=!1;break}}else if(!(Rt===Kt||k(Rt,Kt,p,x,z))){Je=!1;break}}return z.delete(n),z.delete(l),Je}function Vt(n,l,p,x,k,z,Z){switch(p){case nt:if(n.byteLength!=l.byteLength||n.byteOffset!=l.byteOffset)return!1;n=n.buffer,l=l.buffer;case tt:return!(n.byteLength!=l.byteLength||!z(new ys(n),new ys(l)));case _e:case Oe:case Ve:return yo(+n,+l);case Le:return n.name==l.name&&n.message==l.message;case He:case xt:return n==l+"";case ot:var ne=ps;case Te:var he=x&E;if(ne||(ne=ms),n.size!=l.size&&!he)return!1;var ke=Z.get(n);if(ke)return ke==l;x|=P,Z.set(n,l);var Ae=mt(ne(n),ne(l),x,k,z,Z);return Z.delete(n),Ae;case Ge:if(po)return po.call(n)==po.call(l)}return!1}function jt(n,l,p,x,k,z){var Z=p&E,ne=Yn(n),he=ne.length,ke=Yn(l),Ae=ke.length;if(he!=Ae&&!Z)return!1;for(var Me=he;Me--;){var Je=ne[Me];if(!(Z?Je in l:dn.call(l,Je)))return!1}var yt=z.get(n),Rt=z.get(l);if(yt&&Rt)return yt==l&&Rt==n;var Kt=!0;z.set(n,l),z.set(l,n);for(var Pt=Z;++Me<he;){Je=ne[Me];var rn=n[Je],un=l[Je];if(x)var Fi=Z?x(un,rn,Je,l,n,z):x(rn,un,Je,n,l,z);if(!(Fi===s?rn===un||k(rn,un,p,x,z):Fi)){Kt=!1;break}Pt||(Pt=Je=="constructor")}if(Kt&&!Pt){var ui=n.constructor,zi=l.constructor;ui!=zi&&"constructor"in n&&"constructor"in l&&!(typeof ui=="function"&&ui instanceof ui&&typeof zi=="function"&&zi instanceof zi)&&(Kt=!1)}return z.delete(n),z.delete(l),Kt}function Yt(n){return Dd(Jp(n,s,rm),n+"")}function Yn(n){return cl(n,kr,Md)}function on(n){return cl(n,wi,Wp)}var eo=il?function(n){return il.get(n)}:Kd;function Sl(n){for(var l=n.name+"",p=ia[l],x=dn.call(ia,l)?p.length:0;x--;){var k=p[x],z=k.func;if(z==null||z==n)return k.name}return l}function bl(n){var l=dn.call(O,"placeholder")?O:n;return l.placeholder}function kt(){var n=O.iteratee||Jd;return n=n===Jd?Ja:n,arguments.length?n(arguments[0],arguments[1]):n}function nf(n,l){var p=n.__data__;return R1(l)?p[typeof l=="string"?"string":"hash"]:p.map}function Id(n){for(var l=kr(n),p=l.length;p--;){var x=l[p],k=n[x];l[p]=[x,k,Yp(k)]}return l}function Fs(n,l){var p=nu(n,l);return Ya(p)?p:s}function S1(n){var l=dn.call(n,qi),p=n[qi];try{n[qi]=s;var x=!0}catch{}var k=ti.call(n);return x&&(l?n[qi]=p:delete n[qi]),k}var Md=bs?function(n){return n==null?[]:(n=At(n),yr(bs(n),function(l){return rl.call(n,l)}))}:Qd,Wp=bs?function(n){for(var l=[];n;)ki(l,Md(n)),n=_s(n);return l}:Qd,Kr=lr;(za&&Kr(new za(new ArrayBuffer(1)))!=nt||Es&&Kr(new Es)!=ot||cu&&Kr(cu.resolve())!=Ue||Ba&&Kr(new Ba)!=Te||na&&Kr(new na)!=Be)&&(Kr=function(n){var l=lr(n),p=l==et?n.constructor:s,x=p?zs(p):"";if(x)switch(x){case kc:return nt;case Ac:return ot;case Rc:return Ue;case Pc:return Te;case Ki:return Be}return l});function b1(n,l,p){for(var x=-1,k=p.length;++x<k;){var z=p[x],Z=z.size;switch(z.type){case"drop":n+=Z;break;case"dropRight":l-=Z;break;case"take":l=_r(l,n+Z);break;case"takeRight":n=Zn(n,l-Z);break}}return{start:n,end:l}}function E1(n){var l=n.match(fr);return l?l[1].split(Qr):[]}function Hp(n,l,p){l=Do(l,n);for(var x=-1,k=l.length,z=!1;++x<k;){var Z=Bo(l[x]);if(!(z=n!=null&&p(n,Z)))break;n=n[Z]}return z||++x!=k?z:(k=n==null?0:n.length,!!k&&cf(k)&&fa(Z,k)&&(Wt(n)||Bs(n)))}function T1(n){var l=n.length,p=new n.constructor(l);return l&&typeof n[0]=="string"&&dn.call(n,"index")&&(p.index=n.index,p.input=n.input),p}function Vp(n){return typeof n.constructor=="function"&&!Ou(n)?mo(_s(n)):{}}function C1(n,l,p){var x=n.constructor;switch(l){case tt:return _l(n);case _e:case Oe:return new x(+n);case nt:return Rd(n,p);case gt:case Ct:case tn:case fn:case It:case Mt:case ct:case ae:case Re:return $c(n,p);case ot:return new x;case Ve:case xt:return new x(n);case He:return vi(n);case Te:return new x;case Ge:return Iu(n)}}function k1(n,l){var p=l.length;if(!p)return n;var x=p-1;return l[x]=(p>1?"& ":"")+l[x],l=l.join(p>2?", ":" "),n.replace(ci,`{
/* [wrapped with `+l+`] */
`)}function A1(n){return Wt(n)||Bs(n)||!!(su&&n&&n[su])}function fa(n,l){var p=typeof n;return l=l??X,!!l&&(p=="number"||p!="symbol"&&Ta.test(n))&&n>-1&&n%1==0&&n<l}function li(n,l,p){if(!jn(p))return!1;var x=typeof l;return(x=="number"?_i(p)&&fa(l,p.length):x=="string"&&l in p)?yo(p[l],n):!1}function Od(n,l){if(Wt(n))return!1;var p=typeof n;return p=="number"||p=="symbol"||p=="boolean"||n==null||Di(n)?!0:yn.test(n)||!Dt.test(n)||l!=null&&n in At(l)}function R1(n){var l=typeof n;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?n!=="__proto__":n===null}function Ud(n){var l=Sl(n),p=O[l];if(typeof p!="function"||!(l in Et.prototype))return!1;if(n===p)return!0;var x=eo(p);return!!x&&n===x[0]}function P1(n){return!!Ji&&Ji in n}var L1=Qn?da:Zd;function Ou(n){var l=n&&n.constructor,p=typeof l=="function"&&l.prototype||Na;return n===p}function Yp(n){return n===n&&!jn(n)}function Xp(n,l){return function(p){return p==null?!1:p[n]===l&&(l!==s||n in At(p))}}function I1(n){var l=lf(n,function(x){return p.size===m&&p.clear(),x}),p=l.cache;return l}function M1(n,l){var p=n[1],x=l[1],k=p|x,z=k<(R|A|j),Z=x==j&&p==L||x==j&&p==W&&n[7].length<=l[8]||x==(j|W)&&l[7].length<=l[8]&&p==L;if(!(z||Z))return n;x&R&&(n[2]=l[2],k|=p&R?0:I);var ne=l[3];if(ne){var he=n[3];n[3]=he?zo(he,ne,l[4]):ne,n[4]=he?Li(n[3],g):l[4]}return ne=l[5],ne&&(he=n[5],n[5]=he?Ns(he,ne,l[6]):ne,n[6]=he?Li(n[5],g):l[6]),ne=l[7],ne&&(n[7]=ne),x&j&&(n[8]=n[8]==null?l[8]:_r(n[8],l[8])),n[9]==null&&(n[9]=l[9]),n[0]=l[0],n[1]=k,n}function O1(n){var l=[];if(n!=null)for(var p in At(n))l.push(p);return l}function U1(n){return ti.call(n)}function Jp(n,l,p){return l=Zn(l===s?n.length-1:l,0),function(){for(var x=arguments,k=-1,z=Zn(x.length-l,0),Z=ye(z);++k<z;)Z[k]=x[l+k];k=-1;for(var ne=ye(l+1);++k<l;)ne[k]=x[k];return ne[l]=p(Z),ln(n,this,ne)}}function qp(n,l){return l.length<2?n:Ui(n,ai(l,0,-1))}function N1(n,l){for(var p=n.length,x=_r(l.length,p),k=Tr(n);x--;){var z=l[x];n[x]=fa(z,p)?k[z]:s}return n}function Nd(n,l){if(!(l==="constructor"&&typeof n[l]=="function")&&l!="__proto__")return n[l]}var Kp=Zp(qc),Uu=xc||function(n,l){return kn.setTimeout(n,l)},Dd=Zp(Mo);function Qp(n,l,p){var x=l+"";return Dd(n,k1(x,D1(E1(x),p)))}function Zp(n){var l=0,p=0;return function(){var x=Ec(),k=ce-(x-p);if(p=x,k>0){if(++l>=Y)return arguments[0]}else l=0;return n.apply(s,arguments)}}function rf(n,l){var p=-1,x=n.length,k=x-1;for(l=l===s?x:l;++p<l;){var z=Zi(p,k),Z=n[z];n[z]=n[p],n[p]=Z}return n.length=l,n}var $p=I1(function(n){var l=[];return n.charCodeAt(0)===46&&l.push(""),n.replace(wn,function(p,x,k,z){l.push(k?z.replace(Sa,"$1"):x||p)}),l});function Bo(n){if(typeof n=="string"||Di(n))return n;var l=n+"";return l=="0"&&1/n==-Ee?"-0":l}function zs(n){if(n!=null){try{return Da.call(n)}catch{}try{return n+""}catch{}}return""}function D1(n,l){return Kn(oe,function(p){var x="_."+p[0];l&p[1]&&!Ci(n,x)&&n.push(x)}),n.sort()}function em(n){if(n instanceof Et)return n.clone();var l=new wr(n.__wrapped__,n.__chain__);return l.__actions__=Tr(n.__actions__),l.__index__=n.__index__,l.__values__=n.__values__,l}function F1(n,l,p){(p?li(n,l,p):l===s)?l=1:l=Zn(qt(l),0);var x=n==null?0:n.length;if(!x||l<1)return[];for(var k=0,z=0,Z=ye(xs(x/l));k<x;)Z[z++]=ai(n,k,k+=l);return Z}function z1(n){for(var l=-1,p=n==null?0:n.length,x=0,k=[];++l<p;){var z=n[l];z&&(k[x++]=z)}return k}function B1(){var n=arguments.length;if(!n)return[];for(var l=ye(n-1),p=arguments[0],x=n;x--;)l[x-1]=arguments[x];return ki(Wt(p)?Tr(p):[p],ir(l,1))}var j1=bt(function(n,l){return er(n)?aa(n,ir(l,1,er,!0)):[]}),G1=bt(function(n,l){var p=to(l);return er(p)&&(p=s),er(n)?aa(n,ir(l,1,er,!0),kt(p,2)):[]}),W1=bt(function(n,l){var p=to(l);return er(p)&&(p=s),er(n)?aa(n,ir(l,1,er,!0),s,p):[]});function H1(n,l,p){var x=n==null?0:n.length;return x?(l=p||l===s?1:qt(l),ai(n,l<0?0:l,x)):[]}function V1(n,l,p){var x=n==null?0:n.length;return x?(l=p||l===s?1:qt(l),l=x-l,ai(n,0,l<0?0:l)):[]}function Y1(n,l){return n&&n.length?Us(n,kt(l,3),!0,!0):[]}function X1(n,l){return n&&n.length?Us(n,kt(l,3),!0):[]}function J1(n,l,p,x){var k=n==null?0:n.length;return k?(p&&typeof p!="number"&&li(n,l,p)&&(p=0,x=k),Yc(n,l,p,x)):[]}function tm(n,l,p){var x=n==null?0:n.length;if(!x)return-1;var k=p==null?0:qt(p);return k<0&&(k=Zn(x+k,0)),ka(n,kt(l,3),k)}function nm(n,l,p){var x=n==null?0:n.length;if(!x)return-1;var k=x-1;return p!==s&&(k=qt(p),k=p<0?Zn(x+k,0):_r(k,x-1)),ka(n,kt(l,3),k,!0)}function rm(n){var l=n==null?0:n.length;return l?ir(n,1):[]}function q1(n){var l=n==null?0:n.length;return l?ir(n,Ee):[]}function K1(n,l){var p=n==null?0:n.length;return p?(l=l===s?1:qt(l),ir(n,l)):[]}function Q1(n){for(var l=-1,p=n==null?0:n.length,x={};++l<p;){var k=n[l];x[k[0]]=k[1]}return x}function im(n){return n&&n.length?n[0]:s}function Z1(n,l,p){var x=n==null?0:n.length;if(!x)return-1;var k=p==null?0:qt(p);return k<0&&(k=Zn(x+k,0)),Ai(n,l,k)}function $1(n){var l=n==null?0:n.length;return l?ai(n,0,-1):[]}var ey=bt(function(n){var l=Sn(n,yl);return l.length&&l[0]===n[0]?Ha(l):[]}),ty=bt(function(n){var l=to(n),p=Sn(n,yl);return l===to(p)?l=s:p.pop(),p.length&&p[0]===n[0]?Ha(p,kt(l,2)):[]}),ny=bt(function(n){var l=to(n),p=Sn(n,yl);return l=typeof l=="function"?l:s,l&&p.pop(),p.length&&p[0]===n[0]?Ha(p,s,l):[]});function ry(n,l){return n==null?"":xd.call(n,l)}function to(n){var l=n==null?0:n.length;return l?n[l-1]:s}function iy(n,l,p){var x=n==null?0:n.length;if(!x)return-1;var k=x;return p!==s&&(k=qt(p),k=k<0?Zn(x+k,0):_r(k,x-1)),l===l?yc(n,l,k):ka(n,fs,k,!0)}function oy(n,l){return n&&n.length?go(n,qt(l)):s}var ay=bt(om);function om(n,l){return n&&n.length&&l&&l.length?qa(n,l):n}function sy(n,l,p){return n&&n.length&&l&&l.length?qa(n,l,kt(p,2)):n}function ly(n,l,p){return n&&n.length&&l&&l.length?qa(n,l,s,p):n}var uy=Yt(function(n,l){var p=n==null?0:n.length,x=ll(n,l);return Sr(n,Sn(l,function(k){return fa(k,p)?+k:k}).sort(vo)),x});function cy(n,l){var p=[];if(!(n&&n.length))return p;var x=-1,k=[],z=n.length;for(l=kt(l,3);++x<z;){var Z=n[x];l(Z,x,n)&&(p.push(Z),k.push(x))}return Sr(n,k),p}function Fd(n){return n==null?n:Cc.call(n)}function fy(n,l,p){var x=n==null?0:n.length;return x?(p&&typeof p!="number"&&li(n,l,p)?(l=0,p=x):(l=l==null?0:qt(l),p=p===s?x:qt(p)),ai(n,l,p)):[]}function dy(n,l){return $i(n,l)}function hy(n,l,p){return gl(n,l,kt(p,2))}function py(n,l){var p=n==null?0:n.length;if(p){var x=$i(n,l);if(x<p&&yo(n[x],l))return x}return-1}function my(n,l){return $i(n,l,!0)}function gy(n,l,p){return gl(n,l,kt(p,2),!0)}function vy(n,l){var p=n==null?0:n.length;if(p){var x=$i(n,l,!0)-1;if(yo(n[x],l))return x}return-1}function yy(n){return n&&n.length?ku(n):[]}function _y(n,l){return n&&n.length?ku(n,kt(l,2)):[]}function wy(n){var l=n==null?0:n.length;return l?ai(n,1,l):[]}function xy(n,l,p){return n&&n.length?(l=p||l===s?1:qt(l),ai(n,0,l<0?0:l)):[]}function Sy(n,l,p){var x=n==null?0:n.length;return x?(l=p||l===s?1:qt(l),l=x-l,ai(n,l<0?0:l,x)):[]}function by(n,l){return n&&n.length?Us(n,kt(l,3),!1,!0):[]}function Ey(n,l){return n&&n.length?Us(n,kt(l,3)):[]}var Ty=bt(function(n){return Oo(ir(n,1,er,!0))}),Cy=bt(function(n){var l=to(n);return er(l)&&(l=s),Oo(ir(n,1,er,!0),kt(l,2))}),ky=bt(function(n){var l=to(n);return l=typeof l=="function"?l:s,Oo(ir(n,1,er,!0),s,l)});function Ay(n){return n&&n.length?Oo(n):[]}function Ry(n,l){return n&&n.length?Oo(n,kt(l,2)):[]}function Py(n,l){return l=typeof l=="function"?l:s,n&&n.length?Oo(n,s,l):[]}function zd(n){if(!(n&&n.length))return[];var l=0;return n=yr(n,function(p){if(er(p))return l=Zn(p.length,l),!0}),fo(l,function(p){return Sn(n,Jr(p))})}function am(n,l){if(!(n&&n.length))return[];var p=zd(n);return l==null?p:Sn(p,function(x){return ln(l,s,x)})}var Ly=bt(function(n,l){return er(n)?aa(n,l):[]}),Iy=bt(function(n){return Pu(yr(n,er))}),My=bt(function(n){var l=to(n);return er(l)&&(l=s),Pu(yr(n,er),kt(l,2))}),Oy=bt(function(n){var l=to(n);return l=typeof l=="function"?l:s,Pu(yr(n,er),s,l)}),Uy=bt(zd);function Ny(n,l){return No(n||[],l||[],Mi)}function Dy(n,l){return No(n||[],l||[],ua)}var Fy=bt(function(n){var l=n.length,p=l>1?n[l-1]:s;return p=typeof p=="function"?(n.pop(),p):s,am(n,p)});function sm(n){var l=O(n);return l.__chain__=!0,l}function zy(n,l){return l(n),n}function of(n,l){return l(n)}var By=Yt(function(n){var l=n.length,p=l?n[0]:0,x=this.__wrapped__,k=function(z){return ll(z,n)};return l>1||this.__actions__.length||!(x instanceof Et)||!fa(p)?this.thru(k):(x=x.slice(p,+p+(l?1:0)),x.__actions__.push({func:of,args:[k],thisArg:s}),new wr(x,this.__chain__).thru(function(z){return l&&!z.length&&z.push(s),z}))});function jy(){return sm(this)}function Gy(){return new wr(this.value(),this.__chain__)}function Wy(){this.__values__===s&&(this.__values__=xm(this.value()));var n=this.__index__>=this.__values__.length,l=n?s:this.__values__[this.__index__++];return{done:n,value:l}}function Hy(){return this}function Vy(n){for(var l,p=this;p instanceof Cs;){var x=em(p);x.__index__=0,x.__values__=s,l?k.__wrapped__=x:l=x;var k=x;p=p.__wrapped__}return k.__wrapped__=n,l}function Yy(){var n=this.__wrapped__;if(n instanceof Et){var l=n;return this.__actions__.length&&(l=new Et(this)),l=l.reverse(),l.__actions__.push({func:of,args:[Fd],thisArg:s}),new wr(l,this.__chain__)}return this.thru(Fd)}function Xy(){return Uo(this.__wrapped__,this.__actions__)}var Jy=Ds(function(n,l,p){dn.call(n,p)?++n[p]:Qi(n,p,1)});function qy(n,l,p){var x=Wt(n)?$l:kd;return p&&li(n,l,p)&&(l=s),x(n,kt(l,3))}function Ky(n,l){var p=Wt(n)?yr:wu;return p(n,kt(l,3))}var Qy=v(tm),Zy=v(nm);function $y(n,l){return ir(af(n,l),1)}function e_(n,l){return ir(af(n,l),Ee)}function t_(n,l,p){return p=p===s?1:qt(p),ir(af(n,l),p)}function lm(n,l){var p=Wt(n)?Kn:Oi;return p(n,kt(l,3))}function um(n,l){var p=Wt(n)?Zl:Vc;return p(n,kt(l,3))}var n_=Ds(function(n,l,p){dn.call(n,p)?n[p].push(l):Qi(n,p,[l])});function r_(n,l,p,x){n=_i(n)?n:Tl(n),p=p&&!x?qt(p):0;var k=n.length;return p<0&&(p=Zn(k+p,0)),ff(n)?p<=k&&n.indexOf(l,p)>-1:!!k&&Ai(n,l,p)>-1}var i_=bt(function(n,l,p){var x=-1,k=typeof l=="function",z=_i(n)?ye(n.length):[];return Oi(n,function(Z){z[++x]=k?ln(l,Z,p):En(Z,l,p)}),z}),o_=Ds(function(n,l,p){Qi(n,p,l)});function af(n,l){var p=Wt(n)?Sn:la;return p(n,kt(l,3))}function a_(n,l,p,x){return n==null?[]:(Wt(l)||(l=l==null?[]:[l]),p=x?s:p,Wt(p)||(p=p==null?[]:[p]),Ms(n,l,p))}var s_=Ds(function(n,l,p){n[p?0:1].push(l)},function(){return[[],[]]});function l_(n,l,p){var x=Wt(n)?Zs:To,k=arguments.length<3;return x(n,kt(l,4),p,k,Oi)}function u_(n,l,p){var x=Wt(n)?fc:To,k=arguments.length<3;return x(n,kt(l,4),p,k,Vc)}function c_(n,l){var p=Wt(n)?yr:wu;return p(n,uf(kt(l,3)))}function f_(n){var l=Wt(n)?ks:Jc;return l(n)}function d_(n,l,p){(p?li(n,l,p):l===s)?l=1:l=qt(l);var x=Wt(n)?pu:Tu;return x(n,l)}function h_(n){var l=Wt(n)?Wc:Kc;return l(n)}function p_(n){if(n==null)return 0;if(_i(n))return ff(n)?Yi(n):n.length;var l=Kr(n);return l==ot||l==Te?n.size:xr(n).length}function m_(n,l,p){var x=Wt(n)?cs:Cu;return p&&li(n,l,p)&&(l=s),x(n,kt(l,3))}var g_=bt(function(n,l){if(n==null)return[];var p=l.length;return p>1&&li(n,l[0],l[1])?l=[]:p>2&&li(l[0],l[1],l[2])&&(l=[l[0]]),Ms(n,ir(l,1),[])}),sf=wc||function(){return kn.Date.now()};function v_(n,l){if(typeof l!="function")throw new Fr(c);return n=qt(n),function(){if(--n<1)return l.apply(this,arguments)}}function cm(n,l,p){return l=p?s:l,l=n&&l==null?n.length:l,ge(n,j,s,s,s,s,l)}function fm(n,l){var p;if(typeof l!="function")throw new Fr(c);return n=qt(n),function(){return--n>0&&(p=l.apply(this,arguments)),n<=1&&(l=s),p}}var Bd=bt(function(n,l,p){var x=R;if(p.length){var k=Li(p,bl(Bd));x|=F}return ge(n,x,l,p,k)}),dm=bt(function(n,l,p){var x=R|A;if(p.length){var k=Li(p,bl(dm));x|=F}return ge(l,x,n,p,k)});function hm(n,l,p){l=p?s:l;var x=ge(n,L,s,s,s,s,s,l);return x.placeholder=hm.placeholder,x}function pm(n,l,p){l=p?s:l;var x=ge(n,D,s,s,s,s,s,l);return x.placeholder=pm.placeholder,x}function mm(n,l,p){var x,k,z,Z,ne,he,ke=0,Ae=!1,Me=!1,Je=!0;if(typeof n!="function")throw new Fr(c);l=no(l)||0,jn(p)&&(Ae=!!p.leading,Me="maxWait"in p,z=Me?Zn(no(p.maxWait)||0,l):z,Je="trailing"in p?!!p.trailing:Je);function yt(tr){var _o=x,pa=k;return x=k=s,ke=tr,Z=n.apply(pa,_o),Z}function Rt(tr){return ke=tr,ne=Uu(rn,l),Ae?yt(tr):Z}function Kt(tr){var _o=tr-he,pa=tr-ke,Om=l-_o;return Me?_r(Om,z-pa):Om}function Pt(tr){var _o=tr-he,pa=tr-ke;return he===s||_o>=l||_o<0||Me&&pa>=z}function rn(){var tr=sf();if(Pt(tr))return un(tr);ne=Uu(rn,Kt(tr))}function un(tr){return ne=s,Je&&x?yt(tr):(x=k=s,Z)}function Fi(){ne!==s&&Zc(ne),ke=0,x=he=k=ne=s}function ui(){return ne===s?Z:un(sf())}function zi(){var tr=sf(),_o=Pt(tr);if(x=arguments,k=this,he=tr,_o){if(ne===s)return Rt(he);if(Me)return Zc(ne),ne=Uu(rn,l),yt(he)}return ne===s&&(ne=Uu(rn,l)),Z}return zi.cancel=Fi,zi.flush=ui,zi}var y_=bt(function(n,l){return _u(n,1,l)}),__=bt(function(n,l,p){return _u(n,no(l)||0,p)});function w_(n){return ge(n,q)}function lf(n,l){if(typeof n!="function"||l!=null&&typeof l!="function")throw new Fr(c);var p=function(){var x=arguments,k=l?l.apply(this,x):x[0],z=p.cache;if(z.has(k))return z.get(k);var Z=n.apply(this,x);return p.cache=z.set(k,Z)||z,Z};return p.cache=new(lf.Cache||mi),p}lf.Cache=mi;function uf(n){if(typeof n!="function")throw new Fr(c);return function(){var l=arguments;switch(l.length){case 0:return!n.call(this);case 1:return!n.call(this,l[0]);case 2:return!n.call(this,l[0],l[1]);case 3:return!n.call(this,l[0],l[1],l[2])}return!n.apply(this,l)}}function x_(n){return fm(2,n)}var S_=Qc(function(n,l){l=l.length==1&&Wt(l[0])?Sn(l[0],Nr(kt())):Sn(ir(l,1),Nr(kt()));var p=l.length;return bt(function(x){for(var k=-1,z=_r(x.length,p);++k<z;)x[k]=l[k].call(this,x[k]);return ln(n,this,x)})}),jd=bt(function(n,l){var p=Li(l,bl(jd));return ge(n,F,s,l,p)}),gm=bt(function(n,l){var p=Li(l,bl(gm));return ge(n,G,s,l,p)}),b_=Yt(function(n,l){return ge(n,W,s,s,s,l)});function E_(n,l){if(typeof n!="function")throw new Fr(c);return l=l===s?l:qt(l),bt(n,l)}function T_(n,l){if(typeof n!="function")throw new Fr(c);return l=l==null?0:Zn(qt(l),0),bt(function(p){var x=p[l],k=Fo(p,0,l);return x&&ki(k,x),ln(n,this,k)})}function C_(n,l,p){var x=!0,k=!0;if(typeof n!="function")throw new Fr(c);return jn(p)&&(x="leading"in p?!!p.leading:x,k="trailing"in p?!!p.trailing:k),mm(n,l,{leading:x,maxWait:l,trailing:k})}function k_(n){return cm(n,1)}function A_(n,l){return jd(Er(l),n)}function R_(){if(!arguments.length)return[];var n=arguments[0];return Wt(n)?n:[n]}function P_(n){return ri(n,S)}function L_(n,l){return l=typeof l=="function"?l:s,ri(n,S,l)}function I_(n){return ri(n,y|S)}function M_(n,l){return l=typeof l=="function"?l:s,ri(n,y|S,l)}function O_(n,l){return l==null||ul(n,l,kr(l))}function yo(n,l){return n===l||n!==n&&l!==l}var U_=wt(Ps),N_=wt(function(n,l){return n>=l}),Bs=Ht(function(){return arguments}())?Ht:function(n){return Xn(n)&&dn.call(n,"callee")&&!rl.call(n,"callee")},Wt=ye.isArray,D_=uo?Nr(uo):Hn;function _i(n){return n!=null&&cf(n.length)&&!da(n)}function er(n){return Xn(n)&&_i(n)}function F_(n){return n===!0||n===!1||Xn(n)&&lr(n)==_e}var Qa=Sc||Zd,z_=$o?Nr($o):Vn;function B_(n){return Xn(n)&&n.nodeType===1&&!Nu(n)}function j_(n){if(n==null)return!0;if(_i(n)&&(Wt(n)||typeof n=="string"||typeof n.splice=="function"||Qa(n)||El(n)||Bs(n)))return!n.length;var l=Kr(n);if(l==ot||l==Te)return!n.size;if(Ou(n))return!xr(n).length;for(var p in n)if(dn.call(n,p))return!1;return!0}function G_(n,l){return zn(n,l)}function W_(n,l,p){p=typeof p=="function"?p:s;var x=p?p(n,l):s;return x===s?zn(n,l,s,p):!!x}function Gd(n){if(!Xn(n))return!1;var l=lr(n);return l==Le||l==je||typeof n.message=="string"&&typeof n.name=="string"&&!Nu(n)}function H_(n){return typeof n=="number"&&lu(n)}function da(n){if(!jn(n))return!1;var l=lr(n);return l==Ce||l==ht||l==fe||l==lt}function vm(n){return typeof n=="number"&&n==qt(n)}function cf(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=X}function jn(n){var l=typeof n;return n!=null&&(l=="object"||l=="function")}function Xn(n){return n!=null&&typeof n=="object"}var ym=us?Nr(us):Va;function V_(n,l){return n===l||Bn(n,l,Id(l))}function Y_(n,l,p){return p=typeof p=="function"?p:s,Bn(n,l,Id(l),p)}function X_(n){return _m(n)&&n!=+n}function J_(n){if(L1(n))throw new Lt(o);return Ya(n)}function q_(n){return n===null}function K_(n){return n==null}function _m(n){return typeof n=="number"||Xn(n)&&lr(n)==Ve}function Nu(n){if(!Xn(n)||lr(n)!=et)return!1;var l=_s(n);if(l===null)return!0;var p=dn.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&Da.call(p)==ta}var Wd=qn?Nr(qn):Xa;function Q_(n){return vm(n)&&n>=-X&&n<=X}var wm=vr?Nr(vr):fl;function ff(n){return typeof n=="string"||!Wt(n)&&Xn(n)&&lr(n)==xt}function Di(n){return typeof n=="symbol"||Xn(n)&&lr(n)==Ge}var El=On?Nr(On):bu;function Z_(n){return n===s}function $_(n){return Xn(n)&&Kr(n)==Be}function ew(n){return Xn(n)&&lr(n)==$t}var tw=wt(Ls),nw=wt(function(n,l){return n<=l});function xm(n){if(!n)return[];if(_i(n))return ff(n)?Un(n):Tr(n);if(Ro&&n[Ro])return Pa(n[Ro]());var l=Kr(n),p=l==ot?ps:l==Te?ms:Tl;return p(n)}function ha(n){if(!n)return n===0?n:0;if(n=no(n),n===Ee||n===-Ee){var l=n<0?-1:1;return l*K}return n===n?n:0}function qt(n){var l=ha(n),p=l%1;return l===l?p?l-p:l:0}function Sm(n){return n?Io(qt(n),0,B):0}function no(n){if(typeof n=="number")return n;if(Di(n))return H;if(jn(n)){var l=typeof n.valueOf=="function"?n.valueOf():n;n=jn(l)?l+"":l}if(typeof n!="string")return n===0?n:+n;n=el(n);var p=oo.test(n);return p||as.test(n)?ls(n.slice(2),p?2:8):Ea.test(n)?H:+n}function bm(n){return yi(n,wi(n))}function rw(n){return n?Io(qt(n),-X,X):n===0?n:0}function gn(n){return n==null?"":br(n)}var iw=ca(function(n,l){if(Ou(l)||_i(l)){yi(l,kr(l),n);return}for(var p in l)dn.call(l,p)&&Mi(n,p,l[p])}),Em=ca(function(n,l){yi(l,wi(l),n)}),df=ca(function(n,l,p,x){yi(l,wi(l),n,x)}),ow=ca(function(n,l,p,x){yi(l,kr(l),n,x)}),aw=Yt(ll);function sw(n,l){var p=mo(n);return l==null?p:vu(p,l)}var lw=bt(function(n,l){n=At(n);var p=-1,x=l.length,k=x>2?l[2]:s;for(k&&li(l[0],l[1],k)&&(x=1);++p<x;)for(var z=l[p],Z=wi(z),ne=-1,he=Z.length;++ne<he;){var ke=Z[ne],Ae=n[ke];(Ae===s||yo(Ae,Na[ke])&&!dn.call(n,ke))&&(n[ke]=z[ke])}return n}),uw=bt(function(n){return n.push(s,we),ln(Tm,s,n)});function cw(n,l){return eu(n,kt(l,3),ii)}function fw(n,l){return eu(n,kt(l,3),Wa)}function dw(n,l){return n==null?n:Ga(n,kt(l,3),wi)}function hw(n,l){return n==null?n:Rs(n,kt(l,3),wi)}function pw(n,l){return n&&ii(n,kt(l,3))}function mw(n,l){return n&&Wa(n,kt(l,3))}function gw(n){return n==null?[]:sa(n,kr(n))}function vw(n){return n==null?[]:sa(n,wi(n))}function Hd(n,l,p){var x=n==null?s:Ui(n,l);return x===s?p:x}function yw(n,l){return n!=null&&Hp(n,l,Xc)}function Vd(n,l){return n!=null&&Hp(n,l,xu)}var _w=V(function(n,l,p){l!=null&&typeof l.toString!="function"&&(l=ti.call(l)),n[l]=p},Xd(xi)),ww=V(function(n,l,p){l!=null&&typeof l.toString!="function"&&(l=ti.call(l)),dn.call(n,l)?n[l].push(p):n[l]=[p]},kt),xw=bt(En);function kr(n){return _i(n)?We(n):xr(n)}function wi(n){return _i(n)?We(n,!0):Eu(n)}function Sw(n,l){var p={};return l=kt(l,3),ii(n,function(x,k,z){Qi(p,l(x,k,z),x)}),p}function bw(n,l){var p={};return l=kt(l,3),ii(n,function(x,k,z){Qi(p,k,l(x,k,z))}),p}var Ew=ca(function(n,l,p){Ni(n,l,p)}),Tm=ca(function(n,l,p,x){Ni(n,l,p,x)}),Tw=Yt(function(n,l){var p={};if(n==null)return p;var x=!1;l=Sn(l,function(z){return z=Do(z,n),x||(x=z.length>1),z}),yi(n,on(n),p),x&&(p=ri(p,y|w|S,qe));for(var k=l.length;k--;)Au(p,l[k]);return p});function Cw(n,l){return Cm(n,uf(kt(l)))}var kw=Yt(function(n,l){return n==null?{}:Os(n,l)});function Cm(n,l){if(n==null)return{};var p=Sn(on(n),function(x){return[x]});return l=kt(l),pl(n,p,function(x,k){return l(x,k[0])})}function Aw(n,l,p){l=Do(l,n);var x=-1,k=l.length;for(k||(k=1,n=s);++x<k;){var z=n==null?s:n[Bo(l[x])];z===s&&(x=k,z=p),n=da(z)?z.call(n):z}return n}function Rw(n,l,p){return n==null?n:ua(n,l,p)}function Pw(n,l,p,x){return x=typeof x=="function"?x:s,n==null?n:ua(n,l,p,x)}var km=si(kr),Am=si(wi);function Lw(n,l,p){var x=Wt(n),k=x||Qa(n)||El(n);if(l=kt(l,4),p==null){var z=n&&n.constructor;k?p=x?new z:[]:jn(n)?p=da(z)?mo(_s(n)):{}:p={}}return(k?Kn:ii)(n,function(Z,ne,he){return l(p,Z,ne,he)}),p}function Iw(n,l){return n==null?!0:Au(n,l)}function Mw(n,l,p){return n==null?n:Ru(n,l,Er(p))}function Ow(n,l,p,x){return x=typeof x=="function"?x:s,n==null?n:Ru(n,l,Er(p),x)}function Tl(n){return n==null?[]:Dr(n,kr(n))}function Uw(n){return n==null?[]:Dr(n,wi(n))}function Nw(n,l,p){return p===s&&(p=l,l=s),p!==s&&(p=no(p),p=p===p?p:0),l!==s&&(l=no(l),l=l===l?l:0),Io(no(n),l,p)}function Dw(n,l,p){return l=ha(l),p===s?(p=l,l=0):p=ha(p),n=no(n),Ad(n,l,p)}function Fw(n,l,p){if(p&&typeof p!="boolean"&&li(n,l,p)&&(l=p=s),p===s&&(typeof l=="boolean"?(p=l,l=s):typeof n=="boolean"&&(p=n,n=s)),n===s&&l===s?(n=0,l=1):(n=ha(n),l===s?(l=n,n=0):l=ha(l)),n>l){var x=n;n=l,l=x}if(p||n%1||l%1){var k=uu();return _r(n+k*(l-n+ss("1e-"+((k+"").length-1))),l)}return Zi(n,l)}var zw=r(function(n,l,p){return l=l.toLowerCase(),n+(p?Rm(l):l)});function Rm(n){return Yd(gn(n).toLowerCase())}function Pm(n){return n=gn(n),n&&n.replace(bo,mc).replace(Fe,"")}function Bw(n,l,p){n=gn(n),l=br(l);var x=n.length;p=p===s?x:Io(qt(p),0,x);var k=p;return p-=l.length,p>=0&&n.slice(p,k)==l}function jw(n){return n=gn(n),n&&zt.test(n)?n.replace(Pn,gc):n}function Gw(n){return n=gn(n),n&&Pr.test(n)?n.replace(xn,"\\$&"):n}var Ww=r(function(n,l,p){return n+(p?"-":"")+l.toLowerCase()}),Hw=r(function(n,l,p){return n+(p?" ":"")+l.toLowerCase()}),Vw=tf("toLowerCase");function Yw(n,l,p){n=gn(n),l=qt(l);var x=l?Yi(n):0;if(!l||x>=l)return n;var k=(l-x)/2;return De(Ss(k),p)+n+De(xs(k),p)}function Xw(n,l,p){n=gn(n),l=qt(l);var x=l?Yi(n):0;return l&&x<l?n+De(l-x,p):n}function Jw(n,l,p){n=gn(n),l=qt(l);var x=l?Yi(n):0;return l&&x<l?De(l-x,p)+n:n}function qw(n,l,p){return p||l==null?l=0:l&&(l=+l),Tc(gn(n).replace(Lr,""),l||0)}function Kw(n,l,p){return(p?li(n,l,p):l===s)?l=1:l=qt(l),Ka(gn(n),l)}function Qw(){var n=arguments,l=gn(n[0]);return n.length<3?l:l.replace(n[1],n[2])}var Zw=r(function(n,l,p){return n+(p?"_":"")+l.toLowerCase()});function $w(n,l,p){return p&&typeof p!="number"&&li(n,l,p)&&(l=p=s),p=p===s?B:p>>>0,p?(n=gn(n),n&&(typeof l=="string"||l!=null&&!Wd(l))&&(l=br(l),!l&&ea(n))?Fo(Un(n),0,p):n.split(l,p)):[]}var ex=r(function(n,l,p){return n+(p?" ":"")+Yd(l)});function tx(n,l,p){return n=gn(n),p=p==null?0:Io(qt(p),0,n.length),l=br(l),n.slice(p,p+l.length)==l}function nx(n,l,p){var x=O.templateSettings;p&&li(n,l,p)&&(l=s),n=gn(n),l=df({},l,x,de);var k=df({},l.imports,x.imports,de),z=kr(k),Z=Dr(k,z),ne,he,ke=0,Ae=l.interpolate||Ln,Me="__p += '",Je=nr((l.escape||Ln).source+"|"+Ae.source+"|"+(Ae===St?qo:Ln).source+"|"+(l.evaluate||Ln).source+"|$","g"),yt="//# sourceURL="+(dn.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ut+"]")+`
`;n.replace(Je,function(Pt,rn,un,Fi,ui,zi){return un||(un=Fi),Me+=n.slice(ke,zi).replace(fi,tu),rn&&(ne=!0,Me+=`' +
__e(`+rn+`) +
'`),ui&&(he=!0,Me+=`';
`+ui+`;
__p += '`),un&&(Me+=`' +
((__t = (`+un+`)) == null ? '' : __t) +
'`),ke=zi+Pt.length,Pt}),Me+=`';
`;var Rt=dn.call(l,"variable")&&l.variable;if(!Rt)Me=`with (obj) {
`+Me+`
}
`;else if(bi.test(Rt))throw new Lt(h);Me=(he?Me.replace(rt,""):Me).replace(ft,"$1").replace(Ze,"$1;"),Me="function("+(Rt||"obj")+`) {
`+(Rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var Kt=Im(function(){return Gt(z,yt+"return "+Me).apply(s,Z)});if(Kt.source=Me,Gd(Kt))throw Kt;return Kt}function rx(n){return gn(n).toLowerCase()}function ix(n){return gn(n).toUpperCase()}function ox(n,l,p){if(n=gn(n),n&&(p||l===s))return el(n);if(!n||!(l=br(l)))return n;var x=Un(n),k=Un(l),z=bn(x,k),Z=Ra(x,k)+1;return Fo(x,z,Z).join("")}function ax(n,l,p){if(n=gn(n),n&&(p||l===s))return n.slice(0,Ma(n)+1);if(!n||!(l=br(l)))return n;var x=Un(n),k=Ra(x,Un(l))+1;return Fo(x,0,k).join("")}function sx(n,l,p){if(n=gn(n),n&&(p||l===s))return n.replace(Lr,"");if(!n||!(l=br(l)))return n;var x=Un(n),k=bn(x,Un(l));return Fo(x,k).join("")}function lx(n,l){var p=J,x=ie;if(jn(l)){var k="separator"in l?l.separator:k;p="length"in l?qt(l.length):p,x="omission"in l?br(l.omission):x}n=gn(n);var z=n.length;if(ea(n)){var Z=Un(n);z=Z.length}if(p>=z)return n;var ne=p-Yi(x);if(ne<1)return x;var he=Z?Fo(Z,0,ne).join(""):n.slice(0,ne);if(k===s)return he+x;if(Z&&(ne+=he.length-ne),Wd(k)){if(n.slice(ne).search(k)){var ke,Ae=he;for(k.global||(k=nr(k.source,gn(ba.exec(k))+"g")),k.lastIndex=0;ke=k.exec(Ae);)var Me=ke.index;he=he.slice(0,Me===s?ne:Me)}}else if(n.indexOf(br(k),ne)!=ne){var Je=he.lastIndexOf(k);Je>-1&&(he=he.slice(0,Je))}return he+x}function ux(n){return n=gn(n),n&&an.test(n)?n.replace(Ot,Oa):n}var cx=r(function(n,l,p){return n+(p?" ":"")+l.toUpperCase()}),Yd=tf("toUpperCase");function Lm(n,l,p){return n=gn(n),l=p?s:l,l===s?hs(n)?Ua(n):hc(n):n.match(l)||[]}var Im=bt(function(n,l){try{return ln(n,s,l)}catch(p){return Gd(p)?p:new Lt(p)}}),fx=Yt(function(n,l){return Kn(l,function(p){p=Bo(p),Qi(n,p,Bd(n[p],n))}),n});function dx(n){var l=n==null?0:n.length,p=kt();return n=l?Sn(n,function(x){if(typeof x[1]!="function")throw new Fr(c);return[p(x[0]),x[1]]}):[],bt(function(x){for(var k=-1;++k<l;){var z=n[k];if(ln(z[0],this,x))return ln(z[1],this,x)}})}function hx(n){return yu(ri(n,y))}function Xd(n){return function(){return n}}function px(n,l){return n==null||n!==n?l:n}var mx=_(),gx=_(!0);function xi(n){return n}function Jd(n){return Ja(typeof n=="function"?n:ri(n,y))}function vx(n){return Is(ri(n,y))}function yx(n,l){return dl(n,ri(l,y))}var _x=bt(function(n,l){return function(p){return En(p,n,l)}}),wx=bt(function(n,l){return function(p){return En(n,p,l)}});function qd(n,l,p){var x=kr(l),k=sa(l,x);p==null&&!(jn(l)&&(k.length||!x.length))&&(p=l,l=n,n=this,k=sa(l,kr(l)));var z=!(jn(p)&&"chain"in p)||!!p.chain,Z=da(n);return Kn(k,function(ne){var he=l[ne];n[ne]=he,Z&&(n.prototype[ne]=function(){var ke=this.__chain__;if(z||ke){var Ae=n(this.__wrapped__),Me=Ae.__actions__=Tr(this.__actions__);return Me.push({func:he,args:arguments,thisArg:n}),Ae.__chain__=ke,Ae}return he.apply(n,ki([this.value()],arguments))})}),n}function xx(){return kn._===this&&(kn._=tl),this}function Kd(){}function Sx(n){return n=qt(n),bt(function(l){return go(l,n)})}var bx=Se(Sn),Ex=Se($l),Tx=Se(cs);function Mm(n){return Od(n)?Jr(Bo(n)):ml(n)}function Cx(n){return function(l){return n==null?s:Ui(n,l)}}var kx=Bt(),Ax=Bt(!0);function Qd(){return[]}function Zd(){return!1}function Rx(){return{}}function Px(){return""}function Lx(){return!0}function Ix(n,l){if(n=qt(n),n<1||n>X)return[];var p=B,x=_r(n,B);l=kt(l),n-=B;for(var k=fo(x,l);++p<n;)l(p);return k}function Mx(n){return Wt(n)?Sn(n,Bo):Di(n)?[n]:Tr($p(gn(n)))}function Ox(n){var l=++iu;return gn(n)+l}var Ux=ue(function(n,l){return n+l},0),Nx=pt("ceil"),Dx=ue(function(n,l){return n/l},1),Fx=pt("floor");function zx(n){return n&&n.length?As(n,xi,Ps):s}function Bx(n,l){return n&&n.length?As(n,kt(l,2),Ps):s}function jx(n){return ds(n,xi)}function Gx(n,l){return ds(n,kt(l,2))}function Wx(n){return n&&n.length?As(n,xi,Ls):s}function Hx(n,l){return n&&n.length?As(n,kt(l,2),Ls):s}var Vx=ue(function(n,l){return n*l},1),Yx=pt("round"),Xx=ue(function(n,l){return n-l},0);function Jx(n){return n&&n.length?Ri(n,xi):0}function qx(n,l){return n&&n.length?Ri(n,kt(l,2)):0}return O.after=v_,O.ary=cm,O.assign=iw,O.assignIn=Em,O.assignInWith=df,O.assignWith=ow,O.at=aw,O.before=fm,O.bind=Bd,O.bindAll=fx,O.bindKey=dm,O.castArray=R_,O.chain=sm,O.chunk=F1,O.compact=z1,O.concat=B1,O.cond=dx,O.conforms=hx,O.constant=Xd,O.countBy=Jy,O.create=sw,O.curry=hm,O.curryRight=pm,O.debounce=mm,O.defaults=lw,O.defaultsDeep=uw,O.defer=y_,O.delay=__,O.difference=j1,O.differenceBy=G1,O.differenceWith=W1,O.drop=H1,O.dropRight=V1,O.dropRightWhile=Y1,O.dropWhile=X1,O.fill=J1,O.filter=Ky,O.flatMap=$y,O.flatMapDeep=e_,O.flatMapDepth=t_,O.flatten=rm,O.flattenDeep=q1,O.flattenDepth=K1,O.flip=w_,O.flow=mx,O.flowRight=gx,O.fromPairs=Q1,O.functions=gw,O.functionsIn=vw,O.groupBy=n_,O.initial=$1,O.intersection=ey,O.intersectionBy=ty,O.intersectionWith=ny,O.invert=_w,O.invertBy=ww,O.invokeMap=i_,O.iteratee=Jd,O.keyBy=o_,O.keys=kr,O.keysIn=wi,O.map=af,O.mapKeys=Sw,O.mapValues=bw,O.matches=vx,O.matchesProperty=yx,O.memoize=lf,O.merge=Ew,O.mergeWith=Tm,O.method=_x,O.methodOf=wx,O.mixin=qd,O.negate=uf,O.nthArg=Sx,O.omit=Tw,O.omitBy=Cw,O.once=x_,O.orderBy=a_,O.over=bx,O.overArgs=S_,O.overEvery=Ex,O.overSome=Tx,O.partial=jd,O.partialRight=gm,O.partition=s_,O.pick=kw,O.pickBy=Cm,O.property=Mm,O.propertyOf=Cx,O.pull=ay,O.pullAll=om,O.pullAllBy=sy,O.pullAllWith=ly,O.pullAt=uy,O.range=kx,O.rangeRight=Ax,O.rearg=b_,O.reject=c_,O.remove=cy,O.rest=E_,O.reverse=Fd,O.sampleSize=d_,O.set=Rw,O.setWith=Pw,O.shuffle=h_,O.slice=fy,O.sortBy=g_,O.sortedUniq=yy,O.sortedUniqBy=_y,O.split=$w,O.spread=T_,O.tail=wy,O.take=xy,O.takeRight=Sy,O.takeRightWhile=by,O.takeWhile=Ey,O.tap=zy,O.throttle=C_,O.thru=of,O.toArray=xm,O.toPairs=km,O.toPairsIn=Am,O.toPath=Mx,O.toPlainObject=bm,O.transform=Lw,O.unary=k_,O.union=Ty,O.unionBy=Cy,O.unionWith=ky,O.uniq=Ay,O.uniqBy=Ry,O.uniqWith=Py,O.unset=Iw,O.unzip=zd,O.unzipWith=am,O.update=Mw,O.updateWith=Ow,O.values=Tl,O.valuesIn=Uw,O.without=Ly,O.words=Lm,O.wrap=A_,O.xor=Iy,O.xorBy=My,O.xorWith=Oy,O.zip=Uy,O.zipObject=Ny,O.zipObjectDeep=Dy,O.zipWith=Fy,O.entries=km,O.entriesIn=Am,O.extend=Em,O.extendWith=df,qd(O,O),O.add=Ux,O.attempt=Im,O.camelCase=zw,O.capitalize=Rm,O.ceil=Nx,O.clamp=Nw,O.clone=P_,O.cloneDeep=I_,O.cloneDeepWith=M_,O.cloneWith=L_,O.conformsTo=O_,O.deburr=Pm,O.defaultTo=px,O.divide=Dx,O.endsWith=Bw,O.eq=yo,O.escape=jw,O.escapeRegExp=Gw,O.every=qy,O.find=Qy,O.findIndex=tm,O.findKey=cw,O.findLast=Zy,O.findLastIndex=nm,O.findLastKey=fw,O.floor=Fx,O.forEach=lm,O.forEachRight=um,O.forIn=dw,O.forInRight=hw,O.forOwn=pw,O.forOwnRight=mw,O.get=Hd,O.gt=U_,O.gte=N_,O.has=yw,O.hasIn=Vd,O.head=im,O.identity=xi,O.includes=r_,O.indexOf=Z1,O.inRange=Dw,O.invoke=xw,O.isArguments=Bs,O.isArray=Wt,O.isArrayBuffer=D_,O.isArrayLike=_i,O.isArrayLikeObject=er,O.isBoolean=F_,O.isBuffer=Qa,O.isDate=z_,O.isElement=B_,O.isEmpty=j_,O.isEqual=G_,O.isEqualWith=W_,O.isError=Gd,O.isFinite=H_,O.isFunction=da,O.isInteger=vm,O.isLength=cf,O.isMap=ym,O.isMatch=V_,O.isMatchWith=Y_,O.isNaN=X_,O.isNative=J_,O.isNil=K_,O.isNull=q_,O.isNumber=_m,O.isObject=jn,O.isObjectLike=Xn,O.isPlainObject=Nu,O.isRegExp=Wd,O.isSafeInteger=Q_,O.isSet=wm,O.isString=ff,O.isSymbol=Di,O.isTypedArray=El,O.isUndefined=Z_,O.isWeakMap=$_,O.isWeakSet=ew,O.join=ry,O.kebabCase=Ww,O.last=to,O.lastIndexOf=iy,O.lowerCase=Hw,O.lowerFirst=Vw,O.lt=tw,O.lte=nw,O.max=zx,O.maxBy=Bx,O.mean=jx,O.meanBy=Gx,O.min=Wx,O.minBy=Hx,O.stubArray=Qd,O.stubFalse=Zd,O.stubObject=Rx,O.stubString=Px,O.stubTrue=Lx,O.multiply=Vx,O.nth=oy,O.noConflict=xx,O.noop=Kd,O.now=sf,O.pad=Yw,O.padEnd=Xw,O.padStart=Jw,O.parseInt=qw,O.random=Fw,O.reduce=l_,O.reduceRight=u_,O.repeat=Kw,O.replace=Qw,O.result=Aw,O.round=Yx,O.runInContext=re,O.sample=f_,O.size=p_,O.snakeCase=Zw,O.some=m_,O.sortedIndex=dy,O.sortedIndexBy=hy,O.sortedIndexOf=py,O.sortedLastIndex=my,O.sortedLastIndexBy=gy,O.sortedLastIndexOf=vy,O.startCase=ex,O.startsWith=tx,O.subtract=Xx,O.sum=Jx,O.sumBy=qx,O.template=nx,O.times=Ix,O.toFinite=ha,O.toInteger=qt,O.toLength=Sm,O.toLower=rx,O.toNumber=no,O.toSafeInteger=rw,O.toString=gn,O.toUpper=ix,O.trim=ox,O.trimEnd=ax,O.trimStart=sx,O.truncate=lx,O.unescape=ux,O.uniqueId=Ox,O.upperCase=cx,O.upperFirst=Yd,O.each=lm,O.eachRight=um,O.first=im,qd(O,function(){var n={};return ii(O,function(l,p){dn.call(O.prototype,p)||(n[p]=l)}),n}(),{chain:!1}),O.VERSION=u,Kn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){O[n].placeholder=O}),Kn(["drop","take"],function(n,l){Et.prototype[n]=function(p){p=p===s?1:Zn(qt(p),0);var x=this.__filtered__&&!l?new Et(this):this.clone();return x.__filtered__?x.__takeCount__=_r(p,x.__takeCount__):x.__views__.push({size:_r(p,B),type:n+(x.__dir__<0?"Right":"")}),x},Et.prototype[n+"Right"]=function(p){return this.reverse()[n](p).reverse()}}),Kn(["filter","map","takeWhile"],function(n,l){var p=l+1,x=p==pe||p==se;Et.prototype[n]=function(k){var z=this.clone();return z.__iteratees__.push({iteratee:kt(k,3),type:p}),z.__filtered__=z.__filtered__||x,z}}),Kn(["head","last"],function(n,l){var p="take"+(l?"Right":"");Et.prototype[n]=function(){return this[p](1).value()[0]}}),Kn(["initial","tail"],function(n,l){var p="drop"+(l?"":"Right");Et.prototype[n]=function(){return this.__filtered__?new Et(this):this[p](1)}}),Et.prototype.compact=function(){return this.filter(xi)},Et.prototype.find=function(n){return this.filter(n).head()},Et.prototype.findLast=function(n){return this.reverse().find(n)},Et.prototype.invokeMap=bt(function(n,l){return typeof n=="function"?new Et(this):this.map(function(p){return En(p,n,l)})}),Et.prototype.reject=function(n){return this.filter(uf(kt(n)))},Et.prototype.slice=function(n,l){n=qt(n);var p=this;return p.__filtered__&&(n>0||l<0)?new Et(p):(n<0?p=p.takeRight(-n):n&&(p=p.drop(n)),l!==s&&(l=qt(l),p=l<0?p.dropRight(-l):p.take(l-n)),p)},Et.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Et.prototype.toArray=function(){return this.take(B)},ii(Et.prototype,function(n,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),x=/^(?:head|last)$/.test(l),k=O[x?"take"+(l=="last"?"Right":""):l],z=x||/^find/.test(l);k&&(O.prototype[l]=function(){var Z=this.__wrapped__,ne=x?[1]:arguments,he=Z instanceof Et,ke=ne[0],Ae=he||Wt(Z),Me=function(rn){var un=k.apply(O,ki([rn],ne));return x&&Je?un[0]:un};Ae&&p&&typeof ke=="function"&&ke.length!=1&&(he=Ae=!1);var Je=this.__chain__,yt=!!this.__actions__.length,Rt=z&&!Je,Kt=he&&!yt;if(!z&&Ae){Z=Kt?Z:new Et(this);var Pt=n.apply(Z,ne);return Pt.__actions__.push({func:of,args:[Me],thisArg:s}),new wr(Pt,Je)}return Rt&&Kt?n.apply(this,ne):(Pt=this.thru(Me),Rt?x?Pt.value()[0]:Pt.value():Pt)})}),Kn(["pop","push","shift","sort","splice","unshift"],function(n){var l=ko[n],p=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",x=/^(?:pop|shift)$/.test(n);O.prototype[n]=function(){var k=arguments;if(x&&!this.__chain__){var z=this.value();return l.apply(Wt(z)?z:[],k)}return this[p](function(Z){return l.apply(Wt(Z)?Z:[],k)})}}),ii(Et.prototype,function(n,l){var p=O[l];if(p){var x=p.name+"";dn.call(ia,x)||(ia[x]=[]),ia[x].push({name:l,func:p})}}),ia[b(s,A).name]=[{name:"wrapper",func:s}],Et.prototype.clone=Sd,Et.prototype.reverse=bd,Et.prototype.value=ni,O.prototype.at=By,O.prototype.chain=jy,O.prototype.commit=Gy,O.prototype.next=Wy,O.prototype.plant=Vy,O.prototype.reverse=Yy,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=Xy,O.prototype.first=O.prototype.head,Ro&&(O.prototype[Ro]=Hy),O},Co=_c();Dn?((Dn.exports=Co)._=Co,lo._=Co):kn._=Co}).call(uE)}(Hu,Hu.exports)),Hu.exports}cE();function fE(){try{const e=localStorage.getItem("ui");return e===null?void 0:JSON.parse(e)}catch(e){console.error("Failed to load ui state from localStorage",e);return}}function dE(){try{const e=localStorage.getItem("theme");return e===null?void 0:JSON.parse(e)}catch(e){console.error("Failed to load theme state from localStorage",e);return}}function hE(){const e="/fanuc_lrmate200id_support/urdf/lrmate200id7l.urdf";return console.log(`URDF Path resolved: ${e}`),e}const pE=e=>e*(Math.PI/180),mE=e=>e*(180/Math.PI),fv=$.createContext(void 0),Jl=()=>{const e=$.useContext(fv);if(!e)throw new Error("useJoints must be used within a JointProvider");return e},sd={joint_1:"J1",joint_2:"J2",joint_3:"J3",joint_4:"J4",joint_5:"J5",joint_6:"J6"},dv=Object.keys(sd).reduce((e,t)=>(e[t]=!0,e),{}),gE=100,$u=4,vE=332,yE=332,_E=510,wE=e=>{const[t,s]=$.useState({});return $.useEffect(()=>{const u=setInterval(()=>{const a=Object.keys(e).reduce((o,c)=>{const h=e[c];return o[c]=Number(h.angle),o},{});s(a)},gE);return()=>clearInterval(u)},[e]),t},xE=({children:e})=>{const[t,s]=$.useState({}),u=(h,d)=>{const m=t[h];m&&m.setJointValue(d)},a=$.useCallback(h=>{s(d=>({...d,...h}))},[]),o=()=>Object.keys(t).reduce((h,d)=>{const m=t[d];return h[d]=Number(m.angle),h},{}),c=wE(t);return Pe.jsx(fv.Provider,{value:{joints:t,updateJoint:u,updateJoints:a,jointValues:c,getJointValues:o},children:e})},hv=$.createContext(void 0),SE={x:1,y:1,z:1,r1:1,r2:1,r3:1},bE=({children:e})=>{const[t,s]=$.useState(SE),u=o=>{s(c=>"positions"in o?o.positions:{...c,[o.position]:o.value})},a=(o,c)=>{s(h=>({...h,[o]:c}))};return Pe.jsx(hv.Provider,{value:{positions:t,updateCartesianPositions:u,updateCartesianPosition:a},children:e})},EE=()=>{const e=$.useContext(hv);if(!e)throw new Error("useCartesian must be used within a CartesianProvider");return e},TE=hE(),CE=()=>{const{updateJoints:e}=Jl(),{scene:t}=ro();return $.useEffect(()=>(new lE().load(TE,u=>{console.log("Loaded robot:",u),t.add(u);const a={};Object.entries(u.joints).forEach(([o,c])=>{a[o]=c}),e(a)},void 0,u=>{console.error("Error loading URDF:",u)}),()=>{t.clear()}),[t,e]),null};var kh={exports:{}},Ah={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function kE(){if(Hg)return Ah;Hg=1;var e=id();function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var s=typeof Object.is=="function"?Object.is:t,u=e.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,h=e.useDebugValue;return Ah.useSyncExternalStoreWithSelector=function(d,m,g,y,w){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function R(F){if(!A){if(A=!0,I=F,F=y(F),w!==void 0&&E.hasValue){var G=E.value;if(w(G,F))return L=G}return L=F}if(G=L,s(I,F))return G;var j=y(F);return w!==void 0&&w(G,j)?(I=F,G):(I=F,L=j)}var A=!1,I,L,D=g===void 0?null:g;return[function(){return R(m())},D===null?void 0:function(){return R(D())}]},[m,g,y,w]);var P=u(d,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=P},[P]),h(P),P},Ah}var Vg;function AE(){return Vg||(Vg=1,kh.exports=kE()),kh.exports}var RE=AE();function PE(e){e()}function LE(){let e=null,t=null;return{clear(){e=null,t=null},notify(){PE(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let u=e;for(;u;)s.push(u),u=u.next;return s},subscribe(s){let u=!0;const a=t={callback:s,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!u||e===null||(u=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Yg={notify(){},get:()=>[]};function IE(e,t){let s,u=Yg,a=0,o=!1;function c(P){g();const R=u.subscribe(P);let A=!1;return()=>{A||(A=!0,R(),y())}}function h(){u.notify()}function d(){E.onStateChange&&E.onStateChange()}function m(){return o}function g(){a++,s||(s=e.subscribe(d),u=LE())}function y(){a--,s&&a===0&&(s(),s=void 0,u.clear(),u=Yg)}function w(){o||(o=!0,g())}function S(){o&&(o=!1,y())}const E={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:d,isSubscribed:m,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>u};return E}var ME=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OE=ME(),UE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",NE=UE(),DE=()=>OE||NE?$.useLayoutEffect:$.useEffect,FE=DE(),Rh=Symbol.for("react-redux-context"),Ph=typeof globalThis<"u"?globalThis:{};function zE(){if(!$.createContext)return{};const e=Ph[Rh]??(Ph[Rh]=new Map);let t=e.get($.createContext);return t||(t=$.createContext(null),e.set($.createContext,t)),t}var is=zE();function BE(e){const{children:t,context:s,serverState:u,store:a}=e,o=$.useMemo(()=>{const d=IE(a);return{store:a,subscription:d,getServerState:u?()=>u:void 0}},[a,u]),c=$.useMemo(()=>a.getState(),[a]);FE(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,c]);const h=s||is;return $.createElement(h.Provider,{value:o},t)}var jE=BE;function kp(e=is){return function(){return $.useContext(e)}}var pv=kp();function mv(e=is){const t=e===is?pv:kp(e),s=()=>{const{store:u}=t();return u};return Object.assign(s,{withTypes:()=>s}),s}var GE=mv();function WE(e=is){const t=e===is?GE:mv(e),s=()=>t().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var HE=WE(),VE=(e,t)=>e===t;function YE(e=is){const t=e===is?pv:kp(e),s=(u,a={})=>{const{equalityFn:o=VE}=typeof a=="function"?{equalityFn:a}:a,c=t(),{store:h,subscription:d,getServerState:m}=c;$.useRef(!0);const g=$.useCallback({[u.name](w){return u(w)}}[u.name],[u]),y=RE.useSyncExternalStoreWithSelector(d.addNestedSub,h.getState,m||h.getState,g,o);return $.useDebugValue(y),y};return Object.assign(s,{withTypes:()=>s}),s}var ql=YE();const XE=()=>{const{joints:e}=Jl(),{jointAnimationEnabled:t}=ql(u=>u.settings),s=$.useRef(null);return $.useEffect(()=>{const u=()=>{const a=Date.now()*.001;Object.keys(e).forEach((o,c)=>{e[o].setJointValue(Math.sin(a+c)*Math.PI/4)}),s.current=requestAnimationFrame(u)};return t?s.current=requestAnimationFrame(u):s.current&&(cancelAnimationFrame(s.current),s.current=null),()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null)}},[e,t]),null};var Rr=function(){return Rr=Object.assign||function(t){for(var s,u=1,a=arguments.length;u<a;u++){s=arguments[u];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Rr.apply(this,arguments)};function ec(e,t,s){if(s||arguments.length===2)for(var u=0,a=t.length,o;u<a;u++)(o||!(u in t))&&(o||(o=Array.prototype.slice.call(t,0,u)),o[u]=t[u]);return e.concat(o||Array.prototype.slice.call(t))}var An="-ms-",Qu="-moz-",vn="-webkit-",gv="comm",ld="rule",Ap="decl",JE="@import",vv="@keyframes",qE="@layer",yv=Math.abs,Rp=String.fromCharCode,rp=Object.assign;function KE(e,t){return Ar(e,0)^45?(((t<<2^Ar(e,0))<<2^Ar(e,1))<<2^Ar(e,2))<<2^Ar(e,3):0}function _v(e){return e.trim()}function ga(e,t){return(e=t.exec(e))?e[0]:e}function Qt(e,t,s){return e.replace(t,s)}function Ff(e,t,s){return e.indexOf(t,s)}function Ar(e,t){return e.charCodeAt(t)|0}function Gl(e,t,s){return e.slice(t,s)}function Ho(e){return e.length}function wv(e){return e.length}function Vu(e,t){return t.push(e),e}function QE(e,t){return e.map(t).join("")}function Xg(e,t){return e.filter(function(s){return!ga(s,t)})}var ud=1,Wl=1,xv=0,io=0,or=0,Kl="";function cd(e,t,s,u,a,o,c,h){return{value:e,root:t,parent:s,type:u,props:a,children:o,line:ud,column:Wl,length:c,return:"",siblings:h}}function ts(e,t){return rp(cd("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Il(e){for(;e.root;)e=ts(e.root,{children:[e]});Vu(e,e.siblings)}function ZE(){return or}function $E(){return or=io>0?Ar(Kl,--io):0,Wl--,or===10&&(Wl=1,ud--),or}function So(){return or=io<xv?Ar(Kl,io++):0,Wl++,or===10&&(Wl=1,ud++),or}function Ys(){return Ar(Kl,io)}function zf(){return io}function fd(e,t){return Gl(Kl,e,t)}function ip(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eT(e){return ud=Wl=1,xv=Ho(Kl=e),io=0,[]}function tT(e){return Kl="",e}function Lh(e){return _v(fd(io-1,op(e===91?e+2:e===40?e+1:e)))}function nT(e){for(;(or=Ys())&&or<33;)So();return ip(e)>2||ip(or)>3?"":" "}function rT(e,t){for(;--t&&So()&&!(or<48||or>102||or>57&&or<65||or>70&&or<97););return fd(e,zf()+(t<6&&Ys()==32&&So()==32))}function op(e){for(;So();)switch(or){case e:return io;case 34:case 39:e!==34&&e!==39&&op(or);break;case 40:e===41&&op(e);break;case 92:So();break}return io}function iT(e,t){for(;So()&&e+or!==57;)if(e+or===84&&Ys()===47)break;return"/*"+fd(t,io-1)+"*"+Rp(e===47?e:So())}function oT(e){for(;!ip(Ys());)So();return fd(e,io)}function aT(e){return tT(Bf("",null,null,null,[""],e=eT(e),0,[0],e))}function Bf(e,t,s,u,a,o,c,h,d){for(var m=0,g=0,y=c,w=0,S=0,E=0,P=1,R=1,A=1,I=0,L="",D=a,F=o,G=u,j=L;R;)switch(E=I,I=So()){case 40:if(E!=108&&Ar(j,y-1)==58){Ff(j+=Qt(Lh(I),"&","&\f"),"&\f",yv(m?h[m-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:j+=Lh(I);break;case 9:case 10:case 13:case 32:j+=nT(E);break;case 92:j+=rT(zf()-1,7);continue;case 47:switch(Ys()){case 42:case 47:Vu(sT(iT(So(),zf()),t,s,d),d);break;default:j+="/"}break;case 123*P:h[m++]=Ho(j)*A;case 125*P:case 59:case 0:switch(I){case 0:case 125:R=0;case 59+g:A==-1&&(j=Qt(j,/\f/g,"")),S>0&&Ho(j)-y&&Vu(S>32?qg(j+";",u,s,y-1,d):qg(Qt(j," ","")+";",u,s,y-2,d),d);break;case 59:j+=";";default:if(Vu(G=Jg(j,t,s,m,g,a,h,L,D=[],F=[],y,o),o),I===123)if(g===0)Bf(j,t,G,G,D,o,y,h,F);else switch(w===99&&Ar(j,3)===110?100:w){case 100:case 108:case 109:case 115:Bf(e,G,G,u&&Vu(Jg(e,G,G,0,0,a,h,L,a,D=[],y,F),F),a,F,y,h,u?D:F);break;default:Bf(j,G,G,G,[""],F,0,h,F)}}m=g=S=0,P=A=1,L=j="",y=c;break;case 58:y=1+Ho(j),S=E;default:if(P<1){if(I==123)--P;else if(I==125&&P++==0&&$E()==125)continue}switch(j+=Rp(I),I*P){case 38:A=g>0?1:(j+="\f",-1);break;case 44:h[m++]=(Ho(j)-1)*A,A=1;break;case 64:Ys()===45&&(j+=Lh(So())),w=Ys(),g=y=Ho(L=j+=oT(zf())),I++;break;case 45:E===45&&Ho(j)==2&&(P=0)}}return o}function Jg(e,t,s,u,a,o,c,h,d,m,g,y){for(var w=a-1,S=a===0?o:[""],E=wv(S),P=0,R=0,A=0;P<u;++P)for(var I=0,L=Gl(e,w+1,w=yv(R=c[P])),D=e;I<E;++I)(D=_v(R>0?S[I]+" "+L:Qt(L,/&\f/g,S[I])))&&(d[A++]=D);return cd(e,t,s,a===0?ld:h,d,m,g,y)}function sT(e,t,s,u){return cd(e,t,s,gv,Rp(ZE()),Gl(e,2,-2),0,u)}function qg(e,t,s,u,a){return cd(e,t,s,Ap,Gl(e,0,u),Gl(e,u+1,-1),u,a)}function Sv(e,t,s){switch(KE(e,t)){case 5103:return vn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vn+e+e;case 4789:return Qu+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vn+e+Qu+e+An+e+e;case 5936:switch(Ar(e,t+11)){case 114:return vn+e+An+Qt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vn+e+An+Qt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vn+e+An+Qt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return vn+e+An+e+e;case 6165:return vn+e+An+"flex-"+e+e;case 5187:return vn+e+Qt(e,/(\w+).+(:[^]+)/,vn+"box-$1$2"+An+"flex-$1$2")+e;case 5443:return vn+e+An+"flex-item-"+Qt(e,/flex-|-self/g,"")+(ga(e,/flex-|baseline/)?"":An+"grid-row-"+Qt(e,/flex-|-self/g,""))+e;case 4675:return vn+e+An+"flex-line-pack"+Qt(e,/align-content|flex-|-self/g,"")+e;case 5548:return vn+e+An+Qt(e,"shrink","negative")+e;case 5292:return vn+e+An+Qt(e,"basis","preferred-size")+e;case 6060:return vn+"box-"+Qt(e,"-grow","")+vn+e+An+Qt(e,"grow","positive")+e;case 4554:return vn+Qt(e,/([^-])(transform)/g,"$1"+vn+"$2")+e;case 6187:return Qt(Qt(Qt(e,/(zoom-|grab)/,vn+"$1"),/(image-set)/,vn+"$1"),e,"")+e;case 5495:case 3959:return Qt(e,/(image-set\([^]*)/,vn+"$1$`$1");case 4968:return Qt(Qt(e,/(.+:)(flex-)?(.*)/,vn+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vn+e+e;case 4200:if(!ga(e,/flex-|baseline/))return An+"grid-column-align"+Gl(e,t)+e;break;case 2592:case 3360:return An+Qt(e,"template-","")+e;case 4384:case 3616:return s&&s.some(function(u,a){return t=a,ga(u.props,/grid-\w+-end/)})?~Ff(e+(s=s[t].value),"span",0)?e:An+Qt(e,"-start","")+e+An+"grid-row-span:"+(~Ff(s,"span",0)?ga(s,/\d+/):+ga(s,/\d+/)-+ga(e,/\d+/))+";":An+Qt(e,"-start","")+e;case 4896:case 4128:return s&&s.some(function(u){return ga(u.props,/grid-\w+-start/)})?e:An+Qt(Qt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Qt(e,/(.+)-inline(.+)/,vn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ho(e)-1-t>6)switch(Ar(e,t+1)){case 109:if(Ar(e,t+4)!==45)break;case 102:return Qt(e,/(.+:)(.+)-([^]+)/,"$1"+vn+"$2-$3$1"+Qu+(Ar(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ff(e,"stretch",0)?Sv(Qt(e,"stretch","fill-available"),t,s)+e:e}break;case 5152:case 5920:return Qt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(u,a,o,c,h,d,m){return An+a+":"+o+m+(c?An+a+"-span:"+(h?d:+d-+o)+m:"")+e});case 4949:if(Ar(e,t+6)===121)return Qt(e,":",":"+vn)+e;break;case 6444:switch(Ar(e,Ar(e,14)===45?18:11)){case 120:return Qt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vn+(Ar(e,14)===45?"inline-":"")+"box$3$1"+vn+"$2$3$1"+An+"$2box$3")+e;case 100:return Qt(e,":",":"+An)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Qt(e,"scroll-","scroll-snap-")+e}return e}function Xf(e,t){for(var s="",u=0;u<e.length;u++)s+=t(e[u],u,e,t)||"";return s}function lT(e,t,s,u){switch(e.type){case qE:if(e.children.length)break;case JE:case Ap:return e.return=e.return||e.value;case gv:return"";case vv:return e.return=e.value+"{"+Xf(e.children,u)+"}";case ld:if(!Ho(e.value=e.props.join(",")))return""}return Ho(s=Xf(e.children,u))?e.return=e.value+"{"+s+"}":""}function uT(e){var t=wv(e);return function(s,u,a,o){for(var c="",h=0;h<t;h++)c+=e[h](s,u,a,o)||"";return c}}function cT(e){return function(t){t.root||(t=t.return)&&e(t)}}function fT(e,t,s,u){if(e.length>-1&&!e.return)switch(e.type){case Ap:e.return=Sv(e.value,e.length,s);return;case vv:return Xf([ts(e,{value:Qt(e.value,"@","@"+vn)})],u);case ld:if(e.length)return QE(s=e.props,function(a){switch(ga(a,u=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Il(ts(e,{props:[Qt(a,/:(read-\w+)/,":"+Qu+"$1")]})),Il(ts(e,{props:[a]})),rp(e,{props:Xg(s,u)});break;case"::placeholder":Il(ts(e,{props:[Qt(a,/:(plac\w+)/,":"+vn+"input-$1")]})),Il(ts(e,{props:[Qt(a,/:(plac\w+)/,":"+Qu+"$1")]})),Il(ts(e,{props:[Qt(a,/:(plac\w+)/,An+"input-$1")]})),Il(ts(e,{props:[a]})),rp(e,{props:Xg(s,u)});break}return""})}}var dT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bi={},Hl=typeof process<"u"&&Bi!==void 0&&(Bi.REACT_APP_SC_ATTR||Bi.SC_ATTR)||"data-styled",bv="active",Ev="data-styled-version",dd="6.1.13",Pp=`/*!sc*/
`,Jf=typeof window<"u"&&"HTMLElement"in window,hT=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Bi!==void 0&&Bi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Bi.REACT_APP_SC_DISABLE_SPEEDY!==""?Bi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Bi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Bi!==void 0&&Bi.SC_DISABLE_SPEEDY!==void 0&&Bi.SC_DISABLE_SPEEDY!==""&&Bi.SC_DISABLE_SPEEDY!=="false"&&Bi.SC_DISABLE_SPEEDY),pT={},hd=Object.freeze([]),Vl=Object.freeze({});function Tv(e,t,s){return s===void 0&&(s=Vl),e.theme!==s.theme&&e.theme||t||s.theme}var Cv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mT=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gT=/(^-|-$)/g;function Kg(e){return e.replace(mT,"-").replace(gT,"")}var vT=/(a)(d)/gi,Pf=52,Qg=function(e){return String.fromCharCode(e+(e>25?39:97))};function ap(e){var t,s="";for(t=Math.abs(e);t>Pf;t=t/Pf|0)s=Qg(t%Pf)+s;return(Qg(t%Pf)+s).replace(vT,"$1-$2")}var Ih,kv=5381,Fl=function(e,t){for(var s=t.length;s;)e=33*e^t.charCodeAt(--s);return e},Av=function(e){return Fl(kv,e)};function Rv(e){return ap(Av(e)>>>0)}function yT(e){return e.displayName||e.name||"Component"}function Mh(e){return typeof e=="string"&&!0}var Pv=typeof Symbol=="function"&&Symbol.for,Lv=Pv?Symbol.for("react.memo"):60115,_T=Pv?Symbol.for("react.forward_ref"):60112,wT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Iv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ST=((Ih={})[_T]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ih[Lv]=Iv,Ih);function Zg(e){return("type"in(t=e)&&t.type.$$typeof)===Lv?Iv:"$$typeof"in e?ST[e.$$typeof]:wT;var t}var bT=Object.defineProperty,ET=Object.getOwnPropertyNames,$g=Object.getOwnPropertySymbols,TT=Object.getOwnPropertyDescriptor,CT=Object.getPrototypeOf,e0=Object.prototype;function Mv(e,t,s){if(typeof t!="string"){if(e0){var u=CT(t);u&&u!==e0&&Mv(e,u,s)}var a=ET(t);$g&&(a=a.concat($g(t)));for(var o=Zg(e),c=Zg(t),h=0;h<a.length;++h){var d=a[h];if(!(d in xT||s&&s[d]||c&&d in c||o&&d in o)){var m=TT(t,d);try{bT(e,d,m)}catch{}}}}return e}function Xs(e){return typeof e=="function"}function Lp(e){return typeof e=="object"&&"styledComponentId"in e}function Ws(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function sp(e,t){if(e.length===0)return"";for(var s=e[0],u=1;u<e.length;u++)s+=e[u];return s}function tc(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function lp(e,t,s){if(s===void 0&&(s=!1),!s&&!tc(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var u=0;u<t.length;u++)e[u]=lp(e[u],t[u]);else if(tc(t))for(var u in t)e[u]=lp(e[u],t[u]);return e}function Ip(e,t){Object.defineProperty(e,"toString",{value:t})}function Js(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var kT=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var s=0,u=0;u<t;u++)s+=this.groupSizes[u];return s},e.prototype.insertRules=function(t,s){if(t>=this.groupSizes.length){for(var u=this.groupSizes,a=u.length,o=a;t>=o;)if((o<<=1)<0)throw Js(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(u),this.length=o;for(var c=a;c<o;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(t+1),d=(c=0,s.length);c<d;c++)this.tag.insertRule(h,s[c])&&(this.groupSizes[t]++,h++)},e.prototype.clearGroup=function(t){if(t<this.length){var s=this.groupSizes[t],u=this.indexOfGroup(t),a=u+s;this.groupSizes[t]=0;for(var o=u;o<a;o++)this.tag.deleteRule(u)}},e.prototype.getGroup=function(t){var s="";if(t>=this.length||this.groupSizes[t]===0)return s;for(var u=this.groupSizes[t],a=this.indexOfGroup(t),o=a+u,c=a;c<o;c++)s+="".concat(this.tag.getRule(c)).concat(Pp);return s},e}(),jf=new Map,qf=new Map,Gf=1,Lf=function(e){if(jf.has(e))return jf.get(e);for(;qf.has(Gf);)Gf++;var t=Gf++;return jf.set(e,t),qf.set(t,e),t},AT=function(e,t){Gf=t+1,jf.set(e,t),qf.set(t,e)},RT="style[".concat(Hl,"][").concat(Ev,'="').concat(dd,'"]'),PT=new RegExp("^".concat(Hl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),LT=function(e,t,s){for(var u,a=s.split(","),o=0,c=a.length;o<c;o++)(u=a[o])&&e.registerName(t,u)},IT=function(e,t){for(var s,u=((s=t.textContent)!==null&&s!==void 0?s:"").split(Pp),a=[],o=0,c=u.length;o<c;o++){var h=u[o].trim();if(h){var d=h.match(PT);if(d){var m=0|parseInt(d[1],10),g=d[2];m!==0&&(AT(g,m),LT(e,g,d[3]),e.getTag().insertRules(m,a)),a.length=0}else a.push(h)}}},t0=function(e){for(var t=document.querySelectorAll(RT),s=0,u=t.length;s<u;s++){var a=t[s];a&&a.getAttribute(Hl)!==bv&&(IT(e,a),a.parentNode&&a.parentNode.removeChild(a))}};function MT(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ov=function(e){var t=document.head,s=e||t,u=document.createElement("style"),a=function(h){var d=Array.from(h.querySelectorAll("style[".concat(Hl,"]")));return d[d.length-1]}(s),o=a!==void 0?a.nextSibling:null;u.setAttribute(Hl,bv),u.setAttribute(Ev,dd);var c=MT();return c&&u.setAttribute("nonce",c),s.insertBefore(u,o),u},OT=function(){function e(t){this.element=Ov(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(s){if(s.sheet)return s.sheet;for(var u=document.styleSheets,a=0,o=u.length;a<o;a++){var c=u[a];if(c.ownerNode===s)return c}throw Js(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,s){try{return this.sheet.insertRule(s,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var s=this.sheet.cssRules[t];return s&&s.cssText?s.cssText:""},e}(),UT=function(){function e(t){this.element=Ov(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,s){if(t<=this.length&&t>=0){var u=document.createTextNode(s);return this.element.insertBefore(u,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),NT=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,s){return t<=this.length&&(this.rules.splice(t,0,s),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),n0=Jf,DT={isServer:!Jf,useCSSOMInjection:!hT},Kf=function(){function e(t,s,u){t===void 0&&(t=Vl),s===void 0&&(s={});var a=this;this.options=Rr(Rr({},DT),t),this.gs=s,this.names=new Map(u),this.server=!!t.isServer,!this.server&&Jf&&n0&&(n0=!1,t0(this)),Ip(this,function(){return function(o){for(var c=o.getTag(),h=c.length,d="",m=function(y){var w=function(A){return qf.get(A)}(y);if(w===void 0)return"continue";var S=o.names.get(w),E=c.getGroup(y);if(S===void 0||!S.size||E.length===0)return"continue";var P="".concat(Hl,".g").concat(y,'[id="').concat(w,'"]'),R="";S!==void 0&&S.forEach(function(A){A.length>0&&(R+="".concat(A,","))}),d+="".concat(E).concat(P,'{content:"').concat(R,'"}').concat(Pp)},g=0;g<h;g++)m(g);return d}(a)})}return e.registerId=function(t){return Lf(t)},e.prototype.rehydrate=function(){!this.server&&Jf&&t0(this)},e.prototype.reconstructWithOptions=function(t,s){return s===void 0&&(s=!0),new e(Rr(Rr({},this.options),t),this.gs,s&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(s){var u=s.useCSSOMInjection,a=s.target;return s.isServer?new NT(a):u?new OT(a):new UT(a)}(this.options),new kT(t)));var t},e.prototype.hasNameForId=function(t,s){return this.names.has(t)&&this.names.get(t).has(s)},e.prototype.registerName=function(t,s){if(Lf(t),this.names.has(t))this.names.get(t).add(s);else{var u=new Set;u.add(s),this.names.set(t,u)}},e.prototype.insertRules=function(t,s,u){this.registerName(t,s),this.getTag().insertRules(Lf(t),u)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Lf(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),FT=/&/g,zT=/^\s*\/\/.*$/gm;function Uv(e,t){return e.map(function(s){return s.type==="rule"&&(s.value="".concat(t," ").concat(s.value),s.value=s.value.replaceAll(",",",".concat(t," ")),s.props=s.props.map(function(u){return"".concat(t," ").concat(u)})),Array.isArray(s.children)&&s.type!=="@keyframes"&&(s.children=Uv(s.children,t)),s})}function BT(e){var t,s,u,a=Vl,o=a.options,c=o===void 0?Vl:o,h=a.plugins,d=h===void 0?hd:h,m=function(w,S,E){return E.startsWith(s)&&E.endsWith(s)&&E.replaceAll(s,"").length>0?".".concat(t):w},g=d.slice();g.push(function(w){w.type===ld&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(FT,s).replace(u,m))}),c.prefix&&g.push(fT),g.push(lT);var y=function(w,S,E,P){S===void 0&&(S=""),E===void 0&&(E=""),P===void 0&&(P="&"),t=P,s=S,u=new RegExp("\\".concat(s,"\\b"),"g");var R=w.replace(zT,""),A=aT(E||S?"".concat(E," ").concat(S," { ").concat(R," }"):R);c.namespace&&(A=Uv(A,c.namespace));var I=[];return Xf(A,uT(g.concat(cT(function(L){return I.push(L)})))),I};return y.hash=d.length?d.reduce(function(w,S){return S.name||Js(15),Fl(w,S.name)},kv).toString():"",y}var jT=new Kf,up=BT(),Nv=Si.createContext({shouldForwardProp:void 0,styleSheet:jT,stylis:up});Nv.Consumer;Si.createContext(void 0);function cp(){return $.useContext(Nv)}var GT=function(){function e(t,s){var u=this;this.inject=function(a,o){o===void 0&&(o=up);var c=u.name+o.hash;a.hasNameForId(u.id,c)||a.insertRules(u.id,c,o(u.rules,c,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=s,Ip(this,function(){throw Js(12,String(u.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=up),this.name+t.hash},e}(),WT=function(e){return e>="A"&&e<="Z"};function r0(e){for(var t="",s=0;s<e.length;s++){var u=e[s];if(s===1&&u==="-"&&e[0]==="-")return e;WT(u)?t+="-"+u.toLowerCase():t+=u}return t.startsWith("ms-")?"-"+t:t}var Dv=function(e){return e==null||e===!1||e===""},Fv=function(e){var t,s,u=[];for(var a in e){var o=e[a];e.hasOwnProperty(a)&&!Dv(o)&&(Array.isArray(o)&&o.isCss||Xs(o)?u.push("".concat(r0(a),":"),o,";"):tc(o)?u.push.apply(u,ec(ec(["".concat(a," {")],Fv(o),!1),["}"],!1)):u.push("".concat(r0(a),": ").concat((t=a,(s=o)==null||typeof s=="boolean"||s===""?"":typeof s!="number"||s===0||t in dT||t.startsWith("--")?String(s).trim():"".concat(s,"px")),";")))}return u};function ns(e,t,s,u){if(Dv(e))return[];if(Lp(e))return[".".concat(e.styledComponentId)];if(Xs(e)){if(!Xs(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var a=e(t);return ns(a,t,s,u)}var o;return e instanceof GT?s?(e.inject(s,u),[e.getName(u)]):[e]:tc(e)?Fv(e):Array.isArray(e)?Array.prototype.concat.apply(hd,e.map(function(c){return ns(c,t,s,u)})):[e.toString()]}function zv(e){for(var t=0;t<e.length;t+=1){var s=e[t];if(Xs(s)&&!Lp(s))return!1}return!0}var HT=Av(dd),VT=function(){function e(t,s,u){this.rules=t,this.staticRulesId="",this.isStatic=(u===void 0||u.isStatic)&&zv(t),this.componentId=s,this.baseHash=Fl(HT,s),this.baseStyle=u,Kf.registerId(s)}return e.prototype.generateAndInjectStyles=function(t,s,u){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,s,u):"";if(this.isStatic&&!u.hash)if(this.staticRulesId&&s.hasNameForId(this.componentId,this.staticRulesId))a=Ws(a,this.staticRulesId);else{var o=sp(ns(this.rules,t,s,u)),c=ap(Fl(this.baseHash,o)>>>0);if(!s.hasNameForId(this.componentId,c)){var h=u(o,".".concat(c),void 0,this.componentId);s.insertRules(this.componentId,c,h)}a=Ws(a,c),this.staticRulesId=c}else{for(var d=Fl(this.baseHash,u.hash),m="",g=0;g<this.rules.length;g++){var y=this.rules[g];if(typeof y=="string")m+=y;else if(y){var w=sp(ns(y,t,s,u));d=Fl(d,w+g),m+=w}}if(m){var S=ap(d>>>0);s.hasNameForId(this.componentId,S)||s.insertRules(this.componentId,S,u(m,".".concat(S),void 0,this.componentId)),a=Ws(a,S)}}return a},e}(),nc=Si.createContext(void 0);nc.Consumer;function YT(e){var t=Si.useContext(nc),s=$.useMemo(function(){return function(u,a){if(!u)throw Js(14);if(Xs(u)){var o=u(a);return o}if(Array.isArray(u)||typeof u!="object")throw Js(8);return a?Rr(Rr({},a),u):u}(e.theme,t)},[e.theme,t]);return e.children?Si.createElement(nc.Provider,{value:s},e.children):null}var Oh={};function XT(e,t,s){var u=Lp(e),a=e,o=!Mh(e),c=t.attrs,h=c===void 0?hd:c,d=t.componentId,m=d===void 0?function(D,F){var G=typeof D!="string"?"sc":Kg(D);Oh[G]=(Oh[G]||0)+1;var j="".concat(G,"-").concat(Rv(dd+G+Oh[G]));return F?"".concat(F,"-").concat(j):j}(t.displayName,t.parentComponentId):d,g=t.displayName,y=g===void 0?function(D){return Mh(D)?"styled.".concat(D):"Styled(".concat(yT(D),")")}(e):g,w=t.displayName&&t.componentId?"".concat(Kg(t.displayName),"-").concat(t.componentId):t.componentId||m,S=u&&a.attrs?a.attrs.concat(h).filter(Boolean):h,E=t.shouldForwardProp;if(u&&a.shouldForwardProp){var P=a.shouldForwardProp;if(t.shouldForwardProp){var R=t.shouldForwardProp;E=function(D,F){return P(D,F)&&R(D,F)}}else E=P}var A=new VT(s,w,u?a.componentStyle:void 0);function I(D,F){return function(G,j,W){var q=G.attrs,J=G.componentStyle,ie=G.defaultProps,Y=G.foldedComponentIds,ce=G.styledComponentId,pe=G.target,xe=Si.useContext(nc),se=cp(),Ee=G.shouldForwardProp||se.shouldForwardProp,X=Tv(j,xe,ie)||Vl,K=function(ee,le,fe){for(var _e,Oe=Rr(Rr({},le),{className:void 0,theme:fe}),je=0;je<ee.length;je+=1){var Le=Xs(_e=ee[je])?_e(Oe):_e;for(var Ce in Le)Oe[Ce]=Ce==="className"?Ws(Oe[Ce],Le[Ce]):Ce==="style"?Rr(Rr({},Oe[Ce]),Le[Ce]):Le[Ce]}return le.className&&(Oe.className=Ws(Oe.className,le.className)),Oe}(q,j,X),H=K.as||pe,B={};for(var Q in K)K[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&K.theme===X||(Q==="forwardedAs"?B.as=K.forwardedAs:Ee&&!Ee(Q,H)||(B[Q]=K[Q]));var te=function(ee,le){var fe=cp(),_e=ee.generateAndInjectStyles(le,fe.styleSheet,fe.stylis);return _e}(J,K),oe=Ws(Y,ce);return te&&(oe+=" "+te),K.className&&(oe+=" "+K.className),B[Mh(H)&&!Cv.has(H)?"class":"className"]=oe,B.ref=W,$.createElement(H,B)}(L,D,F)}I.displayName=y;var L=Si.forwardRef(I);return L.attrs=S,L.componentStyle=A,L.displayName=y,L.shouldForwardProp=E,L.foldedComponentIds=u?Ws(a.foldedComponentIds,a.styledComponentId):"",L.styledComponentId=w,L.target=u?a.target:e,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(D){this._foldedDefaultProps=u?function(F){for(var G=[],j=1;j<arguments.length;j++)G[j-1]=arguments[j];for(var W=0,q=G;W<q.length;W++)lp(F,q[W],!0);return F}({},a.defaultProps,D):D}}),Ip(L,function(){return".".concat(L.styledComponentId)}),o&&Mv(L,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function i0(e,t){for(var s=[e[0]],u=0,a=t.length;u<a;u+=1)s.push(t[u],e[u+1]);return s}var o0=function(e){return Object.assign(e,{isCss:!0})};function Bv(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(Xs(e)||tc(e))return o0(ns(i0(hd,ec([e],t,!0))));var u=e;return t.length===0&&u.length===1&&typeof u[0]=="string"?ns(u):o0(ns(i0(u,t)))}function fp(e,t,s){if(s===void 0&&(s=Vl),!t)throw Js(1,t);var u=function(a){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return e(t,s,Bv.apply(void 0,ec([a],o,!1)))};return u.attrs=function(a){return fp(e,t,Rr(Rr({},s),{attrs:Array.prototype.concat(s.attrs,a).filter(Boolean)}))},u.withConfig=function(a){return fp(e,t,Rr(Rr({},s),a))},u}var jv=function(e){return fp(XT,e)},Ft=jv;Cv.forEach(function(e){Ft[e]=jv(e)});var JT=function(){function e(t,s){this.rules=t,this.componentId=s,this.isStatic=zv(t),Kf.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,s,u,a){var o=a(sp(ns(this.rules,s,u,a)),""),c=this.componentId+t;u.insertRules(c,c,o)},e.prototype.removeStyles=function(t,s){s.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,s,u,a){t>2&&Kf.registerId(this.componentId+t),this.removeStyles(t,u),this.createStyles(t,s,u,a)},e}();function qT(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];var u=Bv.apply(void 0,ec([e],t,!1)),a="sc-global-".concat(Rv(JSON.stringify(u))),o=new JT(u,a),c=function(d){var m=cp(),g=Si.useContext(nc),y=Si.useRef(m.styleSheet.allocateGSInstance(a)).current;return m.styleSheet.server&&h(y,d,m.styleSheet,g,m.stylis),Si.useLayoutEffect(function(){if(!m.styleSheet.server)return h(y,d,m.styleSheet,g,m.stylis),function(){return o.removeStyles(y,m.styleSheet)}},[y,d,m.styleSheet,g,m.stylis]),null};function h(d,m,g,y,w){if(o.isStatic)o.renderStyles(d,pT,g,w);else{var S=Rr(Rr({},m),{theme:Tv(m,y,c.defaultProps)});o.renderStyles(d,S,g,w)}}return Si.memo(c)}const KT=Ft.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.surfaces.sidebar};
`,QT=({children:e})=>Pe.jsx(KT,{children:e}),Gv=Ft.div`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  background-color: ${({theme:e})=>e.colors.accent};
  display: ${({$isDragging:e})=>e?"block":"none"};
  width: ${({direction:e})=>e==="horizontal"?"100%":`${$u}px`};
  height: ${({direction:e})=>e==="horizontal"?`${$u}px`:"100%"};
`,ZT=Ft.div`
  position: relative;
  flex-shrink: 0;
  background-color: rgb(255, 255, 255, 0);
  width: ${({direction:e})=>e==="horizontal"?"100%":"1px"};
  height: ${({direction:e})=>e==="horizontal"?"1px":"auto"};
  cursor: ${({direction:e})=>e==="horizontal"?"row-resize":"col-resize"};

  &:hover ${Gv} {
    display: block;
  }
`,Uh=({id:e="drag-bar",direction:t="vertical",isDragging:s=!1,...u})=>{const[a,o]=$.useState(!1);return Pe.jsx(ZT,{id:e,"data-testid":e,tabIndex:0,direction:t,$isDragging:s,onFocus:()=>o(!0),onBlur:()=>o(!1),$isFocused:a,...u,children:Pe.jsx(Gv,{direction:t,$isDragging:s})})},$T=Ft.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  color: white; // color-white
  overflow: hidden; // overflow-hidden
`,eC=Ft.div`
  display: flex;
  flex-grow: 1;
`,tC=Ft.div`
  display: flex;
  flex-grow: 1;
`,nC=Ft.div`
  width: ${({width:e})=>e||250}px;
  height: ${({height:e})=>e?`${e}px`:"100%"};
  flex-grow: 1;
  background-color: ${({theme:e})=>e.colors.surfaces.background};
  position: relative;
  min-width: 0;
`,a0=Ft.div`
  width: ${({width:e})=>e||300}px;
  flex-shrink: 0;
  transition: filter 0.2s ease-out, background-color 0.2s ease-out;
`,rC=Ft.div`
  height: ${({height:e})=>e||150}px;
  transition: filter 0.2s ease-out, background-color 0.2s ease-out;
`;function iC(){const[e,t]=Si.useState({width:window.innerWidth,height:window.innerHeight});return Si.useEffect(()=>{function s(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),e}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(e[u]=s[u])}return e},Qf.apply(this,arguments)}var Wv=["ArrowRight","Right"],Hv=["ArrowDown","Down"],oC=[].concat(["ArrowLeft","Left"],Wv),aC=[].concat(["ArrowUp","Up"],Hv),sC=[].concat(Wv,Hv),Nh=function(e){var t=e.axis,s=e.disabled,u=s!==void 0&&s,a=e.initial,o=a===void 0?0:a,c=e.min,h=c===void 0?0:c,d=e.max,m=d===void 0?1/0:d,g=e.reverse,y=e.step,w=y===void 0?10:y,S=e.shiftStep,E=S===void 0?50:S,P=e.onResizeStart,R=e.onResizeEnd,A=e.containerRef,I=Math.min(Math.max(o,h),m),L=$.useRef(!1),D=$.useState(!1),F=D[0],G=D[1],j=$.useState(I),W=j[0],q=j[1],J=$.useRef(I),ie=$.useState(I),Y=ie[0],ce=ie[1],pe=$.useMemo(function(){return{role:"separator","aria-valuenow":W,"aria-valuemin":h,"aria-valuemax":m,"aria-orientation":t==="x"?"vertical":"horizontal","aria-disabled":u}},[t,u,m,h,W]),xe=$.useCallback(function(H){if(L.current&&!u){H.stopPropagation(),H.preventDefault();var B=function(){if(t==="x"){if(A!=null&&A.current){var Q=A.current.getBoundingClientRect(),te=Q.left;return g?te+Q.width-H.clientX:H.clientX-te}return g?document.body.offsetWidth-H.clientX:H.clientX}if(A!=null&&A.current){var oe=A.current.getBoundingClientRect(),ee=oe.top;return g?ee+oe.height-H.clientY:H.clientY-ee}return g?document.body.offsetHeight-H.clientY:H.clientY}();B=Math.min(Math.max(B,h),m),q(B),J.current=B}},[t,u,m,h,g,A]),se=$.useCallback(function(H){u||(H.stopPropagation(),L.current=!1,G(!1),ce(J.current),document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",se),R&&R({position:J.current}))},[u,xe,R]),Ee=$.useCallback(function(H){u||(H.stopPropagation(),L.current=!0,G(!0),document.addEventListener("pointermove",xe),document.addEventListener("pointerup",se),P&&P({position:J.current}))},[u,xe,se,P]),X=$.useCallback(function(H){if(!u){if(H.key==="Enter")return q(o),void(J.current=o);if((t!=="x"||oC.includes(H.key))&&(t!=="y"||aC.includes(H.key))){P&&P({position:J.current});var B=H.shiftKey?E:w,Q=g?-1:1,te=sC.includes(H.key)?Q:-1*Q,oe=W+B*te;oe<h?(q(h),J.current=h):oe>m?(q(m),J.current=m):(q(oe),J.current=oe),R&&R({position:J.current})}}},[u,t,P,E,w,g,W,h,m,R,o]),K=$.useCallback(function(){u||(q(o),J.current=o)},[u,o]);return{position:W,endPosition:Y,isDragging:F,separatorProps:Qf({},pe,{onPointerDown:Ee,onKeyDown:X,onDoubleClick:K}),setPosition:q,splitterProps:Qf({},pe,{onPointerDown:Ee,onKeyDown:X,onDoubleClick:K})}};function lC({windowWidth:e,windowHeight:t,leftSidebarWidth:s,rightSidebarWidth:u,terminalH:a}){const o=e-s-u-$u*2,c=t-a-$u;return{dynamicCanvasWidth:o,dynamicCanvasHeight:c}}function uC(){const{width:e,height:t}=iC(),[s,u]=$.useState(vE),[a,o]=$.useState(yE),{isDragging:c,position:h,separatorProps:d}=Nh({axis:"x",initial:332,min:332,max:s}),{isDragging:m,position:g,separatorProps:y}=Nh({axis:"x",initial:332,min:332,max:a,reverse:!0}),{isDragging:w,position:S,separatorProps:E}=Nh({axis:"y",initial:150,min:50,max:500,reverse:!0});$.useEffect(()=>{const A=e-_E-2*$u,I=A-g,L=A-h;u(I),o(L)},[h,g,e]);const{dynamicCanvasWidth:P,dynamicCanvasHeight:R}=lC({windowWidth:e,windowHeight:t,leftSidebarWidth:h,rightSidebarWidth:g,terminalH:S});return{leftSidebarWidth:h,rightSidebarWidth:g,terminalH:S,dynamicCanvasWidth:P,dynamicCanvasHeight:R,isLeftSidebarDragging:c,isRightSidebarDragging:m,isTerminalDragging:w,leftSidebarSeparatorProps:d,rightSidebarSeparatorProps:y,terminalSeparatorProps:E}}const cC=({sidebar:e,main:t,plugin:s,terminal:u})=>{const{leftSidebarWidth:a,rightSidebarWidth:o,terminalH:c,dynamicCanvasWidth:h,dynamicCanvasHeight:d,isLeftSidebarDragging:m,isRightSidebarDragging:g,isTerminalDragging:y,leftSidebarSeparatorProps:w,rightSidebarSeparatorProps:S,terminalSeparatorProps:E}=uC();return Pe.jsxs($T,{children:[Pe.jsxs(eC,{children:[Pe.jsx(a0,{$isDragging:m,width:a,children:e}),Pe.jsx(Uh,{direction:"vertical",isDragging:m,...w}),Pe.jsxs(tC,{children:[Pe.jsx(nC,{width:h,height:d,children:t}),Pe.jsx(Uh,{direction:"vertical",isDragging:g,...S}),Pe.jsx(a0,{$isDragging:g,width:o,children:s})]})]}),Pe.jsx(Uh,{direction:"horizontal",isDragging:y,...E}),Pe.jsx(rC,{$isDragging:y,height:c,children:u})]})},fC=({size:e,plane:t,shift:s=!1,color:u="#3e3e3e",divisions:a=50})=>{let o=[0,0,0],c=[0,0,0];t==="XZ"?(c=[0,0,s?e/2:0],o=[Math.PI/2,0,0]):t==="YZ"?(c=[s?e/2:0,0,0],o=[0,Math.PI/2,0]):t==="XY"&&(c=[0,0,0],o=[0,0,0]);const h=e/a,d=e/2,m=[];for(let g=0;g<=a;g++){const y=-d+g*h;m.push([new Nt(-d,y,0),new Nt(d,y,0)],[new Nt(y,-d,0),new Nt(y,d,0)])}return Pe.jsx("group",{rotation:o,position:c,children:m.map((g,y)=>Pe.jsx(ob,{points:g,color:u,lineWidth:1},y))})},Dh=.1,Fh=.1,zh={x:"red",y:"green",z:"blue"},dC=({axisLength:e=2})=>{const{scene:t}=ro();return $.useEffect(()=>{const s=new B2(e);return t.add(s),()=>{t.remove(s)}},[t,e]),Pe.jsxs(Pe.Fragment,{children:[Pe.jsx(Th,{position:[e+Dh,0,0],fontSize:Fh,color:zh.x,children:"X"}),Pe.jsx(Th,{position:[0,e+Dh,0],fontSize:Fh,color:zh.y,children:"Y"}),Pe.jsx(Th,{position:[0,0,e+Dh],rotation:[Math.PI/2,Math.PI,Math.PI],fontSize:Fh,color:zh.z,children:"Z"})]})},hC=()=>Pe.jsxs(Pe.Fragment,{children:[Pe.jsx("ambientLight",{intensity:.5}),Pe.jsx("directionalLight",{intensity:.5,position:[5,10,7.5],castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":.1,"shadow-camera-far":50})]}),pC=Ft.div`
  display: flex;
  align-items: center;
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.surfaces.card};
`,mC=Ft.div`
  display: flex;
  flex-direction: column;
  border-left: 1px solid ${({theme:e})=>e.colors.border};
`,gC=Ft.input`
  width: 64px;
  font-size: 0.875rem;
  text-align: right;
  border: none;
  outline: none;
  color: ${({theme:e})=>e.colors.text.primary};
  background-color: ${({theme:e})=>e.colors.surfaces.card};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.surfaces.card};
    cursor: not-allowed;
  }
`,s0=Ft.button`
  font-size: 0.875rem;
  line-height: 10px;
  border: none;
  padding: 1px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.surfaces.card};
  color: ${({theme:e})=>e.colors.text.primary};
  cursor: pointer;
  transition: background-color 0.2s ease;

  &:hover {
    color: ${({theme:e})=>e.colors.accent};
  }

  &:disabled {
    background-color: ${({theme:e})=>e.colors.surfaces.card};
    cursor: not-allowed;
  }
`,vC=Ft.label`
  margin-bottom: 4px;
  font-size: 0.875rem;
  color: ${({theme:e})=>e.colors.text.primary};
`,yC=Ft.div`
  display: flex;
  align-items: center;
  margin-bottom: 8px;
  gap: 4px;
  /* width: 100%; */
  justify-content: space-between;
`,Vv=({id:e,label:t,value:s,min:u=-1/0,max:a=1/0,step:o=1,disabled:c=!1,onChange:h})=>{const d=()=>{!c&&s+o<=a&&h(e,s+o)},m=()=>{!c&&s-o>=u&&h(e,s-o)},g=(y,w)=>{h(y,w)};return Pe.jsxs(yC,{children:[Pe.jsxs(vC,{children:[t,":"]}),Pe.jsxs(pC,{children:[Pe.jsx(gC,{value:s??0,onChange:y=>g(e,parseFloat(y.target.value)),disabled:c,min:u,max:a}),Pe.jsxs(mC,{children:[Pe.jsx(s0,{onClick:d,disabled:c,children:"+"}),Pe.jsx(s0,{onClick:m,disabled:c,children:"-"})]})]})]})},_C=Ft.p`
  font-size: 1rem;
  font-weight: bold;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: ${e=>e.theme.colors.text};
`,Mp=({title:e})=>Pe.jsx(_C,{children:e}),Yv=Ft.div`
  padding: 0.25rem;
`,wC=!1,xC=!1,SC=()=>{const{gridEnabled:e}=ql(t=>t.settings);return Pe.jsxs(Pe.Fragment,{children:[Pe.jsx(hC,{}),Pe.jsx(dC,{}),e&&Pe.jsx(fC,{size:4,plane:"XY"}),wC,xC]})},bC=Ft.div`
  position: absolute;
  bottom: 16px;
  display: flex;
  width: fit-content;
  left: 0;
  right: 0;
  margin: 0 auto;
  background-color: ${({theme:e})=>e.colors.surfaces.card};
  padding: 0.25rem;
  border-radius: 4px;
`,EC=Ft.button`
  width: 32px;
  height: fit-content;
  padding: 0.25rem 0.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;

  &:hover {
    background-color: #0056b3;
  }
`,TC=Ft.div`
  display: flex;
`,CC=Ft.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: 0.5rem;
`,kC=Ft.label`
  display: block;
  margin-right: 0.25rem;
  font-size: 0.875rem;
`,AC=Ft.input`
  padding: 0.1rem;
  width: auto;
  max-width: 42px;
  border: 1px solid ${({theme:e})=>e.colors.border};
  text-align: right;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.text.primary};
  background-color: ${({theme:e})=>e.colors.surfaces.card};
`,RC=()=>{const{jointValues:e}=Jl(),[t,s]=$.useState(!1),u=()=>{s(o=>!o)},a=o=>o===void 0||isNaN(o)?"":t?`${(o*180/Math.PI).toFixed(2)}`:o.toFixed(2);return Pe.jsxs(bC,{children:[Pe.jsx(EC,{onClick:u,children:t?"":""}),Pe.jsx(TC,{children:Object.entries(e).filter(([o])=>dv[o]).map(([o,c])=>Pe.jsxs(CC,{children:[Pe.jsxs(kC,{htmlFor:o,children:[sd[o],":"]}),Pe.jsx(AC,{id:o,type:"text",readOnly:!0,value:a(c)})]},o))})]})},PC=!1,LC=!1,IC=()=>Pe.jsxs(Pe.Fragment,{children:[Pe.jsxs(YS,{camera:{position:[1.5,1.5,1.5],up:[0,0,1],fov:75},children:[LC,Pe.jsx(SC,{}),Pe.jsx(CE,{}),Pe.jsx(eE,{enableDamping:!1}),PC,Pe.jsx(XE,{})]}),Pe.jsx(RC,{})]}),MC=[xE,bE],OC=({children:e})=>Pe.jsx(Pe.Fragment,{children:MC.reduceRight((t,s)=>Pe.jsx(s,{children:t}),e)});Ft.div`
  position: absolute;
  top: 0;
  right: 0;
  width: 300px;
  padding: 10px;
  border-radius: 8px;
  overflow-y: auto;
  max-height: 100vh;
`;Ft.div`
  padding: 0.25rem;
`;Ft.label`
  display: block;
  font-size: 0.875rem;
  color: ${e=>e.theme.colors.text};
  margin-right: 0.25rem;
`;Ft.div`
  margin-bottom: 10px;
`;const UC=Ft.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.25rem;
`,NC=Ft.input`
  width: 80%;
  margin-right: 10px;
`;Ft.button`
  padding: 0.2rem 0.5rem;
  font-size: 1rem;
  margin-left: 5px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`;Ft.label`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
`;const DC=Ft.div`
  display: flex;
  flex-direction: column;
  width: 300px;
`,FC=({jointName:e,value:t})=>{const{jointAnimationEnabled:s}=ql(o=>o.settings),{updateJoint:u}=Jl(),a=(o,c)=>{const h=pE(c);console.log(h),isNaN(h)||u(o,h)};return Pe.jsx(Vv,{id:e,label:sd[e],value:t&&mE(t),onChange:a,disabled:s,min:-180,max:180,step:1})},zC=({jointName:e,value:t})=>{const{jointAnimationEnabled:s}=ql(o=>o.settings),{updateJoint:u}=Jl(),a=(o,c)=>{u(o,parseFloat(c))};return Pe.jsx(NC,{type:"range",min:"-3.14",max:"3.14",step:"0.01",value:t??0,onChange:o=>a(e,o.target.value),disabled:s})},BC=()=>{const{joints:e,jointValues:t}=Jl();return Pe.jsxs(Yv,{children:[Pe.jsx(Mp,{title:"Joint Controls"}),Pe.jsx(DC,{children:Object.keys(e).filter(s=>dv[s]&&s in sd).map(s=>Pe.jsxs(UC,{children:[Pe.jsx(FC,{jointName:s,value:t[s]}),Pe.jsx(zC,{jointName:s,value:t[s]})]},s))})]})};function Gr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jC=typeof Symbol=="function"&&Symbol.observable||"@@observable",l0=jC,Bh=()=>Math.random().toString(36).substring(7).split("").join("."),GC={INIT:`@@redux/INIT${Bh()}`,REPLACE:`@@redux/REPLACE${Bh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bh()}`},Zf=GC;function Op(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Xv(e,t,s){if(typeof e!="function")throw new Error(Gr(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(Gr(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(Gr(1));return s(Xv)(e,t)}let u=e,a=t,o=new Map,c=o,h=0,d=!1;function m(){c===o&&(c=new Map,o.forEach((R,A)=>{c.set(A,R)}))}function g(){if(d)throw new Error(Gr(3));return a}function y(R){if(typeof R!="function")throw new Error(Gr(4));if(d)throw new Error(Gr(5));let A=!0;m();const I=h++;return c.set(I,R),function(){if(A){if(d)throw new Error(Gr(6));A=!1,m(),c.delete(I),o=null}}}function w(R){if(!Op(R))throw new Error(Gr(7));if(typeof R.type>"u")throw new Error(Gr(8));if(typeof R.type!="string")throw new Error(Gr(17));if(d)throw new Error(Gr(9));try{d=!0,a=u(a,R)}finally{d=!1}return(o=c).forEach(I=>{I()}),R}function S(R){if(typeof R!="function")throw new Error(Gr(10));u=R,w({type:Zf.REPLACE})}function E(){const R=y;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Gr(11));function I(){const D=A;D.next&&D.next(g())}return I(),{unsubscribe:R(I)}},[l0](){return this}}}return w({type:Zf.INIT}),{dispatch:w,subscribe:y,getState:g,replaceReducer:S,[l0]:E}}function WC(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:Zf.INIT})>"u")throw new Error(Gr(12));if(typeof s(void 0,{type:Zf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gr(13))})}function Jv(e){const t=Object.keys(e),s={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(s[c]=e[c])}const u=Object.keys(s);let a;try{WC(s)}catch(o){a=o}return function(c={},h){if(a)throw a;let d=!1;const m={};for(let g=0;g<u.length;g++){const y=u[g],w=s[y],S=c[y],E=w(S,h);if(typeof E>"u")throw h&&h.type,new Error(Gr(14));m[y]=E,d=d||E!==S}return d=d||u.length!==Object.keys(c).length,d?m:c}}function $f(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...u)=>t(s(...u)))}function HC(...e){return t=>(s,u)=>{const a=t(s,u);let o=()=>{throw new Error(Gr(15))};const c={getState:a.getState,dispatch:(d,...m)=>o(d,...m)},h=e.map(d=>d(c));return o=$f(...h)(a.dispatch),{...a,dispatch:o}}}function VC(e){return Op(e)&&"type"in e&&typeof e.type=="string"}var qv=Symbol.for("immer-nothing"),u0=Symbol.for("immer-draftable"),Gi=Symbol.for("immer-state");function xo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yl=Object.getPrototypeOf;function qs(e){return!!e&&!!e[Gi]}function wa(e){var t;return e?Kv(e)||Array.isArray(e)||!!e[u0]||!!((t=e.constructor)!=null&&t[u0])||md(e)||gd(e):!1}var YC=Object.prototype.constructor.toString();function Kv(e){if(!e||typeof e!="object")return!1;const t=Yl(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===YC}function ed(e,t){pd(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,u)=>t(u,s,e))}function pd(e){const t=e[Gi];return t?t.type_:Array.isArray(e)?1:md(e)?2:gd(e)?3:0}function dp(e,t){return pd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Qv(e,t,s){const u=pd(e);u===2?e.set(t,s):u===3?e.add(s):e[t]=s}function XC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function md(e){return e instanceof Map}function gd(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function hp(e,t){if(md(e))return new Map(e);if(gd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=Kv(e);if(t===!0||t==="class_only"&&!s){const u=Object.getOwnPropertyDescriptors(e);delete u[Gi];let a=Reflect.ownKeys(u);for(let o=0;o<a.length;o++){const c=a[o],h=u[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(u[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[c]})}return Object.create(Yl(e),u)}else{const u=Yl(e);if(u!==null&&s)return{...e};const a=Object.create(u);return Object.assign(a,e)}}function Up(e,t=!1){return vd(e)||qs(e)||!wa(e)||(pd(e)>1&&(e.set=e.add=e.clear=e.delete=JC),Object.freeze(e),t&&Object.entries(e).forEach(([s,u])=>Up(u,!0))),e}function JC(){xo(2)}function vd(e){return Object.isFrozen(e)}var qC={};function Ks(e){const t=qC[e];return t||xo(0,e),t}var rc;function Zv(){return rc}function KC(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c0(e,t){t&&(Ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pp(e){mp(e),e.drafts_.forEach(QC),e.drafts_=null}function mp(e){e===rc&&(rc=e.parent_)}function f0(e){return rc=KC(rc,e)}function QC(e){const t=e[Gi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function d0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[Gi].modified_&&(pp(t),xo(4)),wa(e)&&(e=td(t,e),t.parent_||nd(t,e)),t.patches_&&Ks("Patches").generateReplacementPatches_(s[Gi].base_,e,t.patches_,t.inversePatches_)):e=td(t,s,[]),pp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qv?e:void 0}function td(e,t,s){if(vd(t))return t;const u=t[Gi];if(!u)return ed(t,(a,o)=>h0(e,u,t,a,o,s)),t;if(u.scope_!==e)return t;if(!u.modified_)return nd(e,u.base_,!0),u.base_;if(!u.finalized_){u.finalized_=!0,u.scope_.unfinalizedDrafts_--;const a=u.copy_;let o=a,c=!1;u.type_===3&&(o=new Set(a),a.clear(),c=!0),ed(o,(h,d)=>h0(e,u,a,h,d,s,c)),nd(e,a,!1),s&&e.patches_&&Ks("Patches").generatePatches_(u,s,e.patches_,e.inversePatches_)}return u.copy_}function h0(e,t,s,u,a,o,c){if(qs(a)){const h=o&&t&&t.type_!==3&&!dp(t.assigned_,u)?o.concat(u):void 0,d=td(e,a,h);if(Qv(s,u,d),qs(d))e.canAutoFreeze_=!1;else return}else c&&s.add(a);if(wa(a)&&!vd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;td(e,a),(!t||!t.scope_.parent_)&&typeof u!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,u)&&nd(e,a)}}function nd(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Up(t,s)}function ZC(e,t){const s=Array.isArray(e),u={type_:s?1:0,scope_:t?t.scope_:Zv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=u,o=Np;s&&(a=[u],o=ic);const{revoke:c,proxy:h}=Proxy.revocable(a,o);return u.draft_=h,u.revoke_=c,h}var Np={get(e,t){if(t===Gi)return e;const s=Gs(e);if(!dp(s,t))return $C(e,s,t);const u=s[t];return e.finalized_||!wa(u)?u:u===jh(e.base_,t)?(Gh(e),e.copy_[t]=vp(u,e)):u},has(e,t){return t in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,t,s){const u=$v(Gs(e),t);if(u!=null&&u.set)return u.set.call(e.draft_,s),!0;if(!e.modified_){const a=jh(Gs(e),t),o=a==null?void 0:a[Gi];if(o&&o.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(XC(s,a)&&(s!==void 0||dp(e.base_,t)))return!0;Gh(e),gp(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gh(e),gp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Gs(e),u=Reflect.getOwnPropertyDescriptor(s,t);return u&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:u.enumerable,value:s[t]}},defineProperty(){xo(11)},getPrototypeOf(e){return Yl(e.base_)},setPrototypeOf(){xo(12)}},ic={};ed(Np,(e,t)=>{ic[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ic.deleteProperty=function(e,t){return ic.set.call(this,e,t,void 0)};ic.set=function(e,t,s){return Np.set.call(this,e[0],t,s,e[0])};function jh(e,t){const s=e[Gi];return(s?Gs(s):e)[t]}function $C(e,t,s){var a;const u=$v(t,s);return u?"value"in u?u.value:(a=u.get)==null?void 0:a.call(e.draft_):void 0}function $v(e,t){if(!(t in e))return;let s=Yl(e);for(;s;){const u=Object.getOwnPropertyDescriptor(s,t);if(u)return u;s=Yl(s)}}function gp(e){e.modified_||(e.modified_=!0,e.parent_&&gp(e.parent_))}function Gh(e){e.copy_||(e.copy_=hp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var e3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,u)=>{if(typeof t=="function"&&typeof s!="function"){const o=s;s=t;const c=this;return function(d=o,...m){return c.produce(d,g=>s.call(this,g,...m))}}typeof s!="function"&&xo(6),u!==void 0&&typeof u!="function"&&xo(7);let a;if(wa(t)){const o=f0(this),c=vp(t,void 0);let h=!0;try{a=s(c),h=!1}finally{h?pp(o):mp(o)}return c0(o,u),d0(a,o)}else if(!t||typeof t!="object"){if(a=s(t),a===void 0&&(a=t),a===qv&&(a=void 0),this.autoFreeze_&&Up(a,!0),u){const o=[],c=[];Ks("Patches").generateReplacementPatches_(t,a,o,c),u(o,c)}return a}else xo(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,d=>t(d,...h));let u,a;return[this.produce(t,s,(c,h)=>{u=c,a=h}),u,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wa(e)||xo(8),qs(e)&&(e=t3(e));const t=f0(this),s=vp(e,void 0);return s[Gi].isManual_=!0,mp(t),s}finishDraft(e,t){const s=e&&e[Gi];(!s||!s.isManual_)&&xo(9);const{scope_:u}=s;return c0(u,t),d0(void 0,u)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const a=t[s];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}s>-1&&(t=t.slice(s+1));const u=Ks("Patches").applyPatches_;return qs(e)?u(e,t):this.produce(e,a=>u(a,t))}};function vp(e,t){const s=md(e)?Ks("MapSet").proxyMap_(e,t):gd(e)?Ks("MapSet").proxySet_(e,t):ZC(e,t);return(t?t.scope_:Zv()).drafts_.push(s),s}function t3(e){return qs(e)||xo(10,e),e1(e)}function e1(e){if(!wa(e)||vd(e))return e;const t=e[Gi];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=hp(e,t.scope_.immer_.useStrictShallowCopy_)}else s=hp(e,!0);return ed(s,(u,a)=>{Qv(s,u,e1(a))}),t&&(t.finalized_=!1),s}var Wi=new e3,t1=Wi.produce;Wi.produceWithPatches.bind(Wi);Wi.setAutoFreeze.bind(Wi);Wi.setUseStrictShallowCopy.bind(Wi);Wi.applyPatches.bind(Wi);Wi.createDraft.bind(Wi);Wi.finishDraft.bind(Wi);function n1(e){return({dispatch:s,getState:u})=>a=>o=>typeof o=="function"?o(s,u,e):a(o)}var n3=n1(),r3=n1,i3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$f:$f.apply(null,arguments)};function p0(e,t){function s(...u){if(t){let a=t(...u);if(!a)throw new Error(va(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:u[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=u=>VC(u)&&u.type===e,s}var r1=class Yu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Yu.prototype)}static get[Symbol.species](){return Yu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Yu(...t[0].concat(this)):new Yu(...t.concat(this))}};function m0(e){return wa(e)?t1(e,()=>{}):e}function g0(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function o3(e){return typeof e=="boolean"}var a3=()=>function(t){const{thunk:s=!0,immutableCheck:u=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{};let c=new r1;return s&&(o3(s)?c.push(n3):c.push(r3(s.extraArgument))),c},s3="RTK_autoBatch",v0=e=>t=>{setTimeout(t,e)},l3=(e={type:"raf"})=>t=>(...s)=>{const u=t(...s);let a=!0,o=!1,c=!1;const h=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v0(10):e.type==="callback"?e.queueNotification:v0(e.timeout),m=()=>{c=!1,o&&(o=!1,h.forEach(g=>g()))};return Object.assign({},u,{subscribe(g){const y=()=>a&&g(),w=u.subscribe(y);return h.add(g),()=>{w(),h.delete(g)}},dispatch(g){var y;try{return a=!((y=g==null?void 0:g.meta)!=null&&y[s3]),o=!a,o&&(c||(c=!0,d(m))),u.dispatch(g)}finally{a=!0}}})},u3=e=>function(s){const{autoBatch:u=!0}=s??{};let a=new r1(e);return u&&a.push(l3(typeof u=="object"?u:void 0)),a};function c3(e){const t=a3(),{reducer:s=void 0,middleware:u,devTools:a=!0,preloadedState:o=void 0,enhancers:c=void 0}=e;let h;if(typeof s=="function")h=s;else if(Op(s))h=Jv(s);else throw new Error(va(1));let d;typeof u=="function"?d=u(t):d=t();let m=$f;a&&(m=i3({trace:!1,...typeof a=="object"&&a}));const g=HC(...d),y=u3(g);let w=typeof c=="function"?c(y):y();const S=m(...w);return Xv(h,o,S)}function i1(e){const t={},s=[];let u;const a={addCase(o,c){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(va(28));if(h in t)throw new Error(va(29));return t[h]=c,a},addMatcher(o,c){return s.push({matcher:o,reducer:c}),a},addDefaultCase(o){return u=o,a}};return e(a),[t,s,u]}function f3(e){return typeof e=="function"}function d3(e,t){let[s,u,a]=i1(t),o;if(f3(e))o=()=>m0(e());else{const h=m0(e);o=()=>h}function c(h=o(),d){let m=[s[d.type],...u.filter(({matcher:g})=>g(d)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[a]),m.reduce((g,y)=>{if(y)if(qs(g)){const S=y(g,d);return S===void 0?g:S}else{if(wa(g))return t1(g,w=>y(w,d));{const w=y(g,d);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},h)}return c.getInitialState=o,c}var h3=Symbol.for("rtk-slice-createasyncthunk");function p3(e,t){return`${e}/${t}`}function m3({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[h3];return function(a){const{name:o,reducerPath:c=o}=a;if(!o)throw new Error(va(11));const h=(typeof a.reducers=="function"?a.reducers(v3()):a.reducers)||{},d=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(L,D){const F=typeof L=="string"?L:L.type;if(!F)throw new Error(va(12));if(F in m.sliceCaseReducersByType)throw new Error(va(13));return m.sliceCaseReducersByType[F]=D,g},addMatcher(L,D){return m.sliceMatchers.push({matcher:L,reducer:D}),g},exposeAction(L,D){return m.actionCreators[L]=D,g},exposeCaseReducer(L,D){return m.sliceCaseReducersByName[L]=D,g}};d.forEach(L=>{const D=h[L],F={reducerName:L,type:p3(o,L),createNotation:typeof a.reducers=="function"};_3(D)?x3(F,D,g,t):y3(F,D,g)});function y(){const[L={},D=[],F=void 0]=typeof a.extraReducers=="function"?i1(a.extraReducers):[a.extraReducers],G={...L,...m.sliceCaseReducersByType};return d3(a.initialState,j=>{for(let W in G)j.addCase(W,G[W]);for(let W of m.sliceMatchers)j.addMatcher(W.matcher,W.reducer);for(let W of D)j.addMatcher(W.matcher,W.reducer);F&&j.addDefaultCase(F)})}const w=L=>L,S=new Map;let E;function P(L,D){return E||(E=y()),E(L,D)}function R(){return E||(E=y()),E.getInitialState()}function A(L,D=!1){function F(j){let W=j[L];return typeof W>"u"&&D&&(W=R()),W}function G(j=w){const W=g0(S,D,()=>new WeakMap);return g0(W,j,()=>{const q={};for(const[J,ie]of Object.entries(a.selectors??{}))q[J]=g3(ie,j,R,D);return q})}return{reducerPath:L,getSelectors:G,get selectors(){return G(F)},selectSlice:F}}const I={name:o,reducer:P,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:R,...A(c),injectInto(L,{reducerPath:D,...F}={}){const G=D??c;return L.inject({reducerPath:G,reducer:P},F),{...I,...A(G,!0)}}};return I}}function g3(e,t,s,u){function a(o,...c){let h=t(o);return typeof h>"u"&&u&&(h=s()),e(h,...c)}return a.unwrapped=e,a}var Dp=m3();function v3(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function y3({type:e,reducerName:t,createNotation:s},u,a){let o,c;if("reducer"in u){if(s&&!w3(u))throw new Error(va(17));o=u.reducer,c=u.prepare}else o=u;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?p0(e,c):p0(e))}function _3(e){return e._reducerDefinitionType==="asyncThunk"}function w3(e){return e._reducerDefinitionType==="reducerWithPrepare"}function x3({type:e,reducerName:t},s,u,a){if(!a)throw new Error(va(18));const{payloadCreator:o,fulfilled:c,pending:h,rejected:d,settled:m,options:g}=s,y=a(e,o,g);u.exposeAction(t,y),c&&u.addCase(y.fulfilled,c),h&&u.addCase(y.pending,h),d&&u.addCase(y.rejected,d),m&&u.addMatcher(y.settled,m),u.exposeCaseReducer(t,{fulfilled:c||If,pending:h||If,rejected:d||If,settled:m||If})}function If(){}function va(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const S3={mode:"dark"},b3=Dp({name:"theme",initialState:S3,reducers:{setThemeMode:(e,t)=>{e.mode=t.payload,localStorage.setItem("theme",t.payload)},toggleThemeMode:e=>{const t=["dark"],s=t.indexOf(e.mode);e.mode=t[(s+1)%t.length],localStorage.setItem("theme",JSON.stringify(e))}},extraReducers:e=>{e.addDefaultCase(t=>t)}}),E3=b3.reducer,T3=["robot","teaching","device manager"],C3={isRobotPanelCollapsibleOpen:!1,isModalOpen:!1,modalVariant:null,showAdvancedOptions:!1,controlPanelTabState:T3[0],activeRoute:"/",inputFocus:!1,activeTaskId:null,activePositionId:null},k3=Dp({name:"ui",initialState:C3,reducers:{toggleRobotPanelCollapsible:e=>{e.isRobotPanelCollapsibleOpen=!e.isRobotPanelCollapsibleOpen},toggleModal:e=>{e.isModalOpen=!e.isModalOpen},closeModal:e=>{e.isModalOpen=!1,e.modalVariant=null},setModalVariant:(e,t)=>{e.modalVariant=t.payload},openModalAndSetVariant:(e,t)=>{e.isModalOpen=!0,e.modalVariant=t.payload},toggleShowAdvancedOptions:e=>{e.showAdvancedOptions=!e.showAdvancedOptions},setControlPanelTabState:(e,t)=>{e.controlPanelTabState=t.payload},setActiveRoute:(e,t)=>{e.activeRoute=t.payload},setInputFocus:(e,t)=>{e.inputFocus=t.payload},setActiveTaskId:(e,t)=>{e.activeTaskId=t.payload},setActivePositionId:(e,t)=>{e.activePositionId=t.payload}}}),A3=k3.reducer,R3={cacheUIState:!0,messages:[],gridEnabled:!0,worldAxis:!0,jointAnimationEnabled:!1},o1=Dp({name:"settings",initialState:R3,reducers:{toggleCacheUIState:e=>{e.cacheUIState=!e.cacheUIState},clearUICache:()=>{localStorage.removeItem("ui")},toggleWorldGrid:e=>{e.gridEnabled=!e.gridEnabled},toggleWorldAxis:e=>{e.worldAxis=!e.worldAxis},toggleJointAnimation:e=>{e.jointAnimationEnabled=!e.jointAnimationEnabled}}}),{toggleCacheUIState:UA,clearUICache:NA,toggleWorldGrid:DA,toggleWorldAxis:FA,toggleJointAnimation:P3}=o1.actions,L3=o1.reducer,I3=Object.freeze(Object.defineProperty({__proto__:null,settings:L3,theme:E3,ui:A3},Symbol.toStringTag,{value:"Module"}));function M3(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}M3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const O3=e=>t=>s=>t(s),U3=()=>e=>t=>e(t);function N3(){const e=fE(),t=dE();return{ui:e,theme:t}}const D3=Jv({...I3}),a1=c3({reducer:D3,preloadedState:N3(),middleware:e=>e().concat(O3).concat(U3)}),F3=HE;a1.dispatch;Ft.h2`
  font-weight: 1;
  font-size: 1rem;
  margin: 0.25rem 0;
  text-align: left;
`;const z3=Ft.label`
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.875rem;
  cursor: pointer;
`,B3=Ft.input`
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;

  &:checked + span {
    background-color: ${e=>e.theme.colors.primary};
  }

  &:checked + span::before {
    transform: translateX(20px);
  }
`,j3=Ft.span`
  position: relative;
  display: inline-block;
  width: 40px;
  height: 20px;
  background-color: ${e=>e.theme.colors.surfaces.background};
  border-radius: 20px;
  transition: background-color 0.3s ease;

  &::before {
    content: "";
    position: absolute;
    height: 16px;
    width: 16px;
    background-color: ${e=>e.theme.colors.text.primary};
    border-radius: 50%;
    top: 2px;
    left: 2px;
    transition: transform 0.3s ease;
  }
`,G3=()=>{const e=F3(),{jointAnimationEnabled:t}=ql(u=>u.settings),s=()=>{e(P3())};return Pe.jsx(Pe.Fragment,{children:Pe.jsxs(z3,{children:[Pe.jsx(B3,{type:"checkbox",checked:t,onChange:s}),Pe.jsx(j3,{}),t?"Enabled":"Disabled"]})})};Ft.div`
  padding: ${({theme:e})=>e.spacing.medium}px;
  background-color: ${({theme:e})=>e.colors.surfaces.card};
  border-radius: 10px;
  box-shadow: ${({theme:e})=>e.components.panel.shadow};
`;Ft.h1`
  font-size: ${({theme:e})=>e.typography.fontSize.large};
  color: ${({theme:e})=>e.colors.text.primary};
`;Ft.h2`
  font-size: ${({theme:e})=>e.typography.fontSize.medium};
  color: ${({theme:e})=>e.colors.text.secondary};
`;Ft.p`
  font-size: ${({theme:e})=>e.typography.fontSize.small};
  color: ${({theme:e})=>e.colors.text.muted};
`;Ft.div`
  margin-top: ${({theme:e})=>e.spacing.large}px;
  p {
    font-size: ${({theme:e})=>e.typography.fontSize.small};
    color: ${({theme:e})=>e.colors.text.primary};
  }
  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
  }
`;const W3={x:{label:"X Position",min:0,max:100},y:{label:"Y Position",min:0,max:100},z:{label:"Z Position",min:0,max:100},r1:{label:"Rotation 1",min:0,max:360},r2:{label:"Rotation 2",min:0,max:360},r3:{label:"Rotation 3",min:0,max:360}},H3=Ft.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: space-between;
`,V3=()=>{const{positions:e,updateCartesianPosition:t}=EE(),s=(u,a)=>{t(u,a)};return Pe.jsxs(H3,{id:"cartesian-form",children:[Pe.jsx(Mp,{title:"Cartesian Control"}),Object.entries(W3).map(([u,a])=>{const o=u;return Pe.jsx(Vv,{id:o,label:u,value:e[o],onChange:s,disabled:!1,min:a.min,max:a.max,step:1},o)})]})},Y3=()=>Pe.jsxs(Yv,{children:[Pe.jsx(Mp,{title:"Joint Animation"}),Pe.jsx(G3,{})]}),X3=Ft.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  background-color: ${({theme:e})=>e.colors.surfaces.footer};
`,J3=()=>Pe.jsx(X3,{children:Pe.jsx("h1",{children:"Terminal"})}),q3=Ft.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.surfaces.sidebar};
  min-width: 200px;
`,K3=Ft.h2`
  color: ${({theme:e})=>e.colors.text.primary};
  font-size: 1.5rem;
  margin: 0.5rem 1rem;
  white-space: nowrap;
  min-width: 100px;
`,Q3=()=>Pe.jsx(q3,{children:Pe.jsx(K3,{children:"Plugin Panel"})}),Z3=()=>Pe.jsxs(QT,{children:[Pe.jsx(Y3,{}),Pe.jsx(BC,{}),Pe.jsx(V3,{})]}),$3=()=>Pe.jsx(IC,{}),ek=()=>Pe.jsx(OC,{children:Pe.jsx(cC,{sidebar:Pe.jsx(Z3,{}),main:Pe.jsx($3,{}),plugin:Pe.jsx(Q3,{}),terminal:Pe.jsx(J3,{})})});var ju={},y0;function tk(){if(y0)return ju;y0=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.parse=c,ju.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,S){const E=new o,P=w.length;if(P<2)return E;const R=(S==null?void 0:S.decode)||g;let A=0;do{const I=w.indexOf("=",A);if(I===-1)break;const L=w.indexOf(";",A),D=L===-1?P:L;if(I>D){A=w.lastIndexOf(";",I-1)+1;continue}const F=h(w,A,I),G=d(w,I,F),j=w.slice(F,G);if(E[j]===void 0){let W=h(w,I+1,D),q=d(w,D,W);const J=R(w.slice(W,q));E[j]=J}A=D+1}while(A<P);return E}function h(w,S,E){do{const P=w.charCodeAt(S);if(P!==32&&P!==9)return S}while(++S<E);return E}function d(w,S,E){for(;S>E;){const P=w.charCodeAt(--S);if(P!==32&&P!==9)return S+1}return E}function m(w,S,E){const P=(E==null?void 0:E.encode)||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=P(S);if(!t.test(R))throw new TypeError(`argument val is invalid: ${S}`);let A=w+"="+R;if(!E)return A;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);A+="; Max-Age="+E.maxAge}if(E.domain){if(!s.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);A+="; Domain="+E.domain}if(E.path){if(!u.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);A+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);A+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(A+="; HttpOnly"),E.secure&&(A+="; Secure"),E.partitioned&&(A+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return A}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return a.call(w)==="[object Date]"}return ju}tk();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _0="popstate";function nk(e={}){function t(u,a){let{pathname:o,search:c,hash:h}=u.location;return yp("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(u,a){return typeof a=="string"?a:oc(a)}return ik(t,s,null,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rk(){return Math.random().toString(36).substring(2,10)}function w0(e,t){return{usr:e.state,key:e.key,idx:t}}function yp(e,t,s=null,u){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lc(t):t,state:s,key:t&&t.key||u||rk()}}function oc({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function lc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let u=e.indexOf("?");u>=0&&(t.search=e.substring(u),e=e.substring(0,u)),e&&(t.pathname=e)}return t}function ik(e,t,s,u={}){let{window:a=document.defaultView,v5Compat:o=!1}=u,c=a.history,h="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function y(){h="POP";let R=g(),A=R==null?null:R-m;m=R,d&&d({action:h,location:P.location,delta:A})}function w(R,A){h="PUSH";let I=yp(P.location,R,A);m=g()+1;let L=w0(I,m),D=P.createHref(I);try{c.pushState(L,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(D)}o&&d&&d({action:h,location:P.location,delta:1})}function S(R,A){h="REPLACE";let I=yp(P.location,R,A);m=g();let L=w0(I,m),D=P.createHref(I);c.replaceState(L,"",D),o&&d&&d({action:h,location:P.location,delta:0})}function E(R){let A=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof R=="string"?R:oc(R);return I=I.replace(/ $/,"%20"),cr(A,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,A)}let P={get action(){return h},get location(){return e(a,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(_0,y),d=R,()=>{a.removeEventListener(_0,y),d=null}},createHref(R){return t(a,R)},createURL:E,encodeLocation(R){let A=E(R);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:S,go(R){return c.go(R)}};return P}function s1(e,t,s="/"){return ok(e,t,s,!1)}function ok(e,t,s,u){let a=typeof t=="string"?lc(t):t,o=os(a.pathname||"/",s);if(o==null)return null;let c=l1(e);ak(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=vk(o);h=mk(c[d],m,u)}return h}function l1(e,t=[],s=[],u=""){let a=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(cr(d.relativePath.startsWith(u),`Absolute route path "${d.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(u.length));let m=ya([u,d.relativePath]),g=s.concat(d);o.children&&o.children.length>0&&(cr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),l1(o.children,t,g,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:hk(m,o.index),routesMeta:g})};return e.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let d of u1(o.path))a(o,c,d)}),t}function u1(e){let t=e.split("/");if(t.length===0)return[];let[s,...u]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(u.length===0)return a?[o,""]:[o];let c=u1(u.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>e.startsWith("/")&&d===""?"/":d)}function ak(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:pk(t.routesMeta.map(u=>u.childrenIndex),s.routesMeta.map(u=>u.childrenIndex)))}var sk=/^:[\w-]+$/,lk=3,uk=2,ck=1,fk=10,dk=-2,x0=e=>e==="*";function hk(e,t){let s=e.split("/"),u=s.length;return s.some(x0)&&(u+=dk),t&&(u+=uk),s.filter(a=>!x0(a)).reduce((a,o)=>a+(sk.test(o)?lk:o===""?ck:fk),u)}function pk(e,t){return e.length===t.length&&e.slice(0,-1).every((u,a)=>u===t[a])?e[e.length-1]-t[t.length-1]:0}function mk(e,t,s=!1){let{routesMeta:u}=e,a={},o="/",c=[];for(let h=0;h<u.length;++h){let d=u[h],m=h===u.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!y&&m&&s&&!u[u.length-1].route.index&&(y=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:ya([o,y.pathname]),pathnameBase:xk(ya([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=ya([o,y.pathnameBase]))}return c}function rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,u]=gk(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:u.reduce((m,{paramName:g,isOptional:y},w)=>{if(g==="*"){let E=h[w]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[w];return y&&!S?m[g]=void 0:m[g]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function gk(e,t=!1,s=!0){Xo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let u=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(u.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(u.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),u]}function vk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xo(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,u=e.charAt(s);return u&&u!=="/"?null:e.slice(s)||"/"}function yk(e,t="/"){let{pathname:s,search:u="",hash:a=""}=typeof e=="string"?lc(e):e;return{pathname:s?s.startsWith("/")?s:_k(s,t):t,search:Sk(u),hash:bk(a)}}function _k(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Wh(e,t,s,u){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wk(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function c1(e){let t=wk(e);return t.map((s,u)=>u===t.length-1?s.pathname:s.pathnameBase)}function f1(e,t,s,u=!1){let a;typeof e=="string"?a=lc(e):(a={...e},cr(!a.pathname||!a.pathname.includes("?"),Wh("?","pathname","search",a)),cr(!a.pathname||!a.pathname.includes("#"),Wh("#","pathname","hash",a)),cr(!a.search||!a.search.includes("#"),Wh("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=s;else{let y=t.length-1;if(!u&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;a.pathname=w.join("/")}h=y>=0?t[y]:"/"}let d=yk(a,h),m=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var ya=e=>e.join("/").replace(/\/\/+/g,"/"),xk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ek(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var d1=["POST","PUT","PATCH","DELETE"];new Set(d1);var Tk=["GET",...d1];new Set(Tk);var Ql=$.createContext(null);Ql.displayName="DataRouter";var yd=$.createContext(null);yd.displayName="DataRouterState";var h1=$.createContext({isTransitioning:!1});h1.displayName="ViewTransition";var Ck=$.createContext(new Map);Ck.displayName="Fetchers";var kk=$.createContext(null);kk.displayName="Await";var Jo=$.createContext(null);Jo.displayName="Navigation";var _d=$.createContext(null);_d.displayName="Location";var xa=$.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Fp=$.createContext(null);Fp.displayName="RouteError";function Ak(e,{relative:t}={}){cr(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:u}=$.useContext(Jo),{hash:a,pathname:o,search:c}=cc(e,{relative:t}),h=o;return s!=="/"&&(h=o==="/"?s:ya([s,o])),u.createHref({pathname:h,search:c,hash:a})}function uc(){return $.useContext(_d)!=null}function Qs(){return cr(uc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(_d).location}var p1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m1(e){$.useContext(Jo).static||$.useLayoutEffect(e)}function Rk(){let{isDataRoute:e}=$.useContext(xa);return e?Gk():Pk()}function Pk(){cr(uc(),"useNavigate() may be used only in the context of a <Router> component.");let e=$.useContext(Ql),{basename:t,navigator:s}=$.useContext(Jo),{matches:u}=$.useContext(xa),{pathname:a}=Qs(),o=JSON.stringify(c1(u)),c=$.useRef(!1);return m1(()=>{c.current=!0}),$.useCallback((d,m={})=>{if(Xo(c.current,p1),!c.current)return;if(typeof d=="number"){s.go(d);return}let g=f1(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ya([t,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[t,s,o,a,e])}$.createContext(null);function cc(e,{relative:t}={}){let{matches:s}=$.useContext(xa),{pathname:u}=Qs(),a=JSON.stringify(c1(s));return $.useMemo(()=>f1(e,JSON.parse(a),u,t==="path"),[e,a,u,t])}function Lk(e,t,s,u){cr(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(Jo),{matches:o}=$.useContext(xa),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let A=g&&g.path||"";g1(d,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Qs(),w;w=y;let S=w.pathname||"/",E=S;if(m!=="/"){let A=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=s1(e,{pathname:E});return Xo(g||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Xo(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Nk(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:ya([m,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:ya([m,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,s,u)}function Ik(){let e=jk(),t=Ek(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,u="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:u},o={padding:"2px 4px",backgroundColor:u},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),s?$.createElement("pre",{style:a},s):null,c)}var Mk=$.createElement(Ik,null),Ok=class extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(xa.Provider,{value:this.props.routeContext},$.createElement(Fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uk({routeContext:e,match:t,children:s}){let u=$.useContext(Ql);return u&&u.static&&u.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(xa.Provider,{value:e},s)}function Nk(e,t=[],s=null,u=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let a=e,o=s==null?void 0:s.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);cr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(s)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:y}=s,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let y,w=!1,S=null,E=null;s&&(y=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||Mk,c&&(h<0&&g===0?(g1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):h===g&&(w=!0,E=m.route.hydrateFallbackElement||null)));let P=t.concat(a.slice(0,g+1)),R=()=>{let A;return y?A=S:w?A=E:m.route.Component?A=$.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=d,$.createElement(Uk,{match:m,routeContext:{outlet:d,matches:P,isDataRoute:s!=null},children:A})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?$.createElement(Ok,{location:s.location,revalidation:s.revalidation,component:S,error:y,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function zp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dk(e){let t=$.useContext(Ql);return cr(t,zp(e)),t}function Fk(e){let t=$.useContext(yd);return cr(t,zp(e)),t}function zk(e){let t=$.useContext(xa);return cr(t,zp(e)),t}function Bp(e){let t=zk(e),s=t.matches[t.matches.length-1];return cr(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function Bk(){return Bp("useRouteId")}function jk(){var u;let e=$.useContext(Fp),t=Fk("useRouteError"),s=Bp("useRouteError");return e!==void 0?e:(u=t.errors)==null?void 0:u[s]}function Gk(){let{router:e}=Dk("useNavigate"),t=Bp("useNavigate"),s=$.useRef(!1);return m1(()=>{s.current=!0}),$.useCallback(async(a,o={})=>{Xo(s.current,p1),s.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var S0={};function g1(e,t,s){!t&&!S0[e]&&(S0[e]=!0,Xo(!1,s))}$.memo(Wk);function Wk({routes:e,future:t,state:s}){return Lk(e,void 0,s,t)}function Hk({basename:e="/",children:t=null,location:s,navigationType:u="POP",navigator:a,static:o=!1}){cr(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof s=="string"&&(s=lc(s));let{pathname:d="/",search:m="",hash:g="",state:y=null,key:w="default"}=s,S=$.useMemo(()=>{let E=os(d,c);return E==null?null:{location:{pathname:E,search:m,hash:g,state:y,key:w},navigationType:u}},[c,d,m,g,y,w,u]);return Xo(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:$.createElement(Jo.Provider,{value:h},$.createElement(_d.Provider,{children:t,value:S}))}var Wf="get",Hf="application/x-www-form-urlencoded";function wd(e){return e!=null&&typeof e.tagName=="string"}function Vk(e){return wd(e)&&e.tagName.toLowerCase()==="button"}function Yk(e){return wd(e)&&e.tagName.toLowerCase()==="form"}function Xk(e){return wd(e)&&e.tagName.toLowerCase()==="input"}function Jk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qk(e,t){return e.button===0&&(!t||t==="_self")&&!Jk(e)}var Mf=null;function Kk(){if(Mf===null)try{new FormData(document.createElement("form"),0),Mf=!1}catch{Mf=!0}return Mf}var Qk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(e){return e!=null&&!Qk.has(e)?(Xo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hf}"`),null):e}function Zk(e,t){let s,u,a,o,c;if(Yk(e)){let h=e.getAttribute("action");u=h?os(h,t):null,s=e.getAttribute("method")||Wf,a=Hh(e.getAttribute("enctype"))||Hf,o=new FormData(e)}else if(Vk(e)||Xk(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||h.getAttribute("action");if(u=d?os(d,t):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||Wf,a=Hh(e.getAttribute("formenctype"))||Hh(h.getAttribute("enctype"))||Hf,o=new FormData(h,e),!Kk()){let{name:m,type:g,value:y}=e;if(g==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,y)}}else{if(wd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Wf,u=null,a=Hf,c=e}return o&&a==="text/plain"&&(c=o,o=void 0),{action:u,method:s.toLowerCase(),encType:a,formData:o,body:c}}function jp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function $k(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tA(e,t,s){let u=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await $k(o,s);return c.links?c.links():[]}return[]}));return oA(u.flat(1).filter(eA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function b0(e,t,s,u,a,o){let c=(d,m)=>s[m]?d.route.id!==s[m].route.id:!0,h=(d,m)=>{var g;return s[m].pathname!==d.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,m)=>c(d,m)||h(d,m)):o==="data"?t.filter((d,m)=>{var y;let g=u.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nA(e,t){return rA(e.map(s=>{let u=t.routes[s.route.id];if(!u)return[];let a=[u.module];return u.imports&&(a=a.concat(u.imports)),a}).flat(1))}function rA(e){return[...new Set(e)]}function iA(e){let t={},s=Object.keys(e).sort();for(let u of s)t[u]=e[u];return t}function oA(e,t){let s=new Set;return new Set(t),e.reduce((u,a)=>{let o=JSON.stringify(iA(a));return s.has(o)||(s.add(o),u.push({key:o,link:a})),u},[])}function aA(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sA(){let e=$.useContext(Ql);return jp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lA(){let e=$.useContext(yd);return jp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gp=$.createContext(void 0);Gp.displayName="FrameworkContext";function v1(){let e=$.useContext(Gp);return jp(e,"You must render this element inside a <HydratedRouter> element"),e}function uA(e,t){let s=$.useContext(Gp),[u,a]=$.useState(!1),[o,c]=$.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=t,w=$.useRef(null);$.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let P=A=>{A.forEach(I=>{c(I.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[e]),$.useEffect(()=>{if(u){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[u]);let S=()=>{a(!0)},E=()=>{a(!1),c(!1)};return s?e!=="intent"?[o,w,{}]:[o,w,{onFocus:Gu(h,S),onBlur:Gu(d,E),onMouseEnter:Gu(m,S),onMouseLeave:Gu(g,E),onTouchStart:Gu(y,S)}]:[!1,w,{}]}function Gu(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function cA({page:e,...t}){let{router:s}=sA(),u=$.useMemo(()=>s1(s.routes,e,s.basename),[s.routes,e,s.basename]);return u?$.createElement(dA,{page:e,matches:u,...t}):null}function fA(e){let{manifest:t,routeModules:s}=v1(),[u,a]=$.useState([]);return $.useEffect(()=>{let o=!1;return tA(e,t,s).then(c=>{o||a(c)}),()=>{o=!0}},[e,t,s]),u}function dA({page:e,matches:t,...s}){let u=Qs(),{manifest:a,routeModules:o}=v1(),{loaderData:c,matches:h}=lA(),d=$.useMemo(()=>b0(e,t,h,a,u,"data"),[e,t,h,a,u]),m=$.useMemo(()=>b0(e,t,h,a,u,"assets"),[e,t,h,a,u]),g=$.useMemo(()=>{if(e===u.pathname+u.search+u.hash)return[];let S=new Set,E=!1;if(t.forEach(R=>{var I;let A=a.routes[R.route.id];!A||!A.hasLoader||(!d.some(L=>L.route.id===R.route.id)&&R.route.id in c&&((I=o[R.route.id])!=null&&I.shouldRevalidate)||A.hasClientLoader?E=!0:S.add(R.route.id))}),S.size===0)return[];let P=aA(e);return E&&S.size>0&&P.searchParams.set("_routes",t.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[P.pathname+P.search]},[c,u,a,d,t,e,o]),y=$.useMemo(()=>nA(m,a),[m,a]),w=fA(m);return $.createElement($.Fragment,null,g.map(S=>$.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),y.map(S=>$.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),w.map(({key:S,link:E})=>$.createElement("link",{key:S,...E})))}function hA(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y1&&(window.__reactRouterVersion="7.1.0")}catch{}function pA({basename:e,children:t,window:s}){let u=$.useRef();u.current==null&&(u.current=nk({window:s,v5Compat:!0}));let a=u.current,[o,c]=$.useState({action:a.action,location:a.location}),h=$.useCallback(d=>{$.startTransition(()=>c(d))},[c]);return $.useLayoutEffect(()=>a.listen(h),[a,h]),$.createElement(Hk,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var _1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w1=$.forwardRef(function({onClick:t,discover:s="render",prefetch:u="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:m,preventScrollReset:g,viewTransition:y,...w},S){let{basename:E}=$.useContext(Jo),P=typeof m=="string"&&_1.test(m),R,A=!1;if(typeof m=="string"&&P&&(R=m,y1))try{let q=new URL(window.location.href),J=m.startsWith("//")?new URL(q.protocol+m):new URL(m),ie=os(J.pathname,E);J.origin===q.origin&&ie!=null?m=ie+J.search+J.hash:A=!0}catch{Xo(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Ak(m,{relative:a}),[L,D,F]=uA(u,w),G=yA(m,{replace:c,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function j(q){t&&t(q),q.defaultPrevented||G(q)}let W=$.createElement("a",{...w,...F,href:R||I,onClick:A||o?t:j,ref:hA(S,D),target:d,"data-discover":!P&&s==="render"?"true":void 0});return L&&!P?$.createElement($.Fragment,null,W,$.createElement(cA,{page:I})):W});w1.displayName="Link";var mA=$.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:u="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...m},g){let y=cc(c,{relative:m.relative}),w=Qs(),S=$.useContext(yd),{navigator:E,basename:P}=$.useContext(Jo),R=S!=null&&bA(y)&&h===!0,A=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=w.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(I=I.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&P&&(L=os(L,P)||L);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=I===A||!a&&I.startsWith(A)&&I.charAt(D)==="/",G=L!=null&&(L===A||!a&&L.startsWith(A)&&L.charAt(A.length)==="/"),j={isActive:F,isPending:G,isTransitioning:R},W=F?t:void 0,q;typeof u=="function"?q=u(j):q=[u,F?"active":null,G?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(j):o;return $.createElement(w1,{...m,"aria-current":W,className:q,ref:g,style:J,to:c,viewTransition:h},typeof d=="function"?d(j):d)});mA.displayName="NavLink";var gA=$.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:u,replace:a,state:o,method:c=Wf,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:y,...w},S)=>{let E=xA(),P=SA(h,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&_1.test(h),I=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let D=L.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||c;E(D||L.currentTarget,{fetcherKey:t,method:F,navigate:s,replace:a,state:o,relative:m,preventScrollReset:g,viewTransition:y})};return $.createElement("form",{ref:S,method:R,action:P,onSubmit:u?d:I,...w,"data-discover":!A&&e==="render"?"true":void 0})});gA.displayName="Form";function vA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(e){let t=$.useContext(Ql);return cr(t,vA(e)),t}function yA(e,{target:t,replace:s,state:u,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=Rk(),d=Qs(),m=cc(e,{relative:o});return $.useCallback(g=>{if(qk(g,t)){g.preventDefault();let y=s!==void 0?s:oc(d)===oc(m);h(e,{replace:y,state:u,preventScrollReset:a,relative:o,viewTransition:c})}},[d,h,m,s,u,t,e,a,o,c])}var _A=0,wA=()=>`__${String(++_A)}__`;function xA(){let{router:e}=x1("useSubmit"),{basename:t}=$.useContext(Jo),s=Bk();return $.useCallback(async(u,a={})=>{let{action:o,method:c,encType:h,formData:d,body:m}=Zk(u,t);if(a.navigate===!1){let g=a.fetcherKey||wA();await e.fetch(g,s,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,s])}function SA(e,{relative:t}={}){let{basename:s}=$.useContext(Jo),u=$.useContext(xa);cr(u,"useFormAction must be used inside a RouteContext");let[a]=u.matches.slice(-1),o={...cc(e||".",{relative:t})},c=Qs();if(e==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:ya([s,o.pathname])),oc(o)}function bA(e,t={}){let s=$.useContext(h1);cr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=x1("useViewTransitionState"),a=cc(e,{relative:t.relative});if(!s.isTransitioning)return!1;let o=os(s.currentLocation.pathname,u)||s.currentLocation.pathname,c=os(s.nextLocation.pathname,u)||s.nextLocation.pathname;return rd(a.pathname,c)!=null||rd(a.pathname,o)!=null}new TextEncoder;const Of={status:{success:"#28a745",error:"#dc3545",warning:"#ffc107",info:"#007bff"},accent:"#00bcd4",neutrals:{}},es={0:"#ffffff",50:"#e5e5e5",100:"#c8c8c8",200:"#a0a0a0",300:"#7a7a7a",400:"#5a5a5a",500:"#444444",600:"#303030",700:"#1f1f1f",800:"#151515",900:"#0c0c0c",950:"#000000"},ma={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},cn={neutrals:es,primary:"#007bff",secondary:"#6c757d",success:Of.status.success,warning:Of.status.warning,error:Of.status.error,accent:Of.accent,surfaces:{background:ma[950],panel:ma[900],card:ma[800],header:ma[800],footer:ma[800],modal:ma[900],overlay:"rgba(0, 0, 0, 0.5)",toolbar:ma[900],sidebar:ma[800]},text:{primary:es[0],secondary:es[100],muted:es[500],inverted:es[950],placeholder:es[600],hover:es[50],active:es[100]},border:ma[900]},EA={navigationBar:{background:cn.surfaces.toolbar,text:cn.text.primary,border:cn.border,hover:cn.text.hover,active:cn.text.active,accent:cn.accent},panel:{background:cn.surfaces.panel,border:cn.border,text:cn.text.primary,shadow:"0 0 10px 2px rgba(0, 0, 0, 0.2)"},button:{primary:{background:cn.primary,text:cn.text.primary,border:cn.border,hover:cn.text.hover},secondary:{background:cn.secondary,text:cn.text.secondary,border:cn.border,hover:cn.text.hover}},card:{background:cn.surfaces.card,text:cn.text.primary,border:cn.border},tooltip:{background:cn.surfaces.overlay,text:cn.text.primary},scrollbar:{thumb:cn.neutrals[700],track:cn.neutrals[900]},inputField:{background:cn.surfaces.card,text:cn.text.primary,border:cn.border,placeholder:cn.text.placeholder,hover:cn.text.hover,focus:cn.primary,disabled:{background:cn.neutrals[100],text:cn.text.muted,border:cn.neutrals[200]}}},TA={fontSize:{small:"12px",medium:"14px",large:"16px"},lineHeightSmall:"1.2",lineHeightMedium:"1.5",lineHeightLarge:"1.8",fontFamily:"Montserrat, sans-serif"},CA={unit:8,small:"4px",medium:"8px",large:"16px",extraLarge:"24px",gap:"12px"},Vh={colors:cn,components:EA,typography:TA,spacing:CA},kA=qT`

  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
    cursor: default;
    background-color: rgb(15 23 42 / var(--tw-bg-opacity, 1));
  }
  html {
    font-family: 'Montserrat', sans-serif;
  }

  /* Works on Chrome, Edge, and Safari */
  *::-webkit-scrollbar {
    width: 0.75rem; /* width of the entire scrollbar */
  }

  *::-webkit-scrollbar-track {
    background: rgb(0, 0, 0, 0); /* color of the track */
  }

  *::-webkit-scrollbar-thumb {
    background-color: ${({theme:e})=>e.components.scrollbar.thumb}; /* color of the scroll thumb */
    border-radius: 5px; /* roundness of the scroll thumb */
    border: 3px solid rgb(0, 0, 0, 0); /* creates padding around the scroll thumb */
  }
`,AA=Ft.div`
  display: flex;
  flex-direction: row;
  /* background-color: ${e=>e.theme.colors.surfaces.background}; */
  background-color: #000;
  color: ${e=>e.theme.colors.text.primary};
`,RA=Si.createContext(void 0),PA=({children:e})=>{const t=ql(u=>u.theme.mode);let s=Vh;switch(t){default:s=Vh}return console.log(Vh),Pe.jsx(RA.Provider,{value:{theme:s},children:Pe.jsxs(YT,{theme:s,children:[Pe.jsx(kA,{}),Pe.jsx(AA,{children:e})]})})};H2.createRoot(document.getElementById("root")).render(Pe.jsx($.StrictMode,{children:Pe.jsx(pA,{children:Pe.jsx(jE,{store:a1,children:Pe.jsx(PA,{children:Pe.jsx(ek,{})})})})}));
